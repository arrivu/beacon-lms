(function(){define(["jquery","ember","../lib/store","ic-ajax"],function(e,t,i,r){var n,s,o,u,a,d;return d=r.request,a=t.get,u=t.computed,s=u.alias,o=u.bool,n=t.Object.extend({error:!1,hasError:o("error"),module:function(){return i.find("module",this.get("module_id"))}.property("module_id"),pointsPossible:s("content_details.points_possible"),due:s("content_details.due_at"),serialize:function(){return this.getProperties(["completion_requirement","content_id","external_url","indent","module_id","new_tab","page_url","position","title","type"])},save:function(){var e=this;return this.set("isSaving",!0),d({data:{module_item:this.serialize()},type:this.get("id")?"put":"post",url:this.get("apiUrl")}).then(function(t){return e.setProperties(t),e.set("isSaving",!1)},function(){return e.set("isSaving",!1),e.set("error",!0)})},apiUrl:function(){var e,t;return t=this.get("id"),e="/api/v1/courses/"+ENV.course_id+"/modules/"+this.get("module_id")+"/items",t?""+e+"/"+t:e}.property("id")}),n.reopenClass({createRecord:function(e){return i.push("item",this.create(e))}}),i.register("item",n)})}).call(this);