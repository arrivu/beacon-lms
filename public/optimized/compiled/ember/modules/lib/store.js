(function(){define(["ember","ic-ajax"],function(e,t){var i,r,s;return r=t.request,i=e.get,s=e.set,this.store={courseId:ENV.course_id,types:{},cache:{},register:function(e,t){return this.types[e]=t,this.cache[e]={},t},lookup:function(e){return this.types[e]},push:function(e,t){return this.cache[e][i(t,"id")]=t},find:function(e,t){return this.cache[e][t]},moveItem:function(e,t,r){var u,o;return o=this.find("module",t),u=this.find("module",e.module_id),i(u,"items").removeObject(e),s(e,"module_id",t),i(o,"items").insertAt(r,e)},syncModuleItemsOrder:function(e){var t,s,u;return u=this.find("module",e),s=i(u,"items"),t=s.mapBy("id").join(","),r({url:"/courses/"+this.courseId+"/modules/"+e+"/reorder",data:{order:t},type:"post"})},syncItemById:function(e){var t;return t=this.find("item",e),r({url:"/api/v1/courses/"+this.courseId+"/modules/"+t.module_id+"/items/"+e,data:{module_item:t.serialize()},type:"put"})},removeItemById:function(e){var t,s;return t=this.find("item",e),s=this.find("module",i(t,"module_id")),i(s,"items").removeObject(t),r({url:"/api/v1/courses/"+this.courseId+"/modules/"+e+"/items/"+i(t,"id"),type:"delete"})}}})}).call(this);