define("translations/LongTextEditor",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{LongTextEditor:{cancel:"إلغاء",save:"حفظ"}},de:{LongTextEditor:{cancel:"Abbrechen",save:"Speichern"}},"en-AU":{LongTextEditor:{cancel:"Cancel",save:"Save"}},"en-GB":{LongTextEditor:{cancel:"Cancel",save:"Save"}},es:{LongTextEditor:{cancel:"Cancelar",save:"Guardar"}},"fa-IR":{LongTextEditor:{cancel:"لغو",save:"ذخیره سازی"}},fr:{LongTextEditor:{cancel:"Annuler",save:"Enregistrer"}},ja:{LongTextEditor:{cancel:"キャンセル",save:"保存"}},nb:{LongTextEditor:{cancel:"Avbryt",save:"Lagre"}},nl:{LongTextEditor:{cancel:"Annuleren",save:"Opslaan"}},pl:{LongTextEditor:{cancel:"Anuluj",save:"Zapisz"}},pt:{LongTextEditor:{cancel:"Cancelar",save:"Guardar"}},"pt-BR":{LongTextEditor:{cancel:"Cancelar",save:"Salvar"}},ru:{LongTextEditor:{cancel:"Отменить",save:"Сохранить"}},tr:{LongTextEditor:{cancel:"İptal",save:"Kaydet"}},zh:{LongTextEditor:{cancel:"取消",save:"保存"}},zh_Hant:{LongTextEditor:{cancel:"取消",save:"儲存"}}}})}),define("slickgrid.long_text_editor",["jquery","i18n!LongTextEditor"],function(e,t){function n(n){var o,i,s,r=this;this.init=function(){var s=e("body");i=e("<DIV class=dontblur style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(s),o=e("<TEXTAREA hidefocus maxlength="+n.maxLength+" rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(i);var a=t.t("save","Save"),l=t.t("cancel","Cancel");e("<DIV style='text-align:right'><BUTTON>"+a+"</BUTTON><BUTTON>"+l+"</BUTTON></DIV>").appendTo(i),i.find("button:first").bind("click",this.save),i.find("button:last").bind("click",this.cancel),o.bind("keydown",this.handleKeyDown),r.position(n.position),o.focus().select()},this.handleKeyDown=function(t){t.which==e.ui.keyCode.ENTER&&t.ctrlKey?r.save():t.which==e.ui.keyCode.ESCAPE?(t.preventDefault(),r.cancel()):t.which==e.ui.keyCode.TAB&&t.shiftKey?(t.preventDefault(),n.grid.navigatePrev()):t.which==e.ui.keyCode.TAB&&(t.preventDefault(),n.grid.navigateNext())},this.save=function(){n.commitChanges()},this.cancel=function(){o.val(s),n.cancelChanges()},this.hide=function(){i.hide()},this.show=function(){i.show()},this.position=function(e){i.css("top",e.top-5).css("left",e.left-5)},this.destroy=function(){i.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){o.val(s=e[n.column.field]),o.select()},this.serializeValue=function(){return o.val()},this.applyValue=function(e,t){e[n.column.field]=t},this.isValueChanged=function(){return!(""==o.val()&&null==s)&&o.val()!=s},this.validate=function(){return{valid:!0,msg:null}},this.init()}return n}),define("jst/KeyboardNavDialog",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.KeyboardNavDialog=t(function(e,t,n,o,i){function s(e,t){var o,i,s="";return s+='\n  <li>\n    <span class="keycode">',(i=n.key)?o=i.call(e,{hash:{},data:t}):(i=e&&e.key,o=typeof i===l?i.call(e,{hash:{},data:t}):i),s+=u(o)+'</span>\n    <span class="colon">:</span>\n    <span class="description">',(i=n.desc)?o=i.call(e,{hash:{},data:t}):(i=e&&e.desc,o=typeof i===l?i.call(e,{hash:{},data:t}):i),s+=u(o)+"</span>\n  </li>\n  "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var r,a="",l="function",u=this.escapeExpression,d=this;return a+='<ul class="navigation_list" tabindex="-1">\n  ',r=n.each.call(t,t&&t.keyBindings,{hash:{},inverse:d.noop,fn:d.program(1,s,i),data:i}),(r||0===r)&&(a+=r),a+="\n</ul>\n"}),n.KeyboardNavDialog}),define("vendor/slickgrid/lib/jquery.event.drag-2.2",["jquery"],function(){!function(e){e.fn.drag=function(t,n,o){var i="string"==typeof t?t:"",s=e.isFunction(t)?t:e.isFunction(n)?n:null;return 0!==i.indexOf("drag")&&(i="drag"+i),o=(t==s?n:o)||{},s?this.bind(i,o,s):this.trigger(i)};var t=e.event,n=t.special,o=n.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(t){var n=e.data(this,o.datakey),i=t.data||{};n.related+=1,e.each(o.defaults,function(e){void 0!==i[e]&&(n[e]=i[e])})},remove:function(){e.data(this,o.datakey).related-=1},setup:function(){if(!e.data(this,o.datakey)){var n=e.extend({related:0},o.defaults);e.data(this,o.datakey,n),t.add(this,"touchstart mousedown",o.init,n),this.attachEvent&&this.attachEvent("ondragstart",o.dontstart)}},teardown:function(){var n=e.data(this,o.datakey)||{};n.related||(e.removeData(this,o.datakey),t.remove(this,"touchstart mousedown",o.init),o.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",o.dontstart))},init:function(i){if(!o.touched){var s,r=i.data;if(!(0!=i.which&&r.which>0&&i.which!=r.which||e(i.target).is(r.not)||r.handle&&!e(i.target).closest(r.handle,i.currentTarget).length||(o.touched="touchstart"==i.type?this:null,r.propagates=1,r.mousedown=this,r.interactions=[o.interaction(this,r)],r.target=i.target,r.pageX=i.pageX,r.pageY=i.pageY,r.dragging=null,s=o.hijack(i,"draginit",r),!r.propagates)))return s=o.flatten(s),s&&s.length&&(r.interactions=[],e.each(s,function(){r.interactions.push(o.interaction(this,r))})),r.propagates=r.interactions.length,r.drop!==!1&&n.drop&&n.drop.handler(i,r),o.textselect(!1),o.touched?t.add(o.touched,"touchmove touchend",o.handler,r):t.add(document,"mousemove mouseup",o.handler,r),!o.touched||r.live?!1:void 0}},interaction:function(t,n){var i=e(t)[n.relative?"position":"offset"]()||{top:0,left:0};return{drag:t,callback:new o.callback,droppable:[],offset:i}},handler:function(i){var s=i.data;switch(i.type){case!s.dragging&&"touchmove":i.preventDefault();case!s.dragging&&"mousemove":if(Math.pow(i.pageX-s.pageX,2)+Math.pow(i.pageY-s.pageY,2)<Math.pow(s.distance,2))break;i.target=s.target,o.hijack(i,"dragstart",s),s.propagates&&(s.dragging=!0);case"touchmove":i.preventDefault();case"mousemove":if(s.dragging){if(o.hijack(i,"drag",s),s.propagates){s.drop!==!1&&n.drop&&n.drop.handler(i,s);break}i.type="mouseup"}case"touchend":case"mouseup":default:o.touched?t.remove(o.touched,"touchmove touchend",o.handler):t.remove(document,"mousemove mouseup",o.handler),s.dragging&&(s.drop!==!1&&n.drop&&n.drop.handler(i,s),o.hijack(i,"dragend",s)),o.textselect(!0),s.click===!1&&s.dragging&&e.data(s.mousedown,"suppress.click",(new Date).getTime()+5),s.dragging=o.touched=!1}},hijack:function(n,i,s,r,a){if(s){var l,u,d,c={event:n.originalEvent,type:n.type},g=i.indexOf("drop")?"drag":"drop",h=r||0,m=isNaN(r)?s.interactions.length:r;n.type=i,n.originalEvent=null,s.results=[];do if(u=s.interactions[h]){if("dragend"!==i&&u.cancelled)continue;d=o.properties(n,s,u),u.results=[],e(a||u[g]||s.droppable).each(function(r,a){return d.target=a,n.isPropagationStopped=function(){return!1},l=a?t.dispatch.call(a,n,d):null,l===!1?("drag"==g&&(u.cancelled=!0,s.propagates-=1),"drop"==i&&(u[g][r]=null)):"dropinit"==i&&u.droppable.push(o.element(l)||a),"dragstart"==i&&(u.proxy=e(o.element(l)||u.drag)[0]),u.results.push(l),delete n.result,"dropinit"!==i?l:void 0}),s.results[h]=o.flatten(u.results),"dropinit"==i&&(u.droppable=o.flatten(u.droppable)),"dragstart"!=i||u.cancelled||d.update()}while(++h<m);return n.type=c.type,n.originalEvent=c.event,o.flatten(s.results)}},properties:function(e,t,n){var i=n.callback;return i.drag=n.drag,i.proxy=n.proxy||n.drag,i.startX=t.pageX,i.startY=t.pageY,i.deltaX=e.pageX-t.pageX,i.deltaY=e.pageY-t.pageY,i.originalX=n.offset.left,i.originalY=n.offset.top,i.offsetX=i.originalX+i.deltaX,i.offsetY=i.originalY+i.deltaY,i.drop=o.flatten((n.drop||[]).slice()),i.available=o.flatten((n.droppable||[]).slice()),i},element:function(e){return e&&(e.jquery||1==e.nodeType)?e:void 0},flatten:function(t){return e.map(t,function(t){return t&&t.jquery?e.makeArray(t):t&&t.length?o.flatten(t):t})},textselect:function(t){e(document)[t?"unbind":"bind"]("selectstart",o.dontstart).css("MozUserSelect",t?"":"none"),document.unselectable=t?"off":"on"},dontstart:function(){return!1},callback:function(){}};o.callback.prototype={update:function(){n.drop&&this.available.length&&e.each(this.available,function(e){n.drop.locate(this,e)})}};var i=t.dispatch;t.dispatch=function(t){return e.data(this,"suppress."+t.type)-(new Date).getTime()>0?void e.removeData(this,"suppress."+t.type):i.apply(this,arguments)};var s=t.fixHooks.touchstart=t.fixHooks.touchmove=t.fixHooks.touchend=t.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(t,n){if(n){var o=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0]||null;o&&e.each(s.props,function(e,n){t[n]=o[n]})}return t}};n.draginit=n.dragstart=n.dragend=o}(jQuery)}),define("vendor/slickgrid/slick.core",["jquery","vendor/slickgrid/lib/jquery.event.drag-2.2"],function(){!function(e){function t(){var e=!1,t=!1;this.stopPropagation=function(){e=!0},this.isPropagationStopped=function(){return e},this.stopImmediatePropagation=function(){t=!0},this.isImmediatePropagationStopped=function(){return t}}function n(){var e=[];this.subscribe=function(t){e.push(t)},this.unsubscribe=function(t){for(var n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1)},this.notify=function(n,o,i){o=o||new t,i=i||this;for(var s,r=0;r<e.length&&!o.isPropagationStopped()&&!o.isImmediatePropagationStopped();r++)s=e[r].call(i,o,n);return s}}function o(){var e=[];this.subscribe=function(t,n){return e.push({event:t,handler:n}),t.subscribe(n),this},this.unsubscribe=function(t,n){for(var o=e.length;o--;)if(e[o].event===t&&e[o].handler===n)return e.splice(o,1),void t.unsubscribe(n);return this},this.unsubscribeAll=function(){for(var t=e.length;t--;)e[t].event.unsubscribe(e[t].handler);return e=[],this}}function i(e,t,n,o){void 0===n&&void 0===o&&(n=e,o=t),this.fromRow=Math.min(e,n),this.fromCell=Math.min(t,o),this.toRow=Math.max(e,n),this.toCell=Math.max(t,o),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(e,t){return e>=this.fromRow&&e<=this.toRow&&t>=this.fromCell&&t<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}}function s(){this.__nonDataRow=!0}function r(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function a(){this.__groupTotals=!0,this.group=null}function l(){var e=null;this.isActive=function(t){return t?e===t:null!==e},this.activate=function(t){if(t!==e){if(null!==e)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!t.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!t.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";e=t}},this.deactivate=function(t){if(e!==t)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";e=null},this.commitCurrentEdit=function(){return e?e.commitCurrentEdit():!0},this.cancelCurrentEdit=function(){return e?e.cancelCurrentEdit():!0}}e.extend(!0,window,{Slick:{Event:n,EventData:t,EventHandler:o,Range:i,NonDataRow:s,Group:r,GroupTotals:a,EditorLock:l,GlobalEditorLock:new l}}),r.prototype=new s,r.prototype.equals=function(e){return this.value===e.value&&this.count===e.count&&this.collapsed===e.collapsed&&this.title===e.title},a.prototype=new s}(jQuery)}),define("vendor/slickgrid/slick.grid",["jquery","vendor/slickgrid/slick.core"],function(jQuery){if("undefined"==typeof jQuery)throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"==typeof Slick)throw"slick.core.js not loaded";!function($){function SlickGrid(container,data,columns,options){function init(){if($outerContainer=$(container),$container_1=$outerContainer,$outerContainer.length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),options=$.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,columnsById={};for(var e=0;e<columns.length;e++){var t=columns[e]=$.extend({},columnDefaults,columns[e]);columnsById[t.id]=e,t.minWidth&&t.width<t.minWidth&&(t.width=t.minWidth),t.maxWidth&&t.width>t.maxWidth&&(t.width=t.maxWidth)}if(options.enableColumnReorder&&!$.fn.sortable)throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");if(editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$outerContainer.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),$container_1.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($outerContainer.css("position"))||$outerContainer.css("position","relative"),/relative|absolute|fixed/.test($container_1.css("position"))||$container_1.css("position","relative"),$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($outerContainer),options.numberOfColumnsToFreeze>0){for(var n=0,o={overflow:"hidden",position:"absolute",left:0,top:0,bottom:0,outline:0},i=uid+" ui-widget",e=0,s=columns.length;s>e&&e<options.numberOfColumnsToFreeze;e++)n+=columns[e].width;$container_0=$("<div class='container_0'></div>").css($.extend({},o,{width:n})).addClass(i).appendTo($outerContainer),$container_1=$("<div class='container_1'></div>").css($.extend({},o,{left:n,right:0})).addClass(i).appendTo($outerContainer),$headerScroller_0=$("<div class='headerScroller_0 slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_0),$headers_0=$("<div class='headers_0 slick-header-columns' style='left:-1000px' />").appendTo($headerScroller_0),$headerRowScroller_0=$("<div class='headerRowScroller_0 slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_0),$headerRow_0=$("<div class='headerRow_0 slick-headerrow-columns' />").appendTo($headerRowScroller_0),$headerRowSpacer_0=$("<div class='headerRowSpacer_0' style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScroller_0),$topPanelScroller_0=$("<div class='topPanelScroller_0 slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_0),$topPanel_0=$("<div class='topPanel_0 slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller_0),options.showTopPanel||$topPanelScroller_0.hide(),options.showHeaderRow||$headerRowScroller_0.hide(),$viewport_0=$("<div class='viewport_0 slick-viewport' style='width:100%;overflow:hidden;outline:0;position:relative;'>").appendTo($container_0),$canvas_0=$("<div class='canvas_0 grid-canvas' />").appendTo($viewport_0)}$headerScroller_1=$("<div class='headerScroller_1 slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_1),$headers_1=$("<div class='headers_1 slick-header-columns' style='left:-1000px' />").appendTo($headerScroller_1);var r=getHeadersWidth();options.numberOfColumnsToFreeze>0?($headers_0.width(r.frozen+1e3),$headers_1.width(r.nonFrozen)):$headers_1.width(r.nonFrozen),$headerRowScroller_1=$("<div class='headerRowScroller_1 slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_1),$headerRow_1=$("<div class='headerRow_1 slick-headerrow-columns' />").appendTo($headerRowScroller_1),$headerRowSpacer_1=$("<div class='headerRowSpacer_1' style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScroller_1);var a=getCanvasWidth();$headerRowSpacer_1.css("width",a.nonFrozen+scrollbarDimensions.width+"px"),options.numberOfColumnsToFreeze>0&&$headerRowSpacer_0.css("width",a.frozen+"px"),$topPanelScroller_1=$("<div class='topPanelScroller_1 slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_1),$topPanel_1=$("<div class='topPanel_1 slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller_1),options.showTopPanel||$topPanelScroller_1.hide(),options.showHeaderRow||$headerRowScroller_1.hide(),$viewport_1=$("<div class='viewport_1 slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;'>").appendTo($container_1),$viewport_1.css("overflow-y",options.autoHeight?"hidden":"auto"),$canvas_1=$("<div class='canvas_1 grid-canvas' />").appendTo($viewport_1),$focusSink2=$focusSink.clone().appendTo($outerContainer),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,viewportW_1=parseFloat($.css($outerContainer[0],"width",!0)),measureCellPaddingAndBorder(),disableSelection($headers_1),options.enableTextSelectionOnCells||$viewport_1.bind("selectstart.ui",function(e){return $(e.target).is("input,textarea")}),updateColumnCaches(),createColumnHeaders(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$outerContainer.bind("resize.slickgrid",resizeCanvas),$container_1.bind("resize.slickgrid",resizeCanvas),$viewport_1.bind("scroll",handleScroll).bind("click",handleClick),$headerScroller_1.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller_1.bind("scroll",handleHeaderRowScroll),$focusSink.add($focusSink2).bind("keydown",handleKeyDown),$canvas_1.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",{distance:3},handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave),options.numberOfColumnsToFreeze>0&&($container_0.bind("resize.slickgrid",resizeCanvas),$viewport_0.bind("mousewheel",function(e){var t=e.originalEvent.wheelDelta,n=scrollTop-t;0>n&&(n=0),handleScroll({wheelDelta:t,scrollTop:n})}),$headerScroller_0.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller_0.bind("scroll",handleHeaderRowScroll),$canvas_0.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",{distance:3},handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave)))}function registerPlugin(e){plugins.unshift(e),e.init(self)}function unregisterPlugin(e){for(var t=plugins.length;t>=0;t--)if(plugins[t]===e){plugins[t].destroy&&plugins[t].destroy(),plugins.splice(t,1);break}}function setSelectionModel(e){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),selectionModel=e,selectionModel&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){var e=$canvas_1[0];return e}function measureScrollbar(){var e=$("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t}function getHeadersWidth(){for(var e=0,t=0,n=options.numberOfColumnsToFreeze,o=0,i=columns.length;i>o;o++){var s=columns[o].width;n>o?e+=s:t+=s}return e+=1e3,t+=scrollbarDimensions.width,t=Math.max(t,viewportW_1)+1e3,{frozen:e,nonFrozen:t}}function getCanvasWidth(){for(var e=viewportHasVScroll_1?viewportW_1-scrollbarDimensions.width:viewportW_1,t=0,n=0,o=options.numberOfColumnsToFreeze,i=columns.length;i--;){var s=columns[i].width;o>i?t+=s:n+=s}return n=options.fullWidthRows?Math.max(n,e):n,{frozen:t,nonFrozen:n}}function updateCanvasWidth(e){var t=canvasWidth_0,n=canvasWidth_1,o=getCanvasWidth();canvasWidth_0=o.frozen,canvasWidth_1=o.nonFrozen;var i=getHeadersWidth(),s=0;options.numberOfColumnsToFreeze>0&&canvasWidth_0!=t&&($canvas_0.width(canvasWidth_0),$headerRow_0.width(canvasWidth_0),$headers_0.width(i.frozen),$headerRowSpacer_0.width(canvasWidth_0),void 0!=t&&(s=canvasWidth_0-t,canvasWidth_1-=s,viewportW_1-=s,$container_0[0].style.width=parseInt($container_0[0].style.width)+s+"px",$container_1[0].style.left=canvasWidth_0+"px",$container_1[0].style.width=parseInt($container_1[0].style.width)-s+"px")),(canvasWidth_1!=n||0!=s)&&($canvas_1.width(canvasWidth_1),$headerRow_1.width(canvasWidth_1),$headers_1.width(i.nonFrozen),viewportHasHScroll_1=canvasWidth_1>viewportW_1-scrollbarDimensions.width),$headerRowSpacer_1.width(canvasWidth_1+(viewportHasVScroll_1?scrollbarDimensions.width:0)),(canvasWidth_1!=n||e||0!=s)&&applyColumnWidths()}function disableSelection(e){e&&e.jquery&&e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){for(var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=$("<div style='display:none' />").appendTo(document.body);;){var o=2*e;if(n.css("height",o),o>t||n.height()!==o)break;e=o}return n.remove(),e}function bindAncestorScrollEvents(){for(var e=$canvas_1[0];(e=e.parentNode)!=document.body&&null!=e;)if(e==$viewport_1[0]||e.scrollWidth!=e.clientWidth||e.scrollHeight!=e.clientHeight){var t=$(e);$boundAncestors=$boundAncestors?$boundAncestors.add(t):t,t.bind("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.unbind("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(e,t,n){if(initialized){var o=getColumnIndex(e);if(null!=o){var i=columns[o],s=[];options.numberOfColumnsToFreeze>0&&s.push($headers_0.children()),s.push($headers_1.children());for(var r=0;r<s.length;r++){var a=$headers[r].eq(o);a&&(void 0!==t&&(columns[o].name=t),void 0!==n&&(columns[o].toolTip=n),trigger(self.onBeforeHeaderCellDestroy,{node:a[0],column:i}),a.attr("title",n||"").children().eq(0).html(t),trigger(self.onHeaderCellRendered,{node:a[0],column:i}))}}}}function getHeaderRow(){return $headerRow_1[0]}function getHeaderRowColumn(e){var t,n=getColumnIndex(e);t=options.numberOfColumnsToFreeze?$($.merge($.merge([],$headerRow_0),$headerRow_1)):$headerRow_1;var o=t.children().eq(n);return o&&o[0]}function createColumnHeaders(){function e(){$(this).addClass("ui-state-hover")}function t(){$(this).removeClass("ui-state-hover")}$headers_1.find(".slick-header-column").each(function(){var e=$(this).data("column");e&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:e})}),$headers_1.empty();var n=getHeadersWidth();$headers_1.width(n.nonFrozen);var o=options.numberOfColumnsToFreeze;o>0&&($headers_0.empty(),$headers_0.width(n.frozen));var i;i=$headerRow_1,o>0&&(i=$($.merge($.merge([],$headerRow_0),$headerRow_1))),i.find(".slick-headerrow-column").each(function(){var e=$(this).data("column");e&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:e})}),i.empty();for(var s=0;s<columns.length;s++){var r=columns[s],a=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+r.name+"</span>").width(r.width-headerColumnWidthDiff).attr("id",""+uid+r.id).attr("title",r.toolTip||"").data("column",r).addClass(r.headerCssClass||"").appendTo(o>s?$headers_0:$headers_1);if((options.enableColumnReorder||r.sortable)&&a.on("mouseenter",e).on("mouseleave",t),r.sortable&&(a.addClass("slick-header-sortable"),a.append("<span class='slick-sort-indicator' />")),trigger(self.onHeaderCellRendered,{node:a[0],column:r}),options.showHeaderRow){var l=$("<div class='ui-state-default slick-headerrow-column l"+s+" r"+s+"'></div>").data("column",r).appendTo(o>s?$headerRow_0:$headerRow_1);trigger(self.onHeaderRowCellRendered,{node:l[0],column:r})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&setupColumnReorder()}function setupColumnSort(){$headers_1.add(options.numberOfColumnsToFreeze?$headers_0:null).click(function(e){if(e.metaKey=e.metaKey||e.ctrlKey,!$(e.target).hasClass("slick-resizable-handle")){var t=$(e.target).closest(".slick-header-column");if(t.length){var n=t.data("column");if(n.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var o=null,i=0;i<sortColumns.length;i++)if(sortColumns[i].columnId==n.id){o=sortColumns[i],o.sortAsc=!o.sortAsc;break}e.metaKey&&options.multiColumnSort?o&&sortColumns.splice(i,1):((e.shiftKey||e.metaKey)&&options.multiColumnSort||(sortColumns=[]),o?0==sortColumns.length&&sortColumns.push(o):(o={columnId:n.id,sortAsc:n.defaultSortAsc},sortColumns.push(o))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:$.map(sortColumns,function(e){return{sortCol:columns[getColumnIndex(e.columnId)],sortAsc:e.sortAsc}})},e):trigger(self.onSort,{multiColumnSort:!1,sortCol:n,sortAsc:o.sortAsc},e)}}}})}function setupColumnReorder(){options.numberOfColumnsToFreeze>0&&($headers_0.filter(":ui-sortable").sortable("destroy"),$headers_0.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(e,t){t.placeholder.width(t.helper.outerWidth()-headerColumnWidthDiff),$(t.helper).addClass("slick-header-column-active")},beforeStop:function(e,t){$(t.helper).removeClass("slick-header-column-active")},stop:function(e){if(!getEditorLock().commitCurrentEdit())return void $(this).sortable("cancel");for(var t=$headers_0.sortable("toArray"),n=[],o=0;o<t.length;o++){var i=t[o].replace(uid,""),s=getColumnIndex(i),r=columns[s];n.push(r)}for(var a=options.numberOfColumnsToFreeze;a<columns.length;a++)n.push(columns[a]);setColumns(n),trigger(self.onColumnsReordered,{}),e.stopPropagation(),setupColumnResize()}})),$headers_1.filter(":ui-sortable").sortable("destroy"),$headers_1.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(e,t){$(t.helper).addClass("slick-header-column-active")},beforeStop:function(e,t){$(t.helper).removeClass("slick-header-column-active")},stop:function(e){if(!getEditorLock().commitCurrentEdit())return void $(this).sortable("cancel");for(var t=$headers_1.sortable("toArray"),n=[],o=0;o<options.numberOfColumnsToFreeze;o++)n.push(columns[o]);for(var i=0;i<t.length;i++){var s=t[i].replace(uid,""),r=getColumnIndex(s),a=columns[r];n.push(a)}setColumns(n),trigger(self.onColumnsReordered,{}),e.stopPropagation(),setupColumnResize()}})}function setupColumnResize(){var e,t,n,o,i,s,r,a,l,u,d=[];options.numberOfColumnsToFreeze>0&&d.push($headers_0.children()),d.push($headers_1.children());for(var c=0;c<d.length;c++){if(i=d[c],u=isPartOfAFrozenColumn(i),i.find(".slick-resizable-handle").remove(),i.each(function(e){var t=getIndexOffset(u,e);columns[t].resizable&&(void 0===a&&(a=e),l=e)}),void 0===a)return;i.each(function(d,c){a>d||options.forceFitColumns&&d>=l||(e=$(c),$("<div class='slick-resizable-handle' />").appendTo(c).bind("dragstart",function(e){if(u=isPartOfAFrozenColumn(this),i=getColumnElements(this),!getEditorLock().commitCurrentEdit())return!1;o=e.pageX,$(this).parent().addClass("slick-header-column-active");var a=null,l=null;if(i.each(function(e,t){var n=getIndexOffset(u,e);columns[n].previousWidth=$(t).outerWidth()}),options.forceFitColumns){a=0,l=0;var c;for(t=d+1;t<i.length;t++)c=getIndexOffset(u,t),n=columns[c],n.resizable&&(null!==l&&(n.maxWidth?l+=n.maxWidth-n.previousWidth:l=null),a+=n.previousWidth-Math.max(n.minWidth||0,absoluteColumnMinWidth))}var g=0,h=0;for(t=0;d>=t;t++){var m=getIndexOffset(u,t);n=columns[m],n.resizable&&(null!==h&&(n.maxWidth?h+=n.maxWidth-n.previousWidth:h=null),g+=n.previousWidth-Math.max(n.minWidth||0,absoluteColumnMinWidth))}null===a&&(a=1e5),null===g&&(g=1e5),null===l&&(l=1e5),null===h&&(h=1e5),r=o+Math.min(a,h),s=o-Math.min(g,l)}).bind("drag",function(e){u=isPartOfAFrozenColumn(this),i=getColumnElements(this);var a,l,c=Math.min(r,Math.max(s,e.pageX))-o;if(0>c){for(l=c,t=d;t>=0;t--)n=columns[getIndexOffset(u,t)],n.resizable&&(a=Math.max(n.minWidth||0,absoluteColumnMinWidth),l&&n.previousWidth+l<a?(l+=n.previousWidth-a,n.width=a):(n.width=n.previousWidth+l,l=0));if(options.forceFitColumns)for(l=-c,t=d+1;t<i.length;t++)n=columns[getIndexOffset(u,t)],n.resizable&&(l&&n.maxWidth&&n.maxWidth-n.previousWidth<l?(l-=n.maxWidth-n.previousWidth,n.width=n.maxWidth):(n.width=n.previousWidth+l,l=0))}else{for(l=c,t=d;t>=0;t--)n=columns[getIndexOffset(u,t)],n.resizable&&(l&&n.maxWidth&&n.maxWidth-n.previousWidth<l?(l-=n.maxWidth-n.previousWidth,n.width=n.maxWidth):(n.width=n.previousWidth+l,l=0));if(options.forceFitColumns)for(l=-c,t=d+1;t<i.length;t++)n=columns[getIndexOffset(u,t)],n.resizable&&(a=Math.max(n.minWidth||0,absoluteColumnMinWidth),l&&n.previousWidth+l<a?(l+=n.previousWidth-a,n.width=a):(n.width=n.previousWidth+l,l=0))}applyColumnHeaderWidths(),options.numberOfColumnsToFreeze>0&&updateCanvasWidth(!0),options.syncColumnCellResize&&applyColumnWidths()}).bind("dragend",function(){u=isPartOfAFrozenColumn(this),i=getColumnElements(this);var e;$(this).parent().removeClass("slick-header-column-active");for(var t=0;t<i.length;t++)n=columns[getIndexOffset(u,t)],e=$(i[t]).outerWidth(),n.previousWidth!==e&&n.rerenderOnResize&&invalidateAllRows();updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{})}))})}}function getIndexOffset(e,t){var n=e?t:t+options.numberOfColumnsToFreeze;return n}function isPartOfAFrozenColumn(e){var t=!1,n=$(e).hasClass("headers_0");return t=n?!0:$(e).parents(".headers_0").length>0}function getColumnElements(e){var t=$(e).parents(".slick-header-columns").children();return t}function getVBoxDelta(e){var t=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],n=0;return $.each(t,function(t,o){n+=parseFloat(e.css(o))||0}),n}function measureCellPaddingAndBorder(){var e,t=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];e=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers_1),headerColumnWidthDiff=headerColumnHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&($.each(t,function(t,n){headerColumnWidthDiff+=parseFloat(e.css(n))||0}),$.each(n,function(t,n){headerColumnHeightDiff+=parseFloat(e.css(n))||0})),e.remove();var o=$("<div class='slick-row' />").appendTo($canvas_1);e=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(o),cellWidthDiff=cellHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&($.each(t,function(t,n){cellWidthDiff+=parseFloat(e.css(n))||0}),$.each(n,function(t,n){cellHeightDiff+=parseFloat(e.css(n))||0})),o.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));
for(var e=options.rowHeight-cellHeightDiff,t=["."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-cell { height:"+e+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"],n=0;n<columns.length;n++)t.push("."+uid+" .l"+n+" { }"),t.push("."+uid+" .r"+n+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=t.join(" "):$style[0].appendChild(document.createTextNode(t.join(" ")))}function getColumnCssRules(e){if(!stylesheet){for(var t=document.styleSheets,n=0;n<t.length;n++)if((t[n].ownerNode||t[n].owningElement)==$style[0]){stylesheet=t[n];break}if(!stylesheet)throw new Error("Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];for(var o,i,s=stylesheet.cssRules||stylesheet.rules,n=0;n<s.length;n++){var r=s[n].selectorText;(o=/\.l\d+/.exec(r))?(i=parseInt(o[0].substr(2,o[0].length-2),10),columnCssRulesL[i]=s[n]):(o=/\.r\d+/.exec(r))&&(i=parseInt(o[0].substr(2,o[0].length-2),10),columnCssRulesR[i]=s[n])}}return{left:columnCssRulesL[e],right:columnCssRulesR[e]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var e=plugins.length;e--;)unregisterPlugin(plugins[e]);options.enableColumnReorder&&(options.numberOfColumnsToFreeze>0&&$headers_0.filter(":ui-sortable").sortable("destroy"),$headers_1.filter(":ui-sortable").sortable("destroy")),unbindAncestorScrollEvents(),$outerContainer.unbind(".slickgrid"),removeCssRules(),$canvas_1.unbind("draginit dragstart dragend drag"),$outerContainer.empty().removeClass(uid)}function trigger(e,t,n){return n=n||new Slick.EventData,t=t||{},t.grid=self,e.notify(t,n,self)}function getUID(){return uid}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(e){return columnsById[e]}function autosizeColumns(){var e,t,n,o=[],i=0,s=0,r=viewportHasVScroll_1?viewportW_1-scrollbarDimensions.width:viewportW_1;for(e=0;e<columns.length;e++)t=columns[e],o.push(t.width),s+=t.width,t.resizable&&(i+=t.width-Math.max(t.minWidth,absoluteColumnMinWidth));for(n=s;s>r&&i;){var a=(s-r)/i;for(e=0;e<columns.length&&s>r;e++){t=columns[e];var l=o[e];if(!(!t.resizable||l<=t.minWidth||absoluteColumnMinWidth>=l)){var u=Math.max(t.minWidth,absoluteColumnMinWidth),d=Math.floor(a*(l-u))||1;d=Math.min(d,l-u),s-=d,i-=d,o[e]-=d}}if(n==s)break;n=s}for(n=s;r>s;){var c=r/s;for(e=0;e<columns.length&&r>s;e++)if(t=columns[e],t.resizable&&!(t.maxWidth<=t.width)){var g=Math.min(Math.floor(c*t.width)-t.width,t.maxWidth-t.width||1e6)||1;s+=g,o[e]+=g}if(n==s)break;n=s}var h=!1;for(e=0;e<columns.length;e++)columns[e].rerenderOnResize&&columns[e].width!=o[e]&&(h=!0),columns[e].width=o[e];applyColumnHeaderWidths(),updateCanvasWidth(!0),h&&(invalidateAllRows(),render())}function applyWidthToHeaders(e){for(var t,n=isPartOfAFrozenColumn(e),o=e.children(),i=0,s=o.length;s>i;i++){t=$(o[i]);var r=getIndexOffset(n,i);t.width()!==columns[r].width-headerColumnWidthDiff&&t.width(columns[r].width-headerColumnWidthDiff)}}function applyColumnHeaderWidths(){initialized&&(options.numberOfColumnsToFreeze>0&&applyWidthToHeaders($headers_0),applyWidthToHeaders($headers_1),updateColumnCaches())}function applyColumnWidths(){for(var e,t,n=0,o=0,i=options.numberOfColumnsToFreeze,s=columns.length,r=0;s>r;r++)e=columns[r].width,t=getColumnCssRules(r),i>r?(t.left.style.left=o+"px",t.right.style.right=canvasWidth_0-o-e+"px",o+=columns[r].width):(t.left.style.left=n+"px",t.right.style.right=canvasWidth_1-n-e+"px",n+=columns[r].width)}function setNumberOfColumnsToFreeze(e){options.numberOfColumnsToFreeze=e}function setSortColumn(e,t){setSortColumns([{columnId:e,sortAsc:t}])}function setSortColumns(e){sortColumns=e;var t=$headers_1.children().add(options.numberOfColumnsToFreeze?$headers_0.children():null);t.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),$.each(sortColumns,function(e,n){null==n.sortAsc&&(n.sortAsc=!0);var o=getColumnIndex(n.columnId);null!=o&&t.eq(o).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(n.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(e,t){selectedRows=[];for(var n={},o=0;o<t.length;o++)for(var i=t[o].fromRow;i<=t[o].toRow;i++){n[i]||(selectedRows.push(i),n[i]={});for(var s=t[o].fromCell;s<=t[o].toCell;s++)canCellBeSelected(i,s)&&(n[i][columns[s].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,n),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows()},e)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var e=0,t=0,n=options.numberOfColumnsToFreeze,o=0,i=columns.length;i>o;o++)n>o?(columnPosLeft[o]=e,columnPosRight[o]=e+columns[o].width,e+=columns[o].width):(columnPosLeft[o]=t,columnPosRight[o]=t+columns[o].width,t+=columns[o].width)}function setColumns(e){columns=e,columnsById={};for(var t=0;t<columns.length;t++){var n=columns[t]=$.extend({},columnDefaults,columns[t]);columnsById[n.id]=t,n.minWidth&&n.width<n.minWidth&&(n.width=n.minWidth),n.maxWidth&&n.width>n.maxWidth&&(n.width=n.maxWidth)}updateColumnCaches(),initialized&&(invalidateAllRows(),createColumnHeaders(),removeCssRules(),createCssRules(),resizeCanvas(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(e){getEditorLock().commitCurrentEdit()&&(makeActiveCellNormal(),options.enableAddRow!==e.enableAddRow&&invalidateRow(getDataLength()),options=$.extend(options,e),validateAndEnforceOptions(),$viewport_1.css("overflow-y",options.autoHeight?"hidden":"auto"),render())}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1)}function setData(e,t){data=e,invalidateAllRows(),updateRowCount(),t&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataLengthIncludingAddNew(){return getDataLength()+(options.enableAddRow?1:0)}function getDataItem(e){return data.getItem?data.getItem(e):data[e]}function getTopPanel(){return $topPanel_1[0]}function setTopPanelVisibility(e){options.showTopPanel!=e&&(options.showTopPanel=e,e?$topPanelScroller_1.slideDown("fast",resizeCanvas):$topPanelScroller_1.slideUp("fast",resizeCanvas))}function setHeaderRowVisibility(e){options.showHeaderRow!=e&&(options.showHeaderRow=e,e?$headerRowScroller_1.slideDown("fast",resizeCanvas):$headerRowScroller_1.slideUp("fast",resizeCanvas))}function getContainerNode(){return $outerContainer.get(0)}function getRowTop(e){return options.rowHeight*e-offset}function getRowFromPosition(e){return Math.floor((e+offset)/options.rowHeight)}function scrollTo(e){e=Math.max(e,0),e=Math.min(e,th-viewportH_1+(viewportHasHScroll_1?scrollbarDimensions.height:0));var t=offset;page=Math.min(n-1,Math.floor(e/ph)),offset=Math.round(page*cj);var o=e-offset;if(offset!=t){var i=getVisibleRange(o);cleanupRows(i),updateRowPositions()}prevScrollTop!=o&&(vScrollDir=o+offset>prevScrollTop+t?1:-1,$viewport_1[0].scrollTop=lastRenderedScrollTop=scrollTop=prevScrollTop=o,options.numberOfColumnsToFreeze>0&&($viewport_0[0].scrollTop=scrollTop),trigger(self.onViewportChanged,{}))}function defaultFormatter(e,t,n){return null==n?"":(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(e,t){var n=data.getItemMetadata&&data.getItemMetadata(e),o=n&&n.columns&&(n.columns[t.id]||n.columns[getColumnIndex(t.id)]);return o&&o.formatter||n&&n.formatter||t.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(t)||options.defaultFormatter}function getEditor(e,t){var n=columns[t],o=data.getItemMetadata&&data.getItemMetadata(e),i=o&&o.columns;return i&&i[n.id]&&void 0!==i[n.id].editor?i[n.id].editor:i&&i[t]&&void 0!==i[t].editor?i[t].editor:n.editor||options.editorFactory&&options.editorFactory.getEditor(n)}function getDataItemValueForColumn(e,t){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(e,t):e[t.field]}function appendRowHtml(e,t,n,o){var i=options.numberOfColumnsToFreeze,s=getDataItem(t),r=o>t&&!s,a="slick-row"+(r?" loading":"")+(t===activeRow?" active":"")+(t%2==1?" odd":" even"),l=data.getItemMetadata&&data.getItemMetadata(t);l&&l.cssClasses&&(a+=" "+l.cssClasses);var u="<div class='ui-widget-content "+a+"' style='top:"+getRowTop(t)+"px;' >";e.nonFrozen.push(u),i>0&&e.frozen.push(u);for(var d,c,g=0,h=columns.length;h>g;g++){if(c=columns[g],d=1,l&&l.columns){var m=l.columns[c.id]||l.columns[g];d=m&&m.colspan||1,"*"===d&&(d=h-g)}if(i&&i>g)appendCellHtml(e,t,g,d,s);else if(columnPosRight[Math.min(h-1,g+d-1)]>n.leftPx){if(columnPosLeft[g]>n.rightPx)break;appendCellHtml(e,t,g,d,s)}d>1&&(g+=d-1)}e.nonFrozen.push("</div>"),i>0&&e.frozen.push("</div>")}function appendCellHtml(e,t,n,o,i){var s=columns[n],r="slick-cell l"+n+" r"+Math.min(columns.length-1,n+o-1)+(s.cssClass?" "+s.cssClass:"");t===activeRow&&n===activeCell&&(r+=" active");for(var a in cellCssClasses)cellCssClasses[a][t]&&cellCssClasses[a][t][s.id]&&(r+=" "+cellCssClasses[a][t][s.id]);var l="<div class='"+r+"'>",u=options.numberOfColumnsToFreeze;if(u>n?e.frozen.push(l):e.nonFrozen.push(l),i){var d=getDataItemValueForColumn(i,s),c=getFormatter(t,s)(t,n,d,s,i);u>n?e.frozen.push(c):e.nonFrozen.push(getFormatter(t,s)(t,n,d,s,i))}u>n?e.frozen.push("</div>"):e.nonFrozen.push("</div>"),rowsCache[t].cellRenderQueue.push(n),rowsCache[t].cellColSpans[n]=o}function cleanupRows(e){for(var t in rowsCache)(t=parseInt(t,10))!==activeRow&&(t<e.top||t>e.bottom)&&removeRowFromCache(t)}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){currentEditor&&makeActiveCellNormal();for(var e in rowsCache)removeRowFromCache(e)}function removeRowFromCache(e){var t=rowsCache[e];if(t){var n=t.rowNode;options.numberOfColumnsToFreeze>0?(n.nonFrozen&&$canvas_1[0].removeChild(n.nonFrozen),n.frozen&&$canvas_0[0].removeChild(n.frozen)):$canvas_1[0].removeChild(n.nonFrozen),delete rowsCache[e],delete postProcessedRows[e],renderedRows--,counter_rows_removed++}}function invalidateRows(e){var t,n;if(e&&e.length)for(vScrollDir=0,t=0,n=e.length;n>t;t++)currentEditor&&activeRow===e[t]&&makeActiveCellNormal(),rowsCache[e[t]]&&removeRowFromCache(e[t])}function invalidateRow(e){invalidateRows([e])}function updateCell(e,t){var n=getCellNode(e,t);if(n){var o=columns[t],i=getDataItem(e);currentEditor&&activeRow===e&&activeCell===t?currentEditor.loadValue(i):(n.innerHTML=i?getFormatter(e,o)(e,t,getDataItemValueForColumn(i,o),o,i):"",invalidatePostProcessingResults(e))}}function updateRow(e){var t=rowsCache[e];if(t){ensureCellNodesInRowsCache(e);var n=getDataItem(e);for(var o in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(o)){o=0|o;var i=columns[o],s=t.cellNodesByColumnIdx[o];e===activeRow&&o===activeCell&&currentEditor?currentEditor.loadValue(n):s.innerHTML=n?getFormatter(e,i)(e,o,getDataItemValueForColumn(n,i),i,n):""}invalidatePostProcessingResults(e)}}function getViewportHeight(){return parseFloat($.css($outerContainer[0],"height",!0))-parseFloat($.css($outerContainer[0],"paddingTop",!0))-parseFloat($.css($outerContainer[0],"paddingBottom",!0))-parseFloat($.css($headerScroller_1[0],"height"))-getVBoxDelta($headerScroller_1)-(options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller_1):0)-(options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller_1):0)}function resizeCanvas(){initialized&&(viewportH_1=options.autoHeight?options.rowHeight*getDataLengthIncludingAddNew():getViewportHeight(),numVisibleRows=Math.ceil(viewportH_1/options.rowHeight),viewportW_1=parseFloat($.css($outerContainer[0],"width",!0)),options.autoHeight||($viewport_1.height(viewportH_1),options.numberOfColumnsToFreeze&&$viewport_0.height(viewportH_1)),options.forceFitColumns&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render())}function updateRowCount(){getDataLength();if(initialized){numberOfRows=getDataLengthIncludingAddNew()+(options.leaveSpaceForNewRows?numVisibleRows-1:0);var e=viewportHasVScroll_1;viewportHasVScroll_1=!options.autoHeight&&numberOfRows*options.rowHeight>viewportH_1;var t=getDataLengthIncludingAddNew()-1;for(var o in rowsCache)o>=t&&removeRowFromCache(o);activeCellNode&&activeRow>t&&resetActiveCell();var i=h;th=Math.max(options.rowHeight*numberOfRows,viewportH_1-scrollbarDimensions.height),maxSupportedCssHeight>th?(h=ph=th,n=1,cj=0):(h=maxSupportedCssHeight,ph=h/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==i&&($canvas_1.css("height",h),scrollTop=$viewport_1[0].scrollTop,options.numberOfColumnsToFreeze>0&&$canvas_0.css("height",h+scrollbarDimensions.height));var s=th-viewportH_1>=scrollTop+offset;0==th||0==scrollTop?page=offset=0:scrollTo(s?scrollTop+offset:th-viewportH_1),h!=i&&options.autoHeight&&resizeCanvas(),options.forceFitColumns&&e!=viewportHasVScroll_1&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(e,t){return null==e&&(e=scrollTop),null==t&&(t=scrollLeft),{top:getRowFromPosition(e),bottom:getRowFromPosition(e+viewportH_1),leftPx:t,rightPx:t+viewportW_1}}function getRenderedRange(e,t){var n=getVisibleRange(e,t),o=Math.round(viewportH_1/options.rowHeight),i=3;return-1==vScrollDir?(n.top-=o,n.bottom+=i):1==vScrollDir?(n.top-=i,n.bottom+=o):(n.top-=i,n.bottom+=i),n.top=Math.max(0,n.top),n.bottom=Math.min(getDataLengthIncludingAddNew()-1,n.bottom),n.leftPx-=viewportW_1,n.rightPx+=viewportW_1,n.leftPx=Math.max(0,n.leftPx),n.rightPx=Math.min(canvasWidth_1,n.rightPx),n}function ensureCellNodesInRowsCache(e){var t=rowsCache[e];if(t&&t.cellRenderQueue.length){var n=t.rowNode.nonFrozen.lastChild;if(options.numberOfColumnsToFreeze>0)var o=t.rowNode.frozen.lastChild;for(var i=options.numberOfColumnsToFreeze;t.cellRenderQueue.length;){var s=t.cellRenderQueue.pop();i>s?(t.cellNodesByColumnIdx[s]=o,o.previousSibling&&(o=o.previousSibling)):(t.cellNodesByColumnIdx[s]=n,n.previousSibling&&(n=n.previousSibling))}}}function cleanUpCells(e,t){var n=0,o=rowsCache[t],i=[];for(var s in o.cellNodesByColumnIdx)if(o.cellNodesByColumnIdx.hasOwnProperty(s)){s=0|s;var r=o.cellColSpans[s];(columnPosLeft[s]>e.rightPx||columnPosRight[Math.min(columns.length-1,s+r-1)]<e.leftPx)&&(t!=activeRow||s!=activeCell)&&i.push(s)}for(var a,l,u=i.pop();null!=u&&0!=u;){a=o.cellNodesByColumnIdx[u],l=o.rowNode.nonFrozen.childNodes;for(var s=0;s<l.length;s++)if(l[s]==a){o.rowNode.nonFrozen.removeChild(a),delete o.cellColSpans[u],delete o.cellNodesByColumnIdx[u],postProcessedRows[t]&&delete postProcessedRows[t][u],n++;break}u=i.length>0?i.pop():null}}function cleanUpAndRenderCells(e){for(var t,n,o,i={frozen:[],nonFrozen:[]},s=[],r=0,a=e.top,l=e.bottom;l>=a;a++)if(t=rowsCache[a]){ensureCellNodesInRowsCache(a),cleanUpCells(e,a),n=0;var u=data.getItemMetadata&&data.getItemMetadata(a);u=u&&u.columns;for(var d=getDataItem(a),c=0,g=columns.length;g>c&&!(columnPosLeft[c]>e.rightPx);c++)if(null==(o=t.cellColSpans[c])){if(o=1,u){var h=u[columns[c].id]||u[c];o=h&&h.colspan||1,"*"===o&&(o=g-c)}columnPosRight[Math.min(g-1,c+o-1)]>e.leftPx&&(appendCellHtml(i,a,c,o,d),n++),c+=o>1?o-1:0}else c+=o>1?o-1:0;n&&(r+=n,s.push(a))}if(i.nonFrozen.length){var m=document.createElement("div");m.innerHTML=i.nonFrozen.join("");var p=document.createElement("div");p.innerHTML=i.frozen.join("");for(var _,f,v,b=options.numberOfColumnsToFreeze;null!=(_=s.pop());){t=rowsCache[_];for(var y;null!=(y=t.cellRenderQueue.pop());)v=p.lastChild,f=m.lastChild,b>y?(t.rowNode.frozen.appendChild(v),t.cellNodesByColumnIdx[y]=v):(t.rowNode.nonFrozen.appendChild(f),t.cellNodesByColumnIdx[y]=f)}}}function renderRows(e){var t=$canvas_1[0],n={frozen:[],nonFrozen:[]},o=[],i=!1,s=getDataLength(),r=options.numberOfColumnsToFreeze;if(r)var a=$canvas_0[0];for(var l=e.top,u=e.bottom;u>=l;l++)rowsCache[l]||(renderedRows++,o.push(l),rowsCache[l]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(n,l,e,s),activeCellNode&&activeRow===l&&(i=!0),counter_rows_rendered++);if(o.length){var d=document.createElement("div");if(d.innerHTML=n.nonFrozen.join(""),r>0){var c=document.createElement("div");c.innerHTML=n.frozen.join("")}for(var g,l=0,u=o.length;u>l;l++)g=rowsCache[o[l]],g.rowNode={frozen:r>0?a.appendChild(c.firstChild):"",nonFrozen:t.appendChild(d.firstChild)};i&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function invalidatePostProcessingResults(e){delete postProcessedRows[e],postProcessFromRow=Math.min(postProcessFromRow,e),postProcessToRow=Math.max(postProcessToRow,e),startPostProcessing()}function updateRowPositions(){for(var e in rowsCache){var t=getRowTop(e)+"px";rowsCache[e].rowNode.frozen.style.top=t,rowsCache[e].rowNode.nonFrozen.style.top=t}}function render(){if(initialized){var e=getVisibleRange(),t=getRenderedRange();cleanupRows(t),lastRenderedScrollLeft!=scrollLeft&&cleanUpAndRenderCells(t),renderRows(t),postProcessFromRow=e.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,e.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null}}function handleHeaderRowScroll(){var e=$headerRowScroller_1[0].scrollLeft;e!=$viewport_1[0].scrollLeft&&($viewport_1[0].scrollLeft=e)}function handleScroll(e){void 0!=e&&void 0!=e.scrollTop&&($viewport_1[0].scrollTop=e.scrollTop),scrollTop=$viewport_1[0].scrollTop,scrollLeft=$viewport_1[0].scrollLeft;var t=Math.abs(scrollTop-prevScrollTop),o=Math.abs(scrollLeft-prevScrollLeft);if(o&&(prevScrollLeft=scrollLeft,$headerScroller_1[0].scrollLeft=scrollLeft,$topPanelScroller_1[0].scrollLeft=scrollLeft,$headerRowScroller_1[0].scrollLeft=scrollLeft),t)if(vScrollDir=scrollTop>prevScrollTop?1:-1,prevScrollTop=scrollTop,options.numberOfColumnsToFreeze>0&&($viewport_0[0].scrollTop=scrollTop),viewportH_1>t)scrollTo(scrollTop+offset);else{var i=offset;page=h==viewportH_1?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH_1)/(h-viewportH_1))*(1/ph))),offset=Math.round(page*cj),i!=offset&&invalidateAllRows()}(o||t)&&(h_render&&clearTimeout(h_render),(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20)&&(options.forceSyncScrolling||Math.abs(lastRenderedScrollTop-scrollTop)<viewportH_1&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW_1?render():h_render=setTimeout(render,50),trigger(self.onViewportChanged,{}))),trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop})}function asyncPostProcessRows(){for(;postProcessToRow>=postProcessFromRow;){var e=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,t=rowsCache[e];if(t&&!(e>=getDataLength())){postProcessedRows[e]||(postProcessedRows[e]={}),ensureCellNodesInRowsCache(e);for(var n in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(n)){n=0|n;var o=columns[n];if(o.asyncPostRender&&!postProcessedRows[e][n]){var i=t.cellNodesByColumnIdx[n];i&&o.asyncPostRender(i,e,getDataItem(e),o),postProcessedRows[e][n]=!0}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function updateCellCssStylesOnRenderedRows(e,t){var n,o,i,s;for(var r in rowsCache){if(s=t&&t[r],i=e&&e[r],s)for(o in s)i&&s[o]==i[o]||(n=getCellNode(r,getColumnIndex(o)),n&&$(n).removeClass(s[o]));if(i)for(o in i)s&&s[o]==i[o]||(n=getCellNode(r,getColumnIndex(o)),n&&$(n).addClass(i[o]))}}function addCellCssStyles(e,t){if(cellCssClasses[e])throw"addCellCssStyles: cell CSS hash with key '"+e+"' already exists.";cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,null),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function removeCellCssStyles(e){cellCssClasses[e]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[e]),delete cellCssClasses[e],trigger(self.onCellCssStylesChanged,{key:e,hash:null}))}function setCellCssStyles(e,t){var n=cellCssClasses[e];cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,n),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function getCellCssStyles(e){return cellCssClasses[e]}function flashCell(e,t,n){function o(e){e&&setTimeout(function(){i.queue(function(){i.toggleClass(options.cellFlashingCssClass).dequeue(),o(e-1)})},n)}if(n=n||100,rowsCache[e]){var i=$(getCellNode(e,t));o(4)}}function handleDragInit(e,t){var n=getCellFromEvent(e);if(!n||!cellExists(n.row,n.cell))return!1;var o=trigger(self.onDragInit,t,e);return e.isImmediatePropagationStopped()?o:!1}function handleDragStart(e,t){var n=getCellFromEvent(e);if(!n||!cellExists(n.row,n.cell))return!1;var o=trigger(self.onDragStart,t,e);return e.isImmediatePropagationStopped()?o:!1}function handleDrag(e,t){return trigger(self.onDrag,t,e)}function handleDragEnd(e,t){trigger(self.onDragEnd,t,e)}function handleKeyDown(e){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},e);var t=e.isImmediatePropagationStopped();if(!t)if(e.shiftKey||e.altKey||e.ctrlKey)9!=e.which||!e.shiftKey||e.ctrlKey||e.altKey||(t=navigatePrev());else if(27==e.which){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else 34==e.which?(navigatePageDown(),t=!0):33==e.which?(navigatePageUp(),t=!0):37==e.which?t=navigateLeft():39==e.which?t=navigateRight():38==e.which?t=navigateUp():40==e.which?t=navigateDown():9==e.which?t=navigateNext():13==e.which&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable()),t=!0);if(t){e.stopPropagation(),e.preventDefault();try{e.originalEvent.keyCode=0}catch(n){}}}function handleClick(e){currentEditor||(e.target!=document.activeElement||$(e.target).hasClass("slick-cell"))&&setFocus();var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||activeCell==t.cell&&activeRow==t.row||!canCellBeActive(t.row,t.cell)||(!getEditorLock().isActive()||getEditorLock().commitCurrentEdit())&&(scrollRowIntoView(t.row,!1),setActiveCellInternal(getCellNode(t.row,t.cell))))}function handleContextMenu(e){var t=$(e.target).closest(".slick-cell",$canvas_1);0!==t.length&&(activeCellNode!==t[0]||null===currentEditor)&&trigger(self.onContextMenu,{},e)}function handleDblClick(e){var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onDblClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||options.editable&&gotoCell(t.row,t.cell,!0))}function handleHeaderMouseEnter(e){trigger(self.onHeaderMouseEnter,{column:$(this).data("column")},e)}function handleHeaderMouseLeave(e){trigger(self.onHeaderMouseLeave,{column:$(this).data("column")},e)}function handleHeaderContextMenu(e){var t=$(e.target).closest(".slick-header-column",".slick-header-columns"),n=t&&t.data("column");trigger(self.onHeaderContextMenu,{column:n},e)}function handleHeaderClick(e){var t=$(e.target).closest(".slick-header-column",".slick-header-columns"),n=t&&t.data("column");n&&trigger(self.onHeaderClick,{column:n},e)}function handleMouseEnter(e){trigger(self.onMouseEnter,{},e)}function handleMouseLeave(e){trigger(self.onMouseLeave,{},e)}function cellExists(e,t){return!(0>e||e>=getDataLength()||0>t||t>=columns.length)}function getCellFromPoint(e,t){for(var n=getRowFromPosition(t),o=0,i=0,s=0;s<columns.length&&e>i;s++)i+=columns[s].width,o++;return 0>o&&(o=0),{row:n,cell:o-1}}function getCellFromNode(e){var t=/l\d+/.exec(e.className);if(!t)throw"getCellFromNode: cannot get cell - "+e.className;return parseInt(t[0].substr(1,t[0].length-1),10)}function getRowFromNode(e){for(var t in rowsCache){var n=rowsCache[t].rowNode;if(n.frozen===e||n.nonFrozen===e)return 0|t}return null}function getCanvasFromEvent(e){return jQuery(e.target).closest(".grid-canvas")}function getCellFromEvent(e){var t=getCanvasFromEvent(e),n=$(e.target).closest(".slick-cell",t);if(!n.length)return null;var o=getRowFromNode(n[0].parentNode),i=getCellFromNode(n[0]);return null==o||null==i?null:{row:o,cell:i}}function getCellNodeBox(e,t){if(!cellExists(e,t))return null;for(var n=getRowTop(e),o=n+options.rowHeight-1,i=0,s=0;t>s;s++)i+=columns[s].width;var r=i+columns[t].width;return{top:n,left:i,bottom:o,right:r}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(e,t,n){scrollRowIntoView(e,n);var o=getColspan(e,t),i=columnPosLeft[t],s=columnPosRight[t+(o>1?o-1:0)],r=scrollLeft+viewportW_1;scrollLeft>i?($viewport_1.scrollLeft(i),handleScroll(),render()):s>r&&($viewport_1.scrollLeft(Math.min(i,s-$viewport_1[0].clientWidth)),handleScroll(),render())}function setActiveCellInternal(e,t){null!==activeCellNode&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"),rowsCache[activeRow]&&($(rowsCache[activeRow].rowNode.frozen).removeClass("active"),$(rowsCache[activeRow].rowNode.nonFrozen).removeClass("active")));var n=activeCellNode!==e;activeCellNode=e,null!=activeCellNode?(activeRow=getRowFromNode(activeCellNode.parentNode),activeCell=activePosX=getCellFromNode(activeCellNode),null==t&&(t=activeRow==getDataLength()||options.autoEdit),$(activeCellNode).addClass("active"),$(rowsCache[activeRow].rowNode.frozen).addClass("active"),$(rowsCache[activeRow].rowNode.nonFrozen).addClass("active"),options.editable&&t&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable()},options.asyncEditorLoadDelay):makeActiveCellEditable())):activeRow=activeCell=null,n&&trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}else if(window.getSelection){var t=window.getSelection();t&&t.removeAllRanges&&t.removeAllRanges()}}function isCellPotentiallyEditable(e,t){return e<getDataLength()&&!getDataItem(e)?!1:columns[t].cannotTriggerInsert&&e>=getDataLength()?!1:getEditor(e,t)?!0:!1}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var e=getDataItem(activeRow);if($(activeCellNode).removeClass("editable invalid"),e){var t=columns[activeCell],n=getFormatter(activeRow,t);activeCellNode.innerHTML=n(activeRow,activeCell,getDataItemValueForColumn(e,t),t,e),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(e){if(activeCellNode){if(!options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var t=columns[activeCell],n=getDataItem(activeRow);if(trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:n,column:t})===!1)return void setFocus();getEditorLock().activate(editController),$(activeCellNode).addClass("editable"),e||(activeCellNode.innerHTML=""),currentEditor=new(e||getEditor(activeRow,activeCell))({grid:self,gridPosition:absBox($outerContainer[0]),position:absBox(activeCellNode),container:activeCellNode,column:t,item:n||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus,maxLength:columns[activeCell].maxLength}),n&&currentEditor.loadValue(n),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(e){var t={top:e.offsetTop,left:e.offsetLeft,bottom:0,right:0,width:$(e).outerWidth(),height:$(e).outerHeight(),visible:!0};t.bottom=t.top+t.height,t.right=t.left+t.width;for(var n=e.offsetParent;(e=e.parentNode)!=document.body;)t.visible&&e.scrollHeight!=e.offsetHeight&&"visible"!=$(e).css("overflowY")&&(t.visible=t.bottom>e.scrollTop&&t.top<e.scrollTop+e.clientHeight),t.visible&&e.scrollWidth!=e.offsetWidth&&"visible"!=$(e).css("overflowX")&&(t.visible=t.right>e.scrollLeft&&t.left<e.scrollLeft+e.clientWidth),t.left-=e.scrollLeft,t.top-=e.scrollTop,e===n&&(t.left+=e.offsetLeft,t.top+=e.offsetTop,n=e.offsetParent),t.bottom=t.top+t.height,t.right=t.left+t.width;return t}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($outerContainer[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var e=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(e.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(e)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollRowIntoView(e,t){var n=e*options.rowHeight,o=(e+1)*options.rowHeight-viewportH_1+(viewportHasHScroll_1?scrollbarDimensions.height:0);(e+1)*options.rowHeight>scrollTop+viewportH_1+offset?(scrollTo(t?n:o),render()):e*options.rowHeight<scrollTop+offset&&(scrollTo(t?o:n),render())}function scrollRowToTop(e){scrollTo(e*options.rowHeight),render()}function scrollPage(e){var t=e*numVisibleRows;if(scrollTo((getRowFromPosition(scrollTop)+t)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var n=activeRow+t;n>=getDataLengthIncludingAddNew()&&(n=getDataLengthIncludingAddNew()-1),0>n&&(n=0);for(var o=0,i=null,s=activePosX;activePosX>=o;)canCellBeActive(n,o)&&(i=o),o+=getColspan(n,o);null!==i?(setActiveCellInternal(getCellNode(n,i)),activePosX=s):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function getColspan(e,t){var n=data.getItemMetadata&&data.getItemMetadata(e);if(!n||!n.columns)return 1;var o=n.columns[columns[t].id]||n.columns[t],i=o&&o.colspan;return i="*"===i?columns.length-t:i||1}function findFirstFocusableCell(e){for(var t=0;t<columns.length;){if(canCellBeActive(e,t))return t;t+=getColspan(e,t)}return null}function findLastFocusableCell(e){for(var t=0,n=null;t<columns.length;)canCellBeActive(e,t)&&(n=t),t+=getColspan(e,t);return n}function gotoRight(e,t){if(t>=columns.length)return null;do t+=getColspan(e,t);while(t<columns.length&&!canCellBeActive(e,t));return t<columns.length?{row:e,cell:t,posX:t}:null}function gotoLeft(e,t){if(0>=t)return null;var n=findFirstFocusableCell(e);if(null===n||n>=t)return null;for(var o,i={row:e,cell:n,posX:n};;){if(o=gotoRight(i.row,i.cell,i.posX),!o)return null;if(o.cell>=t)return i;i=o}}function gotoDown(e,t,n){for(var o;;){if(++e>=getDataLengthIncludingAddNew())return null;for(o=t=0;n>=t;)o=t,t+=getColspan(e,t);if(canCellBeActive(e,o))return{row:e,cell:o,posX:n}}}function gotoUp(e,t,n){for(var o;;){if(--e<0)return null;for(o=t=0;n>=t;)o=t,t+=getColspan(e,t);if(canCellBeActive(e,o))return{row:e,cell:o,posX:n}}}function gotoNext(e,t,n){if(null==e&&null==t&&(e=t=n=0,canCellBeActive(e,t)))return{row:e,cell:t,posX:t};var o=gotoRight(e,t,n);if(o)return o;for(var i=null;++e<getDataLengthIncludingAddNew();)if(i=findFirstFocusableCell(e),null!==i)return{row:e,cell:i,posX:i};return null}function gotoPrev(e,t,n){if(null==e&&null==t&&(e=getDataLengthIncludingAddNew()-1,t=n=columns.length-1,canCellBeActive(e,t)))return{row:e,cell:t,posX:t};for(var o,i;!o&&!(o=gotoLeft(e,t,n));){if(--e<0)return null;t=0,i=findLastFocusableCell(e),null!==i&&(o={row:e,cell:i,posX:i})
}return o}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigate(e){if(!options.enableCellNavigation)return!1;if(!activeCellNode&&"prev"!=e&&"next"!=e)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus();var t={up:-1,down:1,left:-1,right:1,prev:-1,next:1};tabbingDirection=t[e];var n={up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext},o=n[e],i=o(activeRow,activeCell,activePosX);if(i){var s=i.row==getDataLength();return scrollCellIntoView(i.row,i.cell,!s),setActiveCellInternal(getCellNode(i.row,i.cell)),activePosX=i.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(e,t){return rowsCache[e]?(ensureCellNodesInRowsCache(e),rowsCache[e].cellNodesByColumnIdx[t]):null}function setActiveCell(e,t){initialized&&(e>getDataLength()||0>e||t>=columns.length||0>t||options.enableCellNavigation&&(scrollCellIntoView(e,t,!1),setActiveCellInternal(getCellNode(e,t),!1)))}function canCellBeActive(e,t){if(!options.enableCellNavigation||e>=getDataLengthIncludingAddNew()||0>e||t>=columns.length||0>t)return!1;var n=data.getItemMetadata&&data.getItemMetadata(e);if(n&&"boolean"==typeof n.focusable)return n.focusable;var o=n&&n.columns;return o&&o[columns[t].id]&&"boolean"==typeof o[columns[t].id].focusable?o[columns[t].id].focusable:o&&o[t]&&"boolean"==typeof o[t].focusable?o[t].focusable:columns[t].focusable}function canCellBeSelected(e,t){if(e>=getDataLength()||0>e||t>=columns.length||0>t)return!1;var n=data.getItemMetadata&&data.getItemMetadata(e);if(n&&"boolean"==typeof n.selectable)return n.selectable;var o=n&&n.columns&&(n.columns[columns[t].id]||n.columns[t]);return o&&"boolean"==typeof o.selectable?o.selectable:columns[t].selectable}function gotoCell(e,t,n){if(initialized&&canCellBeActive(e,t)&&getEditorLock().commitCurrentEdit()){scrollCellIntoView(e,t,!1);var o=getCellNode(e,t);setActiveCellInternal(o,n||e===getDataLength()||options.autoEdit),currentEditor||setFocus()}}function commitCurrentEdit(){var e=getDataItem(activeRow),t=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var n=currentEditor.validate();if(n.valid){if(activeRow<getDataLength()){var o={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(e,this.serializedValue),updateRow(this.row)},undo:function(){this.editor.applyValue(e,this.prevSerializedValue),updateRow(this.row)}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(e,t,o)):(o.execute(),makeActiveCellNormal()),trigger(self.onCellChange,{row:activeRow,cell:activeCell,column:t,item:e})}else{var i={};currentEditor.applyValue(i,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:i,column:t})}return!getEditorLock().isActive()}return $(activeCellNode).removeClass("invalid"),$(activeCellNode).width(),$(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:n,row:activeRow,cell:activeCell,column:t}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(e){for(var t=[],n=columns.length-1,o=0;o<e.length;o++)t.push(new Slick.Range(e[o],0,e[o],n));return t}function getSelectedRows(){if(!selectionModel)throw"Selection model is not set";return selectedRows}function setSelectedRows(e){if(!selectionModel)throw"Selection model is not set";selectionModel.setSelectedRanges(rowsToRanges(e))}var defaults={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:defaultFormatter,forceSyncScrolling:!1,numberOfColumnsToFreeze:0},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$outerContainer,$container_0,$container_1,$headerScroller_0,$headerScroller_1,$headers_0,$headers_1,$headerRow_0,$headerRow_1,$headerRowScroller_0,$headerRowScroller_1,$headerRowSpacer_0,$headerRowSpacer_1,$topPanelScroller_0,$topPanelScroller_1,$topPanel_0,$topPanel_1,$viewport_0,$viewport_1,$canvas_0,$canvas_1,canvasWidth_0,canvasWidth_1,$style,$boundAncestors,stylesheet,columnCssRulesL,columnCssRulesR,viewportH_1,viewportW_1,viewportHasHScroll_1,viewportHasVScroll_1,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,absoluteColumnMinWidth,numberOfRows=0,tabbingDirection=1,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],h_editorLoader=null,h_render=null,h_postrender=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,counter_rows_rendered=0,counter_rows_removed=0;this.debug=function(){var e="";e+="\ncounter_rows_rendered:  "+counter_rows_rendered,e+="\ncounter_rows_removed:  "+counter_rows_removed,e+="\nrenderedRows:  "+renderedRows,e+="\nnumVisibleRows:  "+numVisibleRows,e+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,e+="\nn(umber of pages):  "+n,e+="\n(current) page:  "+page,e+="\npage height (ph):  "+ph,e+="\nvScrollDir:  "+vScrollDir,alert(e)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setNumberOfColumnsToFreeze:setNumberOfColumnsToFreeze,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,getCanvasNode:getCanvasNode,focus:setFocus,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,navigatePageUp:navigatePageUp,navigatePageDown:navigatePageDown,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,getUID:getUID,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}$.extend(!0,window,{Slick:{Grid:SlickGrid}});var scrollbarDimensions,maxSupportedCssHeight}(jQuery)}),define("vendor/slickgrid/slick.editors",["jquery","vendor/slickgrid/slick.core"],function(e){!function(e){function t(t){var n,o;this.init=function(){n=e("<INPUT type=text class='editor-text' />").appendTo(t.container).bind("keydown.nav",function(t){(t.keyCode===e.ui.keyCode.LEFT||t.keyCode===e.ui.keyCode.RIGHT)&&t.stopImmediatePropagation()}).focus().select()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.getValue=function(){return n.val()},this.setValue=function(e){n.val(e)},this.loadValue=function(e){o=e[t.column.field]||"",n.val(o),n[0].defaultValue=o,n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==o)&&n.val()!=o},this.validate=function(){if(t.column.validator){var e=t.column.validator(n.val());if(!e.valid)return e}return{valid:!0,msg:null}},this.init()}function n(t){var n,o;this.init=function(){n=e("<INPUT type=text class='editor-text' />"),n.bind("keydown.nav",function(t){(t.keyCode===e.ui.keyCode.LEFT||t.keyCode===e.ui.keyCode.RIGHT)&&t.stopImmediatePropagation()}),n.appendTo(t.container),n.focus().select()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){o=e[t.column.field],n.val(o),n[0].defaultValue=o,n.select()},this.serializeValue=function(){return parseInt(n.val(),10)||0},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==o)&&n.val()!=o},this.validate=function(){return isNaN(n.val())?{valid:!1,msg:"Please enter a valid integer"}:{valid:!0,msg:null}},this.init()}function o(t){var n,o,i=!1;this.init=function(){n=e("<INPUT type=text class='editor-text' />"),n.appendTo(t.container),n.focus().select(),n.datepicker({showOn:"button",buttonImageOnly:!0,buttonImage:"../images/calendar.gif",beforeShow:function(){i=!0},onClose:function(){i=!1}}),n.width(n.width()-18)},this.destroy=function(){e.datepicker.dpDiv.stop(!0,!0),n.datepicker("hide"),n.datepicker("destroy"),n.remove()},this.show=function(){i&&e.datepicker.dpDiv.stop(!0,!0).show()},this.hide=function(){i&&e.datepicker.dpDiv.stop(!0,!0).hide()},this.position=function(t){i&&e.datepicker.dpDiv.css("top",t.top+30).css("left",t.left)},this.focus=function(){n.focus()},this.loadValue=function(e){o=e[t.column.field],n.val(o),n[0].defaultValue=o,n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==o)&&n.val()!=o},this.validate=function(){return{valid:!0,msg:null}},this.init()}function i(t){var n,o;this.init=function(){n=e("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>"),n.appendTo(t.container),n.focus()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){n.val((o=e[t.column.field])?"yes":"no"),n.select()},this.serializeValue=function(){return"yes"==n.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return n.val()!=o},this.validate=function(){return{valid:!0,msg:null}},this.init()}function s(t){var n,o;this.init=function(){n=e("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>"),n.appendTo(t.container),n.focus()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){o=!!e[t.column.field],o?n.prop("checked",!0):n.prop("checked",!1)},this.serializeValue=function(){return n.prop("checked")},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return this.serializeValue()!==o},this.validate=function(){return{valid:!0,msg:null}},this.init()}function r(t){var n,o,i;this.init=function(){n=e("<INPUT type=text class='editor-percentcomplete' />"),n.width(e(t.container).innerWidth()-25),n.appendTo(t.container),o=e("<div class='editor-percentcomplete-picker' />").appendTo(t.container),o.append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>"),o.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>"),n.focus().select(),o.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:i,slide:function(e,t){n.val(t.value)}}),o.find(".editor-percentcomplete-buttons button").bind("click",function(){n.val(e(this).attr("val")),o.find(".editor-percentcomplete-slider").slider("value",e(this).attr("val"))})},this.destroy=function(){n.remove(),o.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){n.val(i=e[t.column.field]),n.select()},this.serializeValue=function(){return parseInt(n.val(),10)||0},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==i)&&(parseInt(n.val(),10)||0)!=i},this.validate=function(){return isNaN(parseInt(n.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()}function a(t){var n,o,i,s=this;this.init=function(){var i=e("body");o=e("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(i),n=e("<TEXTAREA hidefocus rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(o),e("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(o),o.find("button:first").bind("click",this.save),o.find("button:last").bind("click",this.cancel),n.bind("keydown",this.handleKeyDown),s.position(t.position),n.focus().select()},this.handleKeyDown=function(n){n.which==e.ui.keyCode.ENTER&&n.ctrlKey?s.save():n.which==e.ui.keyCode.ESCAPE?(n.preventDefault(),s.cancel()):n.which==e.ui.keyCode.TAB&&n.shiftKey?(n.preventDefault(),t.grid.navigatePrev()):n.which==e.ui.keyCode.TAB&&(n.preventDefault(),t.grid.navigateNext())},this.save=function(){t.commitChanges()},this.cancel=function(){n.val(i),t.cancelChanges()},this.hide=function(){o.hide()},this.show=function(){o.show()},this.position=function(e){o.css("top",e.top-5).css("left",e.left-5)},this.destroy=function(){o.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){n.val(i=e[t.column.field]),n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==i)&&n.val()!=i},this.validate=function(){return{valid:!0,msg:null}},this.init()}e.extend(!0,window,{Slick:{Editors:{Text:t,Integer:n,Date:o,YesNoSelect:i,Checkbox:s,PercentComplete:r,LongText:a}}})}(e)}),define("vendor/slickgrid/plugins/slick.rowselectionmodel",["jquery","vendor/slickgrid/slick.core"],function(e){!function(e){function t(t){function n(n){f=e.extend(!0,{},w,t),p=n,y.subscribe(p.onActiveCellChanged,i(g)),y.subscribe(p.onKeyDown,i(h)),y.subscribe(p.onClick,i(m))}function o(){y.unsubscribeAll()}function i(e){return function(){_||(_=!0,e.apply(this,arguments),_=!1)}}function s(e){for(var t=[],n=0;n<e.length;n++)for(var o=e[n].fromRow;o<=e[n].toRow;o++)t.push(o);return t}function r(e){for(var t=[],n=p.getColumns().length-1,o=0;o<e.length;o++)t.push(new Slick.Range(e[o],0,e[o],n));return t}function a(e,t){var n,o=[];for(n=e;t>=n;n++)o.push(n);for(n=t;e>n;n++)o.push(n);return o}function l(){return s(v)}function u(e){d(r(e))}function d(e){v=e,b.onSelectedRangesChanged.notify(v)}function c(){return v}function g(e,t){f.selectActiveRow&&null!=t.row&&d([new Slick.Range(t.row,0,t.row,p.getColumns().length-1)])}function h(e){var t=p.getActiveCell();if(t&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(38==e.which||40==e.which)){var n=l();n.sort(function(e,t){return e-t}),n.length||(n=[t.row]);var o,i=n[0],s=n[n.length-1];o=40==e.which?t.row<s||i==s?++s:++i:t.row<s?--s:--i,o>=0&&o<p.getDataLength()&&(p.scrollRowIntoView(o),v=r(a(i,s)),d(v)),e.preventDefault(),e.stopPropagation()}}function m(t){var n=p.getCellFromEvent(t);if(!n||!p.canCellBeActive(n.row,n.cell))return!1;var o=s(v),i=e.inArray(n.row,o);if(!(t.ctrlKey||t.shiftKey||t.metaKey))return!1;if(p.getOptions().multiSelect)if(-1===i&&(t.ctrlKey||t.metaKey))o.push(n.row),p.setActiveCell(n.row,n.cell);else if(-1!==i&&(t.ctrlKey||t.metaKey))o=e.grep(o,function(e){return e!==n.row}),p.setActiveCell(n.row,n.cell);else if(o.length&&t.shiftKey){var a=o.pop(),l=Math.min(n.row,a),u=Math.max(n.row,a);o=[];for(var c=l;u>=c;c++)c!==a&&o.push(c);o.push(a),p.setActiveCell(n.row,n.cell)}return v=r(o),d(v),t.stopImmediatePropagation(),!0}var p,_,f,v=[],b=this,y=new Slick.EventHandler,w={selectActiveRow:!0};e.extend(this,{getSelectedRows:l,setSelectedRows:u,getSelectedRanges:c,setSelectedRanges:d,init:n,destroy:o,onSelectedRangesChanged:new Slick.Event})}e.extend(!0,window,{Slick:{RowSelectionModel:t}})}(e)}),define("vendor/slickgrid",["vendor/slickgrid/slick.grid","vendor/slickgrid/slick.editors","vendor/slickgrid/plugins/slick.rowselectionmodel"],function(){return Slick}),define("translations/gradebook2.total_column_header",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{total_column_header:{move_to_end:"نقل إلى النهاية",move_to_front:"نقل إلى البداية",options:"خيارات",switch_to_percent:"تبديل إلى النسبة المئوية",switch_to_points:"تبديل إلى النقاط"}}},de:{gradebook2:{total_column_header:{move_to_end:"An das Ende verschieben",move_to_front:"An den Anfang verschieben",options:"Optionen",switch_to_percent:"Zu Prozent wechseln",switch_to_points:"Zu Punkten wechseln"}}},"en-AU":{gradebook2:{total_column_header:{move_to_end:"Move to end",move_to_front:"Move to front",options:"Options",switch_to_percent:"Switch to percent",switch_to_points:"Switch to points"}}},"en-GB":{gradebook2:{total_column_header:{move_to_end:"Move to end",move_to_front:"Move to front",options:"Options",switch_to_percent:"Switch to percent",switch_to_points:"Switch to points"}}},es:{gradebook2:{total_column_header:{move_to_end:"Mover al final",move_to_front:"Mover al principio",options:"Opciones",switch_to_percent:"Cambiar a porcentaje",switch_to_points:"Cambiar a puntos"}}},"fa-IR":{gradebook2:{total_column_header:{move_to_end:"انتقال به انتها",move_to_front:"انتقال به جلو",options:"گزینه ها",switch_to_percent:"تبدیل به درصد",switch_to_points:"تبدیل به امتیاز"}}},fr:{gradebook2:{total_column_header:{move_to_end:"Aller à la fin",move_to_front:"Aller au début",options:"Options",switch_to_percent:"Passer en pourcentage",switch_to_points:"Passer en points"}}},ja:{gradebook2:{total_column_header:{move_to_end:"末尾に移動",move_to_front:"先頭に移動",options:"オプション",switch_to_percent:"パーセントに切り替え",switch_to_points:"点数に切り替え"}}},nb:{gradebook2:{total_column_header:{move_to_end:"Flytt til slutt",move_to_front:"Flytt til forsiden",options:"Muligheter",switch_to_percent:"Bytt til prosent",switch_to_points:"Bytt til poeng"}}},nl:{gradebook2:{total_column_header:{move_to_end:"Naar einde verplaatsen",move_to_front:"Naar voren verplaatsen",options:"Opties",switch_to_percent:"Omleiden naar percentages",switch_to_points:"Omleiden naar punten"}}},pl:{gradebook2:{total_column_header:{move_to_end:"Przesuń do końca",move_to_front:"Przesuń na początek",options:"Opcje",switch_to_percent:"Przełącz na procenty",switch_to_points:"Przełącz na punkty"}}},pt:{gradebook2:{total_column_header:{move_to_end:"Mover para o fim",move_to_front:"Mover para a frente",options:"Opções",switch_to_percent:"Mudar para percentagem",switch_to_points:"Mudar para pontos"}}},"pt-BR":{gradebook2:{total_column_header:{move_to_end:"Mover para final",move_to_front:"Mover para frente",options:"Opções",switch_to_percent:"Alternar para porcentagem",switch_to_points:"Alternar para pontos"}}},ru:{gradebook2:{total_column_header:{move_to_end:"Перейти к концу",move_to_front:"Перейти к началу",options:"Параметры",switch_to_percent:"Переключиться на проценты",switch_to_points:"Переключиться на баллы"}}},tr:{gradebook2:{total_column_header:{move_to_end:"Sona taşı",move_to_front:"Öne taşı",options:"Seçenekler",switch_to_percent:"Yüzdeye geç",switch_to_points:"Puanlara geç"}}},zh:{gradebook2:{total_column_header:{move_to_end:"移到结尾",move_to_front:"移到开头",options:"可选功能",switch_to_percent:"切换到百分比",switch_to_points:"切换到得分"}}},zh_Hant:{gradebook2:{total_column_header:{move_to_end:"移至結尾",move_to_front:"移至前面",options:"選項",switch_to_percent:"切換至百分比",switch_to_points:"切換至點"}}}}})}),define("jst/gradebook2/total_column_header",["compiled/handlebars_helpers","i18n!gradebook2.total_column_header"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/total_column_header"]=t(function(e,t,n,o,i){function s(e,t){var o,i="";return i+='\n    <li><a class=toggle_percent href="#">\n      ',o=n["if"].call(e,e&&e.showingPoints,{hash:{},inverse:p.program(4,a,t),fn:p.program(2,r,t),data:t}),(o||0===o)&&(i+=o),i+="\n    </a></li>\n  "}function r(e,t){var o,i,s,r="";return r+="\n        ",i=n.t||e&&e.t,s={hash:{scope:"gradebook2.total_column_header"},data:t},o=i?i.call(e,"switch_to_percent","Switch to percent",s):m.call(e,"t","switch_to_percent","Switch to percent",s),(o||0===o)&&(r+=o),r+="\n      "}function a(e,t){var o,i,s,r="";return r+="\n        ",i=n.t||e&&e.t,s={hash:{scope:"gradebook2.total_column_header"},data:t},o=i?i.call(e,"switch_to_points","Switch to points",s):m.call(e,"t","switch_to_points","Switch to points",s),(o||0===o)&&(r+=o),r+="\n      "}function l(e,t){var o,i,s,r="";return r+="\n      ",i=n.t||e&&e.t,s={hash:{scope:"gradebook2.total_column_header"},data:t},o=i?i.call(e,"move_to_end","Move to end",s):m.call(e,"t","move_to_end","Move to end",s),(o||0===o)&&(r+=o),r+="\n    "}function u(e,t){var o,i,s,r="";return r+="\n      ",i=n.t||e&&e.t,s={hash:{scope:"gradebook2.total_column_header"},data:t},o=i?i.call(e,"move_to_front","Move to front",s):m.call(e,"t","move_to_front","Move to front",s),(o||0===o)&&(r+=o),r+="\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var d,c,g,h="",m=n.helperMissing,p=this;return h+='<a id=total_dropdown class=gradebook-header-drop href="#" role=button>\n  ',c=n.t||t&&t.t,g={hash:{scope:"gradebook2.total_column_header"},data:i},d=c?c.call(t,"options","Options",g):m.call(t,"t","options","Options",g),(d||0===d)&&(h+=d),h+="\n</a>\n<ul class=gradebook-header-menu>\n  ",d=n.unless.call(t,t&&t.weightedGroups,{hash:{},inverse:p.noop,fn:p.program(1,s,i),data:i}),(d||0===d)&&(h+=d),h+="\n  <li><a class=move_column href=#>\n    ",d=n["if"].call(t,t&&t.totalColumnInFront,{hash:{},inverse:p.program(8,u,i),fn:p.program(6,l,i),data:i}),(d||0===d)&&(h+=d),h+="\n  </a></li>\n</ul>\n"}),n["gradebook2/total_column_header"]}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("compiled/gradebook2/TotalColumnHeaderView",["jquery","Backbone","jst/gradebook2/total_column_header"],function(t,o,i){var s,r;return s=function(t){function o(){return this.moveColumn=e(this.moveColumn,this),this.togglePercent=e(this.togglePercent,this),r=o.__super__.constructor.apply(this,arguments)}return n(o,t),o.prototype.el="#total_column_header",o.prototype.events={"click .toggle_percent":"togglePercent","click .move_column":"moveColumn"},o.prototype.template=i,o.prototype.togglePercent=function(){return this.options.toggleShowingPoints(),this.render(),!1},o.prototype.moveColumn=function(){return this.options.moveTotalColumn(),this.render(),!1},o.prototype.render=function(){return this.$menu&&this.$menu.remove(),o.__super__.render.call(this),this.$menu=this.$el.find(".gradebook-header-menu"),this.$el.find("#total_dropdown").kyleMenu({noButton:!0,appendMenuTo:"#gradebook_grid"}),this.$menu.css("width","150"),this},o.prototype.toJSON=function(){var e;return e={showingPoints:this.options.showingPoints,weightedGroups:this.options.weightedGroups,totalColumnInFront:this.options.totalColumnInFront}},o}(o.View)})}.call(this),function(){define("compiled/util/round",[],function(){var e;return e=function(e,t){var n;return null==t&&(t=0),"number"==typeof e||e instanceof Number||(e=parseFloat(e)),n=Math.pow(10,t),Math.round(e*n)/n},e.DEFAULT=2,e})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("compiled/views/InputView",["Backbone"],function(e){var n,o,i;return o=e.View,n=function(e){function n(){return i=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="input",n.prototype.defaults={modelAttribute:"unnamed"},n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.setupElement()},n.prototype.setElement=function(){return n.__super__.setElement.apply(this,arguments),this.setupElement()},n.prototype.setupElement=function(){var e,t;return this.lastValue=null!=(e=this.el)?e.value:void 0,this.modelAttribute=this.$el.attr("name")||(null!=(t=this.options)?t.modelAttribute:void 0)},n.prototype.attach=function(){var e=this;if(this.collection)return this.collection.on("beforeFetch",function(){return e.$el.addClass("loading")}),this.collection.on("fetch",function(){return e.$el.removeClass("loading")}),this.collection.on("fetch:fail",function(){return e.$el.removeClass("loading")})},n.prototype.updateModel=function(){var e;if(e=this.el.value,e&&e.length<this.options.minLength&&!(this.options.allowSmallerNumbers&&e>0)){if(!this.options.setParamOnInvalid)return;e=!1}return this.setParam(e)},n.prototype.setParam=function(e){var t,n,o;return null!=(t=this.model)&&t.set(this.modelAttribute,e),""===e?null!=(n=this.collection)?n.deleteParam(this.modelAttribute):void 0:null!=(o=this.collection)?o.setParam(this.modelAttribute,e):void 0},n}(o)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("compiled/views/InputFilterView",["compiled/views/InputView","vendor/jquery.placeholder"],function(t){var o,i;return o=function(t){function o(){return this.onInput=e(this.onInput,this),i=o.__super__.constructor.apply(this,arguments)}return n(o,t),o.prototype.events={keyup:"keyup",change:"change"},o.prototype.defaults={onInputDelay:200,modelAttribute:"filter",minLength:3,allowSmallerNumbers:!0},o.prototype.onInput=function(){return this.el.value!==this.lastValue&&(this.updateModel(),this.trigger("input",this.el.value)),this.lastValue=this.el.value},o.prototype.onEnter=function(){return this.el.select(),this.trigger("enter",this.el.value)},o.prototype.keyup=function(e){return clearTimeout(this.onInputTimer),this.onInputTimer=setTimeout(this.onInput,this.options.onInputDelay),null!=e.which&&13===e.which&&this.onEnter(),null},o.prototype.change=o.prototype.keyup,o.prototype.afterRender=function(){return this.$el.placeholder()},o}(t)})}.call(this),define("translations/gradebook2",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{alerts:{scores_updated:{one:"تم تحديث نتائج طالب واحد",other:"تم تحديث نتائج %{count} من الطلاب"}},all_sections:"كل الأقسام",assignment_muted:"تم إخفاء درجة التعيين",concluded_course_error_message:"هذه هي إحدى الدورات التدريبية المنتهية، لذلك لا تتوفر سوى التسجيلات المنتهية.",course_average:"معدل المساق",course_median:"متوسط المساق",course_mode:"وضع المساق",dropped_for_grading:"تم إسقاطه لأغراض التصحيح",error:{update:"حدث خطأ عند تحديث هذه المهمة. يرجى تحديث الصفحة والمحاولة مرة أخرى.\n"},errors:{no_points_possible:"يتعذر الانحناء دون النقاط الممكنة",none_to_update:"لا يوجد شيء لتحديثه",upload_as_zip:"الرجاء تحميل الملفات كملف zip. مضغوط"},grade_display_warning:{cancel:"إلغاء","continue":"متابعة",percent_text:"سيشاهد الطلاب أيضًا درجتهم النهائية كنسبة مئوية. هل ترغب بالفعل في المتابعة؟",points_text:"سيشاهد الطلاب أيضًا درجتهم النهائية كنقاط. هل ترغب بالفعل في المتابعة؟"},hide_notes:"إخفاء عمود الملاحظات",hide_student_names:"إخفاء أسماء الطلاب",invalid_assignment_groups_warning:{one:"لا يتضمن مجموع الدرجات %{groups} لأنها ليست لديها نقاط ممكنة",other:"لا يتضمن مجموع الدرجات %{groups} مجموعات لأنها ليست لديها نقاط ممكنة"},keyboard_assignment_desc:"انتقال إلى صفحة تفاصيل المهمة الحالية",keyboard_close_menu:"إغلاق قائمة المهمة النشطة حاليًا",keyboard_comment_desc:"تعليق على عملية الإرسال النشطة",keyboard_menu_desc:"فتح قائمة مهمة العمود النشط",keyboard_sort_desc:"فرز الشبكة حسب العمود النشط حاليًا",keyboard_tooltip_desc:"إظهار نوع الإرسال لعملية الإرسال النشطة",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"ناتج التعلم",mastery:"إتقان",near_mastery:"قريب من الإتقان",no_assignments_have_points_warning:"لا يمكن حساب مجموع الدرجات إلا أن تكون للمهمة نقاط ممكنة",notes:"ملاحظات",percent_of_grade:" %{percentage} من الدرجة",points_out_of:"من %{points_possible}",remedial:"بحاجة إلى تحسين",resubmitted:"تمت إعادة إرساله منذ آخر تصحيح",secondary_id:"المعرف الثانوي",show_notes:"إظهار عمود الملاحظات",show_student_names:"إظهار أسماء الطلاب",student_name:"اسم الطالب",students_who:{havent_been_graded:"لم يتم تصحيحها",havent_submitted_yet:"لم يتم الإرسال بعد",no_grade_for:"لا توجد درجات لـ %{assignment}",no_submission_for:"لا يوجد إرسال لـ %{assignment}",not_submitted_yet:"لم يتم الإرسال بعد",scored_less_than:"تم إحراز نقاط أقل من",scored_less_than_on:"تم إحراز درجات أقل من %{cutoff} في %{assignment}",scored_more_than:"تم إحراز نقاط أكثر من",scored_more_than_on:"تم إحراز درجات أكثر من %{cutoff} في %{assignment}"},submitted_late:"تم إرساله متأخرًا",title:{quiz:"إرسال الاختبار",turnitin:"له درجات Turnitin"},titles:{discussion:"إرسال المناقشة",media:"إرسال تعليق الوسائط",media_recording:"إرسال تسجيلات الوسائط",quiz_review:"يلزم مراجعة هذا الاختبار",text:"إرسال إدخال النص",upload:"إرسال تحميل الملف",url:"إرسال عنوان URL"},total:"الإجمالي",ungraded:"لم توضع في الحسبان عند التصحيح"}},de:{gradebook2:{alerts:{scores_updated:{one:"1 Punktestand aktualisiert",other:"%{count} Punktestände aktualisiert"}},all_sections:"Alle Kursabschnitte",assignment_muted:"Aufgabe stummgeschaltet",concluded_course_error_message:"Dies ist ein abgeschlossener Kurs. Aus diesem Grund stehen nur abgeschlossene Einschreibungen zur Verfügung.",course_average:"Kursdurchschnitt",course_median:"Mittlerer Wert für Kurs",course_mode:"Kursmodus",dropped_for_grading:"Bleibt bei der Bewertung unberücksichtigt",error:{update:"Beim Aktualisieren der Aufgabe ist ein Fehler aufgetreten. Aktualisieren Sie die Seite, und versuchen Sie es erneut."},errors:{no_points_possible:"Kurve kann nicht ohne mögliche Punkte erstellt werden",none_to_update:"Keine Aktualisierungen notwendig",upload_as_zip:"Bitte laden Sie die Dateien im Zip-format hoch"},grade_display_warning:{cancel:"Abbrechen","continue":"Fortfahren",percent_text:"Studenten wird ihre Gesamtnote auch als Prozentsatz angezeigt. Möchten Sie wirklich fortfahren?",points_text:"Studenten wird ihre Gesamtnote auch in Form von Punkten angezeigt. Möchten Sie wirklich fortfahren?"},hide_notes:"Anmerkungsspalte ausblenden",hide_student_names:"Namen der Studenten ausblenden",invalid_assignment_groups_warning:{one:"%{groups} ist in der Punktzahl nicht enthalten, da hierfür keine Punkte vergeben werden können",other:"%{groups} sind in der Punktzahl nicht enthalten, da hierfür keine Punkte vergeben werden können"},keyboard_assignment_desc:"Zur Seite mit Details der aktuellen Aufgabe wechseln",keyboard_close_menu:"Derzeit aktives Aufgabenmenü schließen",keyboard_comment_desc:"Aktive Einreichung kommentieren",keyboard_menu_desc:"Menü für Aufgabe der aktiven Spalte öffnen",keyboard_sort_desc:"Raster nach der derzeit aktiven Spalte sortieren",keyboard_tooltip_desc:"Einsendungsart für die aktive Einsendung anzeigen",keycodes:{close_menu:"ESC",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Lernergebnis",mastery:"Leistungsziel erreicht",near_mastery:"Leistungsziel fast erreicht",no_assignments_have_points_warning:"Die Punktzahl kann erst berechnet werden, wenn für die Aufgabe Punkte vergeben werden können",notes:"Anmerkungen",percent_of_grade:"%{percentage} der Note",points_out_of:"von insgesamt %{points_possible}",remedial:"Wiederholung",resubmitted:"seit letzter Benotung erneut eingesandt",secondary_id:"Zweit-ID",show_notes:"Anmerkungsspalte anzeigen",show_student_names:"Namen der Studenten anzeigen",student_name:"Name des Studenten",students_who:{havent_been_graded:"Wurden nicht benotet",havent_submitted_yet:"Haben noch nichts eingesandt",no_grade_for:"Keine Note für %{assignment} vorhanden",no_submission_for:"Keine Einsendung für %{assignment} vorhanden",not_submitted_yet:"Haben noch nichts eingesandt",scored_less_than:"Punktzahl unter",scored_less_than_on:"Hat weniger als %{cutoff} Punkte für %{assignment} erreicht",scored_more_than:"Punktzahl über",scored_more_than_on:"Hat mehr als %{cutoff} Punkte für %{assignment} erreicht"},submitted_late:"Zu spät eingesandt",title:{quiz:"Quizeinsendung",turnitin:"Hat einen Turnitin-score"},titles:{discussion:"Diskussionseinsendung",media:"Einsendung von Multimediakommentar",media_recording:"Einsendung von Medienaufzeichnung",quiz_review:"Dieses Quiz muss korrigiert werden",text:"Einsendung von Texteintrag",upload:"Dateiupload-einsendung",url:"URL-einsendung"},total:"Gesamt",ungraded:"Nicht für die Note berücksichtigt"}},"en-AU":{gradebook2:{alerts:{scores_updated:{one:"1 Student score updated",other:"%{count} Student scores updated"}},all_sections:"All Sections",assignment_muted:"Assignment muted",concluded_course_error_message:"This is a concluded course, so only concluded enrollments are available.",course_average:"Course average",course_median:"Course median",course_mode:"Course mode",dropped_for_grading:"Dropped for grading purposes",error:{update:"There was an error updating this assignment. Please refresh the page and try again."},errors:{no_points_possible:"Cannot curve without points possible",none_to_update:"None to Update",upload_as_zip:"Please upload files as a .zip"},grade_display_warning:{cancel:"Cancel","continue":"Continue",percent_text:"Students will also see their final grade as a percentage. Are you sure you want to continue?",points_text:"Students will also see their final grade as points. Are you sure you want to continue?"},hide_notes:"Hide Notes Column",hide_student_names:"Hide Student Names",invalid_assignment_groups_warning:{one:"Score does not include %{groups} because they have no points possible",other:"Score does not include %{groups} because they have no points possible"},keyboard_assignment_desc:"Go to the current assignment's detail page",keyboard_close_menu:"Close the currently active assignment menu",keyboard_comment_desc:"Comment on the active submission",keyboard_menu_desc:"Open the menu for active column's assignment",keyboard_sort_desc:"Sort the grid on the current active column",keyboard_tooltip_desc:"Show the submission type of the active submission",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Learning Outcome",mastery:"mastery",near_mastery:"near mastery",no_assignments_have_points_warning:"Can't compute score until an assignment has points possible",notes:"Notes",percent_of_grade:"%{percentage} of grade",points_out_of:"out of %{points_possible}",remedial:"remedial",resubmitted:"Resubmitted since last graded",secondary_id:"Secondary ID",show_notes:"Show Notes Column",show_student_names:"Show Student Names",student_name:"Student Name",students_who:{havent_been_graded:"Haven't been graded",havent_submitted_yet:"Haven't submitted yet",no_grade_for:"No grade for %{assignment}",no_submission_for:"No submission for %{assignment}",not_submitted_yet:"Haven't submitted yet",scored_less_than:"Scored less than",scored_less_than_on:"Scored less than %{cutoff} on %{assignment}",scored_more_than:"Scored more than",scored_more_than_on:"Scored more than %{cutoff} on %{assignment}"},submitted_late:"Submitted late",title:{quiz:"Quiz Submission",turnitin:"Has Turnitin score"},titles:{discussion:"Discussion Submission",media:"Media Comment Submission",media_recording:"Media Recording Submission",quiz_review:"This quiz needs review",text:"Text Entry Submission",upload:"File Upload Submission",url:"URL Submission"},total:"Total",ungraded:"Not factored into grading"}},"en-GB":{gradebook2:{alerts:{scores_updated:{one:"1 student score updated",other:"%{count} student scores updated"}},all_sections:"All sections",assignment_muted:"Assignment muted",concluded_course_error_message:"This is a concluded course, so only concluded enrolments are available.",course_average:"Course average",course_median:"Course median",course_mode:"Course mode",dropped_for_grading:"Dropped for grading purposes",error:{update:"There was an error updating this assignment. Please refresh the page and try again."},errors:{no_points_possible:"Cannot curve without points possible",none_to_update:"None to update",upload_as_zip:"Please upload files as a .zip"},grade_display_warning:{cancel:"Cancel","continue":"Continue",percent_text:"Students will also see their final grade as a percentage. Are you sure you want to continue?",points_text:"Students will also see their final grade as points. Are you sure you want to continue?"},hide_notes:"Hide Notes Column",hide_student_names:"Hide Student Names",invalid_assignment_groups_warning:{one:"Score does not include %{groups} because it has no points possible",other:"Score does not include %{groups} because they have no points possible"},keyboard_assignment_desc:"Go to the current assignment's detail page",keyboard_close_menu:"Close the currently active assignment menu",keyboard_comment_desc:"Comment on the active submission",keyboard_menu_desc:"Open the menu for active column's assignment",keyboard_sort_desc:"Sort the grid on the current active column",keyboard_tooltip_desc:"Show the submission type of the active submission",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Learning outcome",mastery:"mastery",near_mastery:"near mastery",no_assignments_have_points_warning:"Can't compute score until an assignment has points possible",notes:"Notes",percent_of_grade:"%{percentage} of grade",points_out_of:"out of %{points_possible}",remedial:"remedial",resubmitted:"Resubmitted since last graded",secondary_id:"Secondary ID",show_notes:"Show Notes Column",show_student_names:"Show student names",student_name:"Student name",students_who:{havent_been_graded:"Haven't been graded",havent_submitted_yet:"Haven't submitted yet",no_grade_for:"No grade for %{assignment}",no_submission_for:"No submission for %{assignment}",not_submitted_yet:"Haven't submitted yet",scored_less_than:"Scored less than",scored_less_than_on:"Scored less than %{cutoff} on %{assignment}",scored_more_than:"Scored more than",scored_more_than_on:"Scored more than %{cutoff} on %{assignment}"},submitted_late:"Submitted late",title:{quiz:"Quiz submission",turnitin:"Has Turnitin score"},titles:{discussion:"Discussion submission",media:"Media comment submission",media_recording:"Media Recording Submission",quiz_review:"This quiz needs to be reviewed",text:"Text entry submission",upload:"File upload submission",url:"URL submission"},total:"Total",ungraded:"Not factored into grading"}},es:{gradebook2:{alerts:{scores_updated:{one:"1 resultado actualizado",other:"%{count} resultados actualizados"}},all_sections:"Todas las Secciones",assignment_muted:"Tarea silenciada",concluded_course_error_message:"Este curso ha concluido, por lo que solo están disponibles matrículas concluidas.",course_average:"Media del curso",course_median:"Mediana del curso",course_mode:"Moda del curso",dropped_for_grading:"Eliminado por motivos de calificación",error:{update:"Se ha producido un error al actualizar esta asignación. Actualice la página y vuelva a intentarlo."},errors:{no_points_possible:"No se puede aplicar la curva si no hay puntos posibles",none_to_update:"Nada que Actualizar",upload_as_zip:"Por favor cargas archivos como un .zip"},grade_display_warning:{cancel:"Cancelar","continue":"Continuar",percent_text:"Los alumnos también podrán ver su calificación final en formato de porcentaje. ¿Está seguro de que desea continuar?",points_text:"Los alumnos también podrán ver su calificación final en formato de puntos. ¿Está seguro de que desea continuar?"},hide_notes:"Ocultar la columna de notas",hide_student_names:"Esconder los Nombres de Estudiantes",invalid_assignment_groups_warning:{one:"La puntuación no incluye a %{groups} porque no se puede evaluar",other:"La puntuación no incluye a %{groups} porque no se pueden evaluar"},keyboard_assignment_desc:"Ir a la página de detalles de tareas actual",keyboard_close_menu:"Cerrar el menú de tareas activo actualmente",keyboard_comment_desc:"Comentar el envío activo",keyboard_menu_desc:"Abrir el menú para la tarea de la columna activa",keyboard_sort_desc:"Ordenar la cuadrícula en la columna activa actual",keyboard_tooltip_desc:"Mostrar el tipo de envío del envío activo",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Resultado de aprendizaje",mastery:"Dominio",near_mastery:"Casi dominio",no_assignments_have_points_warning:"No se puede calcular la puntuación hasta que una tarea esté evaluada",notes:"Notas",percent_of_grade:"%{percentage} de la calificación",points_out_of:"de %{points_possible}",remedial:"medidas correctoras",resubmitted:"Renviado desde la última calificación",secondary_id:"ID secundaria",show_notes:"Mostrar columna de notas",show_student_names:"Mostrar los Nombres de Estudiantes",student_name:"Nombre del Estudiante",students_who:{havent_been_graded:"No ha sido calificado",havent_submitted_yet:"Aún no ha enviado",no_grade_for:"No hay calificación para %{assignment}",no_submission_for:"No hay envío para %{assignment}",not_submitted_yet:"Todavía no ha sido enviado",scored_less_than:"Obtuvo menos de",scored_less_than_on:"Puntuación inferior a %{cutoff} en %{assignment}",scored_more_than:"Obtuvo más de",scored_more_than_on:"Puntuación superior a %{cutoff} en %{assignment}"},submitted_late:"Enviado tarde",title:{quiz:"Envío de Evaluación",turnitin:"Tiene una calificación de Turnitin"},titles:{discussion:"Envío de la Discusión",media:"Envío de Comentario de Media",media_recording:"Envío de grabación multimedia",quiz_review:"Esta evaluación necesita revisión",text:"Envío de Ingreso de Texto",upload:"Envío para la Carga del Archivo",url:"Envío de URL"},total:"Total",ungraded:"No se ha tenido en cuenta en la calificación"}},"fa-IR":{gradebook2:{alerts:{scores_updated:{one:"%{count} نمره دانشجو بهنگام سازی شد",other:"%{count} نمره دانشجو بهنگام سازی شد"}},all_sections:"همه بخش ها",assignment_muted:"تکلیف غیر فعال شد",concluded_course_error_message:"یک درس خاتمه یافته است، بنابراین فقط ثبت نام های خاتمه یافته در دسترس هستند.",course_average:"میانگین درس",course_median:"میانه درس",course_mode:"مد درس",dropped_for_grading:"برای نمره گذاری حذف شد",error:{update:"در هنگام بهنگام سازی این تکلیف خطایی رخ داد. لطفا صفحه را تازه کنید و دوباره سعی کنید."},errors:{no_points_possible:"بدون امتیازهای ممکن، نمی توان روی منحنی برد",none_to_update:"هیچ موردی برای بهنگام سازی موجود نیست",upload_as_zip:"لطفا فایل ها را به صورت .zip بارگذاری نمایید"},grade_display_warning:{cancel:"لغو","continue":"ادامه",percent_text:"دانشجویان نمره نهایی خود را به صورت درصد نیز مشاهده خواهند کرد. مطمئنید که می خواهید ادامه دهید؟",points_text:"دانشجویان نمره نهایی خود را به صورت امتیاز نیز مشاهده خواهند کرد. مطمئنید که می خواهید ادامه دهید؟"},hide_notes:"مخفی کردن ستون یادداشت ها",hide_student_names:"مخفی کردن نام دانشجویان",invalid_assignment_groups_warning:{one:"نمره شامل  %{groups} نمی شود، زیرا آنها هیچ امتیاز ممکن ندارند",other:"نمره شامل  %{groups} نمی شود، زیرا آنها هیچ امتیاز ممکن ندارند"},keyboard_assignment_desc:"رفتن به صفحه اطلاعات تکلیف فعلی",keyboard_close_menu:"بستن منوی تکلیف فعال کنونی",keyboard_comment_desc:"نظر دادن درباره مورد ارسالی فعال",keyboard_menu_desc:"باز کردن منوی تکلیف ستون فعال",keyboard_sort_desc:"مرتب کردن شبکه روی ستون فعال فعلی",keyboard_tooltip_desc:"نمایش نوع ارسال مورد ارسالی فعال",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"نتیجه یادگیری",mastery:"تسلط",near_mastery:"نزدیک به تسلط",no_assignments_have_points_warning:"تا زمانی که یک تکلیف نمره های ممکن نداشته باشد، نمره قابل محاسبه نیست",notes:"یادداشت ها",percent_of_grade:"%{percentage} از نمره",points_out_of:"از %{points_possible}",remedial:"جبرانی",resubmitted:"از زمان آخرین نمره گذاری دوباره ارسال شد",secondary_id:"شناسه ثانویه",show_notes:"نمایش ستون یادداشت ها",show_student_names:"نمایش نام دانشجویان",student_name:"نام دانشجو",students_who:{havent_been_graded:"نمره گذاری نشده است",havent_submitted_yet:"هنوز ارسال نکرده است",not_submitted_yet:"هنوز ارسال نکرده است",scored_less_than:"نمره گذاری شده کمتر از",scored_less_than_on:"نمره کمتر از  %{cutoff} در %{assignment} ",scored_more_than:"نمره گذاری شده بیشتر از",scored_more_than_on:"نمره بیشتر از  %{cutoff} در %{assignment}"},submitted_late:"با تأخیر ارسال شده است",title:{quiz:"ارسال آزمون",turnitin:"دارای نمره Turnitin"},titles:{discussion:"ارسال بحث",media:"ارسال نظر رسانه ای",media_recording:"ارسال ضبط رسانه",quiz_review:"این آزمون به بازبینی نیاز دارد",text:"ارسال ورودی متن",upload:"ارسال بارگذاری فایل",url:"ارسال نشانی اینترنتی"},total:"کل",ungraded:"در نمره گذاری لحاظ نشده است"}},fr:{gradebook2:{alerts:{scores_updated:{one:"1 note d’étudiant mise à jour",other:"%{count} notes d’étudiant mises à jour"}},all_sections:"Toutes les sections",assignment_muted:"Tâche silencieuse",concluded_course_error_message:"Ce cours est clos, aussi seules les inscriptions closes sont disponibles.",course_average:"Moyenne du cours",course_median:"Médiane du cours",course_mode:"Mode du cours",dropped_for_grading:"Abandonné pour des raisons de notation",error:{update:"Une erreur s’est produite pendant la mise à jour de cette tâche. Veuillez réactualiser la page et recommencer."},errors:{no_points_possible:"Impossible de créer la courbe sans points possibles",none_to_update:"Aucune mise à jour nécessaire",upload_as_zip:"Veuillez télécharger les fichiers sous forme de fichier zip."},grade_display_warning:{cancel:"Annuler","continue":"Continuer",percent_text:"Les étudiants verront également leur note finale sous la forme d’un pourcentage. Voulez-vous vraiment continuer ?",points_text:"Les étudiants verront également leur note finale sous forme de points. Voulez-vous vraiment continuer ?"},hide_notes:"Masquer la colonne des remarques",hide_student_names:"Masquer les noms des étudiants",invalid_assignment_groups_warning:{one:"Le résultat n’inclut pas %{groups} parce qu’il n’a                   pas de points possibles",other:"Le résultat n’inclut pas %{groups} parce qu’ils n’ont                    pas de points possibles"},keyboard_assignment_desc:"Accéder à la page détaillée des travaux en cours",keyboard_close_menu:"Fermer le menu du travail actif en cours",keyboard_comment_desc:"Commentaire sur l’envoi en cours",keyboard_menu_desc:"Ouvrir le menu du travail de la colonne active",keyboard_sort_desc:"Trier la grille en fonction de la colonne active",keyboard_tooltip_desc:"Afficher le type d’envoi pour l’envoi actif",keycodes:{close_menu:"Échap",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Acquis",mastery:"maîtrisé",near_mastery:"presque maîtrisé",no_assignments_have_points_warning:"Impossible de calculer le résultat jusqu’à ce qu’une tâche ait des points possibles",notes:"Remarques",percent_of_grade:"%{percentage} de la note",points_out_of:"sur %{points_possible}",remedial:"soutien",resubmitted:"Renvoyé depuis la dernière note",secondary_id:"ID secondaire",show_notes:"Afficher la colonne des remarques",show_student_names:"Afficher les noms des étudiants",student_name:"Nom de l’étudiant",students_who:{havent_been_graded:"N’ont pas été noté(e)s",havent_submitted_yet:"Pas encore envoyé",no_grade_for:"Pas de note pour %{assignment}",no_submission_for:"Pas d’envoi pour %{assignment}",not_submitted_yet:"Pas encore envoyé",scored_less_than:"Note inférieure à",scored_less_than_on:"Résultat inférieur à %{cutoff} pour %{assignment}",scored_more_than:"Note supérieure à",scored_more_than_on:"Résultat supérieur à %{cutoff} pour %{assignment}"},submitted_late:"Envoi tardif",title:{quiz:"Envoi de questionnaire",turnitin:"A une note Turnitin"},titles:{discussion:"Envoi de la discussion",media:"Envoi du commentaire multimédia",media_recording:"Envoi d’un enregistrement multimédia",quiz_review:"Ce questionnaire doit être révisé",text:"Envoi d’une entrée de texte",upload:"Envoi d’un téléchargement de fichier",url:"Envoi d’une URL"},total:"Total",ungraded:"Pas pris en compte dans la notation"}},ja:{gradebook2:{alerts:{scores_updated:{one:"%{count} 人の受講生のスコアを更新しました",other:"%{count} 人の受講生のスコアを更新しました"}},all_sections:"すべてのセクション",assignment_muted:"課題はミュートになっています",concluded_course_error_message:"これは完了したコースなので、完了済みの登録のみ使用できます。",course_average:"コース平均値",course_median:"コース中央値",course_mode:"コース モード",dropped_for_grading:"採点のためドロップされています",error:{update:"この課題を更新する際にエラーが発生しました。ページを更新してから、もう一度試してください。"},errors:{no_points_possible:"配点がないと分布曲線に基づいて評価できません",none_to_update:"更新するものがありません",upload_as_zip:"ファイルは .zip 形式でアップロードしてください"},grade_display_warning:{cancel:"キャンセル","continue":"続行",percent_text:"最終的な成績は、受講生に対してパーセンテージとして表示されます。続行しますか?",points_text:"最終的な成績は、受講生に対して点数として表示されます。続行しますか?"},hide_notes:"メモ列を非表示",hide_student_names:"受講生の名前を非表示",invalid_assignment_groups_warning:{one:"配点がないため、%{groups} はスコアに含まれません",other:"配点がないため、%{groups} はスコアに含まれません"},keyboard_assignment_desc:"現在の課題の詳細ページに移動",keyboard_close_menu:"現在アクティブな課題のメニューを閉じる",keyboard_comment_desc:"アクティブな提出物にコメント",keyboard_menu_desc:"アクティブな列の課題のメニューを開く",keyboard_sort_desc:"現在アクティブな列でグリッドを並べ替え",keyboard_tooltip_desc:"アクティブな提出物の提出物タイプの表示",keycodes:{close_menu:"Esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"学習成果",mastery:"達成",near_mastery:"ほぼ達成",no_assignments_have_points_warning:"課題に配点を設定するまで、スコアは計算できません",notes:"メモ",percent_of_grade:"成績の %{percentage}",points_out_of:"配点: %{points_possible}",remedial:"補習",resubmitted:"前回の採点後に再提出されました",secondary_id:"セカンダリ ID",show_notes:"メモ列を表示",show_student_names:"受講生の名前を表示",student_name:"受講生名",students_who:{havent_been_graded:"採点されていません",havent_submitted_yet:"まだ提出していない",no_grade_for:"%{assignment} の成績なし",no_submission_for:"%{assignment} の提出なし",not_submitted_yet:"未提出",scored_less_than:"次のスコアに満たない: ",scored_less_than_on:"%{assignment} の成績が %{cutoff} 未満",scored_more_than:"次のスコアを上回る: ",scored_more_than_on:"%{assignment} の成績が %{cutoff} より上"},submitted_late:"遅れて提出",title:{quiz:"クイズへの提出物",turnitin:"Turnitin スコアがあります"},titles:{discussion:"ディスカッションへの提出",media:"メディア コメントの提出",media_recording:"メディアの記録の提出",quiz_review:"このクイズはレビューが必要",text:"テキスト入力の提出",upload:"ファイル アップロードの提出",url:"URL の提出"},total:"合計",ungraded:"採点に考慮されない"}},nb:{gradebook2:{alerts:{scores_updated:{one:"1 studentresultat oppdatert",other:"%{count} studentresultater oppdatert"}},all_sections:"Alle klasser",assignment_muted:"Oppgaven er satt til passiv",concluded_course_error_message:"Dette er et fullført kurs, så kun fullførte påmeldinger er tilgjengelig.",course_average:"Gjennomsnitt i kurset",course_median:"Median i kurset",course_mode:"Kursmodus",dropped_for_grading:"Dropped for grading purposes",error:{update:"Det skjedde en feil under oppdatering av denne oppgaven. Last siden på nytt og prøv igjen."},errors:{no_points_possible:"Kan ikke korrigere uten tilgjengelige poeng",none_to_update:"Ingen ting å oppdatere",upload_as_zip:"Vennligst last opp filer som en .zip"},grade_display_warning:{cancel:"Avbryt","continue":"Fortsett",percent_text:"Studenter vil også se sine endelige karakterer som et prosenttall. Er du sikker på at du vil fortsette?",points_text:"Studenter vil også se sine endelige karakterer som poeng. Er du sikker på at du vil fortsette?"},hide_notes:"Skjul merknadskolonne",hide_student_names:"Skjul studentnavn",invalid_assignment_groups_warning:{one:"Resultatet inneholder ikke %{groups} fordi den ikke har noen oppnåelige poeng",other:"Resultatet inneholder ikke %{groups} fordi de ikke har noen oppnåelige poeng"},keyboard_assignment_desc:"Gå til den nåværende oppgavens detaljside",keyboard_close_menu:"Lukk menyen for den aktive oppgaven",keyboard_comment_desc:"Kommenter den aktive innleveringen",keyboard_menu_desc:"Åpne menyen for den aktive kolonnens oppgave",keyboard_sort_desc:"Sorter rutenettet etter den aktive kolonnen",keyboard_tooltip_desc:"Vis hvilken type innlevering den aktive innleveringen er",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Læringsmål",mastery:"mestrer",near_mastery:"mestrer nesten",no_assignments_have_points_warning:"Kan ikke regne ut resultat før en oppgave har oppnåelige poeng",notes:"Merknader",percent_of_grade:"%{percentage} av karakter",points_out_of:"av %{points_possible}",remedial:"forbedringspotensial",resubmitted:"Levert på nytt siden siste retting",secondary_id:"Sekundær ID",show_notes:"Vis merknadskolonne",show_student_names:"Vis studentnavn",student_name:"Studentens Navn",students_who:{havent_been_graded:"Har ikke blitt rettet",havent_submitted_yet:"Har ikke levert enda",no_grade_for:"Ingen karakter i %{assignment}",no_submission_for:"Ingen levering i %{assignment}",not_submitted_yet:"Har ikke levert enda",scored_less_than:"Fikk resultat lavere enn",scored_less_than_on:"Fikk et resultat lavere enn %{cutoff} på %{assignment}",scored_more_than:"Fikk resultat høyere enn",scored_more_than_on:"Fikk et resultat høyere enn %{cutoff} på %{assignment}"},submitted_late:"Levert etter fristen",title:{quiz:"Prøveinnlevering",turnitin:"Har Turnitin-resultat"},titles:{discussion:"Diskusjonsinnlevering",media:"Innlevering av mediekommentar",media_recording:"Innlevering av mediaopptak",quiz_review:"Denne prøven må gås gjennom",text:"Innlevering av tekstinnlegg",upload:"Innlevering med filopplasting",url:"Innlevering av URL"},total:"Total",ungraded:"Ikke tatt med i sensur"}},nl:{gradebook2:{alerts:{scores_updated:{one:"Score van 1 cursist bijgewerkt",other:"%{count} scores van cursist bijgewerkt"}},all_sections:"Alle secties",assignment_muted:"Opdracht onzichtbaar",concluded_course_error_message:"Dit is een afgesloten cursus, dus alleen afgesloten inschrijvingen zijn beschikbaar.",course_average:"Cursus gemiddelde",course_median:"Cursus mediaan",course_mode:"Cursus modus",dropped_for_grading:"Wordt niet meegenomen in de beoordeling",error:{update:"Er is een fout opgetreden bij het bijwerken van deze opdracht. Vernieuw de pagina en probeer het opnieuw."},errors:{no_points_possible:"Kan niet aanpassen zonder de mogelijke punten te weten",none_to_update:"Niets om bij te werken",upload_as_zip:"Upload bestanden als een zipbestand"},grade_display_warning:{cancel:"Annuleren","continue":"Doorgaan",percent_text:"Cursisten zullen ook hun eindcijfers als een percentage zien. Ben je zeker dat je wilt doorgaan?",points_text:"Cursisten zullen ook hun eindcijfers als punten zien. Ben je zeker dat je wilt doorgaan?"},hide_notes:"Opmerkingen in kolom verbergen",hide_student_names:"Namen van cursisten verbergen",invalid_assignment_groups_warning:{one:"Er is geen score voor %{groups} omdat er geen punten toegekend kunnen worden",other:"Er is geen score voor %{groups} omdat er geen punten toegekend kunnen worden"},keyboard_assignment_desc:"Naar de pagina met details over de huidige opdracht gaan",keyboard_close_menu:"Het huidige actieve menu voor de opdracht sluiten",keyboard_comment_desc:"Opmerking over de actieve inzending",keyboard_menu_desc:"Het menu voor de kolom met actieve opdracht openen",keyboard_sort_desc:"Raster sorteren op de huidige actieve kolom",keyboard_tooltip_desc:"Het type inzending voor actieve inzending tonen",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Leerresultaat",mastery:"bekwaam",near_mastery:"bijna bekwaam",no_assignments_have_points_warning:"Kan geen score berekenen totdat het maximale aantal punten voor deze opdracht ingesteld is",notes:"Opmerkingen",percent_of_grade:"%{percentage} van cijfer",points_out_of:"van %{points_possible}",remedial:"verbetering",resubmitted:"Opnieuw ingeleverd sinds laatste beoordeling",secondary_id:"Secundaire ID",show_notes:"Opmerkingen in kolom tonen",show_student_names:"Namen van cursisten tonen",student_name:"Naam van cursist",students_who:{havent_been_graded:"Zijn niet beoordeeld",havent_submitted_yet:"Hebben nog niets ingeleverd",no_grade_for:"Geen cijfer voor %{assignment}",no_submission_for:"Geen inzending voor %{assignment}",not_submitted_yet:"Hebben nog niets ingeleverd",scored_less_than:"Lager gescoord dan",scored_less_than_on:"Lager dan %{cutoff} gescoord voor %{assignment}",scored_more_than:"Hoger gescoord dan",scored_more_than_on:"Hoger dan %{cutoff} gescoord voor %{assignment}"},submitted_late:"Te laat ingeleverd",title:{quiz:"Toetsinzending",turnitin:"Heeft Turnitin-score"},titles:{discussion:"Discussie-inzending",media:"Opmerking op media inzending",media_recording:"Inzending van media opname ",quiz_review:"Deze toets moet nog gecontroleerd worden",text:"Tekstinvoer als inzending",upload:"Bestand uploaden als inzending",url:"URL-inzending"},total:"Totaal",ungraded:"Niet meegenomen in beoordeling"}},pl:{gradebook2:{alerts:{scores_updated:{one:"Zaktualizowano wynik 1 uczestnika",other:"Zaktualizowano wynik %{count} uczestników"}},all_sections:"Wszystkie sekcje",assignment_muted:"Zadanie wyłączone",concluded_course_error_message:"Jest to ukończony kurs, zatem jedynie zaakceptowane wpisy są dostępne.",course_average:"Średnia kursu",course_median:"Mediana kursu",course_mode:"Tryb kursu",dropped_for_grading:"Opuszczono w celu ocenienia",error:{update:"Podczas aktualizacji tego zadania wystąpił błąd. Odśwież stronę i spróbuj ponownie."},errors:{no_points_possible:"Nie można wyznaczyć krzywej ocen bez możliwości zdobycia punktów",none_to_update:"Brak pozycji do aktualizacji",upload_as_zip:"Przekaż pliki w formacie .zip"},grade_display_warning:{cancel:"Anuluj","continue":"Kontynuuj",percent_text:"Uczestnicy również zobaczą oceny w formie procentów. Czy na pewno chcesz kontynuować?",points_text:"Uczestnicy również zobaczą oceny w formie punktó. Czy na pewno chcesz kontynuować?"},hide_notes:"Ukryj kolumnę uwag",hide_student_names:"Ukryj nazwy uczestników",invalid_assignment_groups_warning:{one:"Wynik nie uwzględnia %{groups} grupy, ponieważ nie można w niej zdobywać punktów",other:"Wynik nie uwzględnia %{groups} grup, ponieważ nie można w nich zdobywać punktów"},keyboard_assignment_desc:"Przejdź do bieżącej strony informacji szczegółowych o zadaniu",keyboard_close_menu:"Zamknij aktywne menu zadania",keyboard_comment_desc:"Skomentuj aktywne przesłane zadanie",keyboard_menu_desc:"Otwórz menu dla aktywnego zadania w kolumnie",keyboard_sort_desc:"Sortuj siatkę w bieżącej, aktywnej kolumnie",keyboard_tooltip_desc:"Pokaż typ przesyłanego, aktywnego zadania",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Wyniki nauczania",mastery:"biegłość",near_mastery:"w okolicach biegłości",no_assignments_have_points_warning:"Wynik będzie można obliczyć, gdy zadanie będzie miało przydzielone punkty",notes:"Uwagi",percent_of_grade:"%{percentage} z oceny",points_out_of:"na %{points_possible} możliwych",remedial:"wymagający poprawy",resubmitted:"Wysłano ponownie po ocenieniu",secondary_id:"Drugi ID",show_notes:"Pokaż kolumnę uwag",show_student_names:"Pokaż nazwy uczestników",student_name:"Nazwa uczestnika",students_who:{havent_been_graded:"Jeszcze nie oceniono",havent_submitted_yet:"Jeszcze nie dostarczyli zadania",no_grade_for:"Brak oceny za zadanie %{assignment}",no_submission_for:"Nie przesłano zadania do %{assignment}",not_submitted_yet:"Jeszcze nie dostarczono zadania",scored_less_than:"Uzyskali wynik punktowy poniżej",scored_less_than_on:"Zdobyto poniżej %{cutoff} za zadanie %{assignment}",scored_more_than:"Uzyskali wynik punktowy powyżej",scored_more_than_on:"Zdobyto powyżej %{cutoff} za zadanie %{assignment}"},submitted_late:"Przesłano po terminie",title:{quiz:"Przesyłane zadanie w formie testu",turnitin:"Posiada wynik Turnitin "},titles:{discussion:"Przesyłane zadanie w formie dyskusji",media:"Przesyłane zadanie w formie komentarza multimedialnego",media_recording:"Przesłane nagranie multimedialne",quiz_review:"Ten test musi zostać oceniony",text:"Przesłane zadanie w formie wpisu",upload:"Przesłane zadanie w formie pliku",url:"Przesłane zadanie w formie adresu URL"},total:"Łącznie",ungraded:"Nie uwzględnione w ocenianiu"}},pt:{gradebook2:{alerts:{scores_updated:{one:"1 aluno com pontuação atualizada",other:"%{count} alunos com pontuações atualizadas"}},all_sections:"Todas as seções",assignment_muted:"Tarefa desativada",concluded_course_error_message:"Esta é uma disciplina concluída, o que significa que só estão disponíveis inscrições concluídas.",course_average:"Média da disciplina",course_median:"Mediana da disciplina",course_mode:"Modo da disciplina",dropped_for_grading:"Ignorado para fins de avaliação",error:{update:"Ocorreu um erro durante a atualização desta tarefa. Atualize a página a tente novamente."},errors:{no_points_possible:"Não é possível elaborar curva sem pontos possíveis",none_to_update:"Nada a atualizar",upload_as_zip:"Faça upload dos arquivos como um .zip"},grade_display_warning:{cancel:"Cancelar","continue":"Continuar",percent_text:"Os alunos também verão as respetivas notas finais como percentagem. Tem a certeza de que pretende continuar?",points_text:"Os alunos também verão as respetivas notas finais como pontos. Tem a certeza de que pretende continuar?"},hide_notes:"Ocultar coluna de notas",hide_student_names:"Ocultar nomes dos alunos",invalid_assignment_groups_warning:{one:"A pontuação não inclui %{groups} porque não tem                  pontos possíveis",other:"A pontuação não inclui %{groups} porque não têm                    pontos possíveis"},keyboard_assignment_desc:"Ir para a página de detalhes da tarefa atual",keyboard_close_menu:"Fechar o menu da tarefa ativa",keyboard_comment_desc:"Comentar o envio ativo",keyboard_menu_desc:"Abrir o menu da tarefa da coluna ativa",keyboard_sort_desc:"Ordenar a grelha na coluna ativa atual",keyboard_tooltip_desc:"Mostrar o tipo de envio do envio ativo",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Resultado de aprendizagem",mastery:"domínio",near_mastery:"próximo do domínio",no_assignments_have_points_warning:"Não é possível calcular a pontuação até uma tarefa ter pontos possíveis",notes:"Notas",percent_of_grade:"%{percentage} da nota",points_out_of:"de %{points_possible}",remedial:"melhoria",resubmitted:"Reenviado desde a última avaliação",secondary_id:"ID secundário",show_notes:"Mostrar coluna de notas",show_student_names:"Exibir nomes de alunos",student_name:"Nome do aluno",students_who:{havent_been_graded:"Não foram avaliados",havent_submitted_yet:"Ainda não enviou",no_grade_for:"Nenhuma nota para %{assignment}",no_submission_for:"Nenhum envio para %{assignment}",not_submitted_yet:"Ainda não enviou",scored_less_than:"Pontuou menos que",scored_less_than_on:"Teve pontuação inferior a %{cutoff} em %{assignment}",scored_more_than:"Pontuou mais que",scored_more_than_on:"Teve pontuação superior a %{cutoff} em %{assignment}"},submitted_late:"Enviou tarde",title:{quiz:"Envio do teste",turnitin:"Tem pontuação de Turnitin"},titles:{discussion:"Envio de discussão",media:"Envio de comentário em mídia",media_recording:"Envio de gravação de multimédia",quiz_review:"Este teste precisa ser revisado",text:"Envio de entrada de texto",upload:"Envio de upload de arquivo",url:"Envio de URL"},total:"Total",ungraded:"Não é tido em conta para avaliação"}},"pt-BR":{gradebook2:{alerts:{scores_updated:{one:"1 pontuação de aluno atualizada",other:"%{count} Pontuações de aluno atualizadas"}},all_sections:"Todas as seções",assignment_muted:"Tarefa silenciada",concluded_course_error_message:"Este é um curso concluído, portanto, somente inscrições concluídas estão disponíveis.",course_average:"Média do curso",course_median:"Média do curso",course_mode:"Modo do curso",dropped_for_grading:"Ignorado para propósito de avaliação",error:{update:"Ocorreu um erro ao atualizar esta tarefa. Atualize a página e tente novamente."},errors:{no_points_possible:"Não é possível relativizar sem pontos possíveis",none_to_update:"Nada a atualizar",upload_as_zip:"Faça upload dos arquivos como um .zip"},grade_display_warning:{cancel:"Cancelar","continue":"Continuar",percent_text:"Os alunos também verão a sua nota final como uma porcentagem. Tem certeza de que deseja continuar?",points_text:"Os alunos também verão a sua nota final como pontos. Tem certeza de que deseja continuar?"},hide_notes:"Ocultar coluna de notas",hide_student_names:"Ocultar nomes dos alunos",invalid_assignment_groups_warning:{one:"A pontuação não inclui %{groups}, pois ela não tem                     pontos possíveis",other:"As pontuações não incluem %{groups}, pois elas não têm                     pontos possíveis"},keyboard_assignment_desc:"Vá para página de detalhes da tarefa atual",keyboard_close_menu:"Feche o menu de tarefas atualmente ativo",keyboard_comment_desc:"Comente sobre o envio ativo",keyboard_menu_desc:"Abra o menu para a tarefa de coluna ativa",keyboard_sort_desc:"Ordene a grade na coluna ativa atual",keyboard_tooltip_desc:"Mostrar o tipo de envio do envio ativo",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Resultado do aprendizado",mastery:"domínio",near_mastery:"próximo a domínio",no_assignments_have_points_warning:"Não é possível computar a pontuação até uma tarefa ter pontos possíveis",notes:"Observações",percent_of_grade:"%{percentage} de nota",points_out_of:"de %{points_possible}",remedial:"remediar",resubmitted:"Reenviado desde a última avaliação",secondary_id:"ID secundária",show_notes:"Mostrar coluna de observações",show_student_names:"Exibir nomes de alunos",student_name:"Nome do aluno",students_who:{havent_been_graded:"Não foi avaliado",havent_submitted_yet:"Ainda não enviou",no_grade_for:"Nenhuma nota para %{assignment}",no_submission_for:"Nenhum envio para %{assignment}",not_submitted_yet:"Ainda não enviou",scored_less_than:"Pontuou menos que",scored_less_than_on:"Pontuado menos do que %{cutoff} em %{assignment}",scored_more_than:"Pontuou mais que",scored_more_than_on:"Pontuado mais do que %{cutoff} em %{assignment}"},submitted_late:"Enviada atrasada",title:{quiz:"Envio do teste",turnitin:"Tem pontuação Turnitin"},titles:{discussion:"Envio de discussão",media:"Envio de comentário em mídia",media_recording:"Envio de gravação de mídia",quiz_review:"Este teste precisa ser revisado",text:"Envio de entrada de texto",upload:"Envio de upload de arquivo",url:"Envio de URL"},total:"Total",ungraded:"Não considerado na pontuação"}},ru:{gradebook2:{alerts:{scores_updated:{one:"Оценки 1 студента были обновлены",other:"Оценки %{count} студентa/ов были обновлены"}},all_sections:"Все разделы",assignment_muted:"Звук задания отключен",concluded_course_error_message:"Это завершенный курс, поэтому доступна только завершенная регистрация.",course_average:"Средняя оценка курса",course_median:"Медиана курса",course_mode:"Режим курса",dropped_for_grading:"Удалены в целях оценки",error:{update:"Произошла ошибка при обновлении данного задания. Обновите страницу и попробуйте еще раз."},errors:{no_points_possible:"Невозможно построить кривую оценок без возможных баллов",none_to_update:"Нет объектов для обновления",upload_as_zip:"Загрузите файлы как ZIP-файл"},grade_display_warning:{cancel:"Отменить","continue":"Продолжить",percent_text:"Студенты также увидят свои итоговые оценки в процентном выражении. Вы уверены, что хотите продолжить?",points_text:"Студенты также увидят свои итоговые оценки в виде баллов. Вы уверены, что хотите продолжить?"},hide_notes:"Скрыть столбец заметок",hide_student_names:"Скрыть имена студентов",invalid_assignment_groups_warning:{one:"В оценку не включается %{groups} группа, потому что у нее                  нет возможных баллов",other:"В оценку не включаются %{groups} групп, потому что у них                    нет возможных баллов"},keyboard_assignment_desc:"Перейти к странице сведений о текущем задании",keyboard_close_menu:"Закрыть меню активного в данный момент задания",keyboard_comment_desc:"Прокомментировать активную отправку",keyboard_menu_desc:"Открыть меню для назначения активного столбца",keyboard_sort_desc:"Сортировать сетку по текущему активному столбцу",keyboard_tooltip_desc:"Показать тип отправки для активных отправок",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"з",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Результат обучения",mastery:"усвоено",near_mastery:"почти усвоено",no_assignments_have_points_warning:"Невозможно рассчитать оценку, пока у задания есть возможные баллы",notes:"Заметки",percent_of_grade:"%{percentage} оценки",points_out_of:"из %{points_possible}",remedial:"коррекция",resubmitted:"Отправлено заново после последней оценки",secondary_id:"Вторичное ID",show_notes:"Показать столбец заметок",show_student_names:"Показать имена студентов",student_name:"Имя студента",students_who:{havent_been_graded:"Оценка не была поставлена",havent_submitted_yet:"Еще не отправлено",no_grade_for:"Для %{assignment} оценка отсутствует",no_submission_for:"Для %{assignment} ничего не отправлено",not_submitted_yet:"Еще не отправлено",scored_less_than:"Оценено меньше",scored_less_than_on:"Набрано меньше чем %{cutoff} в %{assignment}",scored_more_than:"Оценено больше",scored_more_than_on:"Набрано больше чем %{cutoff} в %{assignment}"},submitted_late:"Отправлено поздно",title:{quiz:"Отправка контрольной работы",turnitin:"Имеется оценка Turnitin"},titles:{discussion:"Отправка обсуждения",media:"Отправка мультимедийного комментария",media_recording:"Отправка мультимедийной записи",quiz_review:"Требуется проверка этой контрольной работы",text:"Отправка текстовой записи",upload:"Отправка загрузки файла",url:"Отправка URL-адреса"},total:"Всего",ungraded:"Не учтено в процессе выставления оценки"}},tr:{gradebook2:{alerts:{scores_updated:{one:"%{count} Öğrenci puanı güncellendi",other:"%{count} Öğrenci puanı güncellendi"}},all_sections:"Tüm Bölümler",assignment_muted:"Ödev bekletiliyor",concluded_course_error_message:"Bu ders bitirilmiştir bu yüzden sadece bitirmiş kayıtlar bulunmaktadır.",course_average:"Dersin ortalaması",course_median:"Dersin medyanı",course_mode:"Dersin modu",dropped_for_grading:"Notlandırma amacıyla düşürüldü",error:{update:"Ödevlerin güncellenmesinde hata meydana geldi. Lütfen sayfayı yenileyin ve tekrar deneyin."},errors:{no_points_possible:"Olası puanlar olmadan eğri uygulanamaz",none_to_update:"Güncellenecek bir şey yok",upload_as_zip:"Lütfen dosyaları .zip olarak yükleyin"},grade_display_warning:{cancel:"İptal","continue":"Devam",percent_text:"Öğrenciler final notlarını yüzde olarak da görecekler. Devam etmek istediğinize emin misiniz?",points_text:"Öğrenciler notlarını puan olarak da görecekler. Devam etmek istediğinize emin misiniz?"},hide_notes:"Notlar Sütununu Gizle",hide_student_names:"Öğrenci İsimlerini Gösterme",invalid_assignment_groups_warning:{one:"Olası puanı olmadığı için not %{groups} içermiyor",other:"Olası puanları olmadığı için not %{groups} içermiyor"},keyboard_assignment_desc:"Güncel ödev ayrıntıları sayfasına git",keyboard_close_menu:"Güncel etkin ödev menüsünü kapat",keyboard_comment_desc:"Etkin gönderiye yorum yap",keyboard_menu_desc:"Etkin sütundaki ödev için menüyü aç",keyboard_sort_desc:"Güncel etkin sütundaki ızgara üzerinde sıralayın",keyboard_tooltip_desc:"Etkin gönderimin gönderim türünü göster",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Öğrenme Çıktısı",mastery:"yeterlik",near_mastery:"yeterliğe yakın",no_assignments_have_points_warning:"Bir ödevde olası puanlar olmadıkça not hesaplanamaz",notes:"Notlar",percent_of_grade:"Notun %{percentage}",points_out_of:"%{points_possible} üzerinden",remedial:"telafi",resubmitted:"Son notlandırmadan sonra yeniden gönderildi",secondary_id:"İkincil ID",show_notes:"Notlar Sütununu Göster",show_student_names:"Öğrenci İsimlerini Göster",student_name:"Öğrencinin Adı",students_who:{havent_been_graded:"Henüz notlandırılmadı",havent_submitted_yet:"Henüz gönderilmedi",no_grade_for:"%{assignment} sınavı için değerlendirme yapılmadı",no_submission_for:"%{assignment} için gönderi yok",not_submitted_yet:"Henüz gönderilmedi",scored_less_than:"'den daha az puan aldı",scored_less_than_on:"%{assignment} %{cutoff} puan daha az",scored_more_than:"'den daha fazla puan aldı",scored_more_than_on:"%{assignment} %{cutoff} puan daha fazla"},submitted_late:"Geç gönderildi",title:{quiz:"Kısa Sınav Gönderimi",turnitin:"Turnitin puanı"},titles:{discussion:"Tartışma Gönderimi",media:"Çoklu Ortam Yorum Gönderimi",media_recording:"Ortam Kaydı Gönderimi",quiz_review:"Bu kısa sınavın gözden geçirilmesi gerekiyor",text:"Metin Yazma Şeklinde Gönderim",upload:"Dosya Yükleme Şeklinde Gönderim",url:"Bağlantı Adresi Şeklinde Gönderim"},total:"Toplam",ungraded:"Notlandırma katsayısına dahil edilmedi"}},zh:{gradebook2:{alerts:{scores_updated:{one:"更新 %{count} 个学生得分",other:"更新 %{count} 个学生得分"}},all_sections:"所有班级",assignment_muted:"作业已屏蔽",concluded_course_error_message:"这是个结业的课程，因此只提供结业登记。",course_average:"课程平均分数",course_median:"课程中值分数",course_mode:"课程模式",dropped_for_grading:"因评分目的删去",error:{update:"更新此作业时出错。请刷新页面，然后重试。"},errors:{no_points_possible:"没有满分，无法绘制曲线",none_to_update:"无更新",upload_as_zip:"请以 .zip 形式上传文件"},grade_display_warning:{cancel:"取消","continue":"继续",percent_text:"学生还将以百分比形式看到其最终评分。是否确定要继续？",points_text:"学生还将以分数形式看到其最终评分。是否确定要继续？"},hide_notes:"隐藏备注栏",hide_student_names:"隐藏学生姓名",invalid_assignment_groups_warning:{one:"分数不包括 %{groups}，因为没有最高得分",other:"分数不包括 %{groups}，因为没有最高得分"},keyboard_assignment_desc:"转到当前作业的详细信息页面",keyboard_close_menu:"关闭当前活动的作业菜单",keyboard_comment_desc:"对活动作业的评论",keyboard_menu_desc:"打开活动列的作业",keyboard_sort_desc:"对当前活动列上的网格排序",keyboard_tooltip_desc:"显示当前提交项的提交项类型",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"学习成果",mastery:"掌握",near_mastery:"接近掌握",no_assignments_have_points_warning:"无法计算得分，直到作业有最高得分",notes:"备注",percent_of_grade:"%{percentage} 的评分 ",points_out_of:"满分 %{points_possible} 分",remedial:"补课",resubmitted:"自上次计分后已重新提交",secondary_id:"第二类身份证明",show_notes:"显示备注栏",show_student_names:"显示学生姓名",student_name:"学生姓名",students_who:{havent_been_graded:"尚未计分",havent_submitted_yet:"尚未提交",no_grade_for:"%{assignment} 无评分",no_submission_for:"%{assignment} 无提交",not_submitted_yet:"尚未提交",scored_less_than:"分数低于",scored_less_than_on:"%{assignment} 的得分少于 %{cutoff} ",scored_more_than:"分数高于",scored_more_than_on:"%{assignment} 的得分高于 %{cutoff} "},submitted_late:"提交过迟",title:{quiz:"测验提交",turnitin:"有 Turnitin 分数"},titles:{discussion:"讨论提交",media:"媒体评论提交",media_recording:"媒体录音提交项",quiz_review:"此测验需要审阅",text:"文本条目提交",upload:"文件上传提交",url:"URL 提交"},total:"总计",ungraded:"不影响评分"}},zh_Hant:{gradebook2:{alerts:{scores_updated:{one:"%{count} 個學生分數已更新",other:"%{count} 個學生分數已更新"}},all_sections:"所有章節",assignment_muted:"任務已靜音",concluded_course_error_message:"這是已結束的課程，所以只有已結束的註冊可用。",course_average:"課程平均值",course_median:"課程中值",course_mode:"課程模式",dropped_for_grading:"拖放以進行分級",error:{update:"更新此任務時發生錯誤。請刷新網頁，然後再試一次。"},errors:{no_points_possible:"沒有可能的點就無法繪製曲線",none_to_update:"沒有可更新的",upload_as_zip:"請以 .zip 格式上傳檔案"},grade_display_warning:{cancel:"取消","continue":"繼續",percent_text:"學生也將看到他們的最終成績的百分比。是否確定要繼續？",points_text:"學生也將看到他們的最終成績的點。是否確定要繼續？"},hide_notes:"隱藏注釋欄",hide_student_names:"隱藏學生名稱",invalid_assignment_groups_warning:{one:"分數不包括 %{groups}，因為他們沒有可能的點",other:"分數不包括 %{groups}，因為他們沒有可能的點"},keyboard_assignment_desc:"移至當前任務的詳細資料頁面",keyboard_close_menu:"關閉當前活躍的任務功能表",keyboard_comment_desc:"關於活躍的提交件的註解",keyboard_menu_desc:"打開活躍欄的任務菜單",keyboard_sort_desc:"整理當前活躍欄的格線",keyboard_tooltip_desc:"顯示活躍提交件的提交類型",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"學習成果",mastery:"精通",near_mastery:"接近精通",no_assignments_have_points_warning:"在任務有可能的點之前，無法計算分數",notes:"注釋",percent_of_grade:"成績的 %{percentage}",points_out_of:"超出 %{points_possible}",remedial:"補救動作",resubmitted:"自上次評分重新提交",secondary_id:"助理 ID",show_notes:"顯示注釋欄",show_student_names:"顯示學生名稱",student_name:"學生名稱",students_who:{havent_been_graded:"尚未評分",havent_submitted_yet:"尚未提交",no_grade_for:"無 %{assignment} 的成績",no_submission_for:"無 %{assignment} 的提交件",not_submitted_yet:"尚未提交",scored_less_than:"得分低於",scored_less_than_on:"%{assignment} 得分低於 %{cutoff}",scored_more_than:"得分高於",scored_more_than_on:"%{assignment} 得分高於 %{cutoff}"},submitted_late:"提交遲了",title:{quiz:"測驗提交",turnitin:"有 Turnitin 分數"},titles:{discussion:"討論提交",media:"媒體註解提交",media_recording:"媒體記錄提交",quiz_review:"此测验需要檢閱",text:"文字輸入提交",upload:"檔案上傳提交",url:"URL 提交"},total:"總計",ungraded:"不計入評分"}}}})
}),function(){define("compiled/gradebook2/GRADEBOOK_TRANSLATIONS",["i18n!gradebook2"],function(e){var t;return t={submission_tooltip_dropped:e.t("dropped_for_grading","Dropped for grading purposes"),submission_tooltip_late:e.t("submitted_late","Submitted late"),submission_tooltip_muted:e.t("assignment_muted","Assignment muted"),submission_tooltip_resubmitted:e.t("resubmitted","Resubmitted since last graded"),submission_tooltip_ungraded:e.t("ungraded","Not factored into grading"),submission_tooltip_online_url:e.t("titles.url","URL Submission"),submission_tooltip_discussion_topic:e.t("titles.discussion","Discussion Submission"),submission_tooltip_online_upload:e.t("titles.upload","File Upload Submission"),submission_tooltip_online_text_entry:e.t("titles.text","Text Entry Submission"),submission_tooltip_pending_review:e.t("titles.quiz_review","This quiz needs review"),submission_tooltip_media_comment:e.t("titles.media","Media Comment Submission"),submission_tooltip_media_recording:e.t("titles.media_recording","Media Recording Submission"),submission_tooltip_online_quiz:e.t("title.quiz","Quiz Submission"),submission_tooltip_turnitin:e.t("title.turnitin","Has Turnitin score"),submission_update_error:e.t("error.update","There was an error updating this assignment. Please refresh the page and try again.")}})}.call(this),function(){define("compiled/grade_calculator",["underscore"],function(e){var t,n;return n=function(t,n){var o,i;return i=[],o=[],e(t).each(function(e){return(n(e)?i:o).push(e)}),[i,o]},t=function(){function t(){}return t.calculate=function(t,n,o){var i,s=this;return i={},i.group_sums=e(n).map(function(e){return{group:e,current:s.create_group_sum(e,t,!0),"final":s.create_group_sum(e,t,!1)}}),i.current=this.calculate_total(i.group_sums,!0,o),i["final"]=this.calculate_total(i.group_sums,!1,o),i},t.create_group_sum=function(t,n,o){var i,s,r,a,l,u,d,c,g,h,m,p,_,f,v=this;return i=function(e,t){var n,o,i,s;for(o={},i=0,s=e.length;s>i;i++)n=e[i],o[n[t]]=n;return o},a=e(t.assignments).filter(function(t){return!e.isEqual(t.submission_types,["not_graded"])}),s=i(a,"id"),n=e(n).filter(function(e){return null!=s[e.assignment_id]}),o||(m=e(n).map(function(e){return e.assignment_id.toString()}),u=e.difference(e.keys(s),m),r=e(u).map(function(e){var t;return t={assignment_id:e,score:null}}),n.push.apply(n,r)),_=i(n,"assignment_id"),p=e(n).map(function(e){var t;return t={total:v.parse(s[e.assignment_id].points_possible),score:v.parse(e.score),submitted:null!=e.score&&""!==e.score,submission:e}}),c=o?e(p).filter(function(e){return e.submitted}):p,l=this.dropAssignments(c,t.rules),f=e.reduce(l,function(e,t){var n,o,i,s;return o=e[0],s=e[1],n=t.score,i=t.total,[o+v.parse(n),s+i]},[0,0]),h=f[0],d=f[1],g={possible:d,score:h,submission_count:e(p).filter(function(e){return e.submitted}).length,submissions:e(p).map(function(e){var t;return t={drop:e.drop,percent:v.parse(e.score/e.total),possible:e.total,score:v.parse(e.score),submission:e.submission,submitted:e.submitted}})}},t.dropAssignments=function(t,o){var i,s,r,a,l,u,d,c,g,h,m,p,_;if(o||(o={}),r=o.drop_lowest||0,s=o.drop_highest||0,g=o.never_drop||[],!r&&!s)return t;if(g.length>0?(_=n(t,function(t){return e.indexOf(g,t.submission.assignment_id)>=0}),i=_[0],t=_[1]):i=[],0===t.length)return i;for(r>=t.length&&(r=t.length-1),r+s>=t.length&&(s=0),u=t.length-r,d=u-s,t.sort(function(e,t){return e.submission.assignment_id-t.submission.assignment_id}),l=function(){var e,n,o;for(o=[],e=0,n=t.length;n>e;e++)h=t[e],h.total>0&&o.push(h.total);return o}().length>0,c=l?this.dropPointed(t,i,u,d):this.dropUnpointed(t,u,d),c.push.apply(c,i),a=e.difference(t,c),m=0,p=a.length;p>m;m++)h=a[m],h.drop=!0;return c},t.dropUnpointed=function(t,n,o){var i;return i=t.sort(function(e,t){return e.score-t.score}),e.chain(i).last(n).first(o).value()},t.dropPointed=function(t,o,i,s){var r,a,l,u,d,c=this;return d=function(){var e,n,o;for(o=[],e=0,n=t.length;n>e;e++)u=t[e],o.push(u.total);return o}(),l=Math.max.apply(Math,d),r=function(t,i,s){var r,a,d,g,h,m,p,_,f,v,b,y,w,k;if(0>=i&&(i=1),t.length<=i)return t;for(r=t.concat(o),y=n(r,function(e){return 0===e.total}),v=y[0],h=y[1],d=function(){var e,t,n;for(n=[],e=0,t=h.length;t>e;e++)u=h[e],n.push(u.score/u.total);return n}().sort(function(e,t){return e-t}),m=c.estimateQHigh(h,v,d),p=d[0],_=(p+m)/2,a=function(t,n){var r,a,l,d,c,g,h;return h=e(n).map(function(e){var n;return n=e.score-t*e.total,[n,e]}),c=h.sort(s),r=c.slice(0,i),d=e.reduce(r,function(e,t){var n,o;return n=t[0],o=t[1],e+n},0),a=function(){var e,t,n,o;for(o=[],e=0,t=r.length;t>e;e++)n=r[e],g=n[0],u=n[1],o.push(u);return o}(),l=e.reduce(o,function(e,n){return e+n.score-t*n.total},0),[d+l,a]},w=a(_,t),b=w[0],g=w[1],f=1/(2*i*Math.pow(l,2));!(f>m-p)&&(0>b?m=_:p=_,_=(p+m)/2,_!==m&&_!==p);)k=a(_,t),b=k[0],g=k[1];return g},a=r(t,i,function(e,t){var n,o,i,s;return n=e[0],i=e[1],o=t[0],s=t[1],o-n}),a=r(a,s,function(e,t){var n,o,i,s;return n=e[0],i=e[1],o=t[0],s=t[1],n-o})},t.estimateQHigh=function(t,n,o){var i,s,r,a,l;return n.length>0?(r=e(t).reduce(function(e,t){return e+t.total},0),i=Math.max(r,e(t).reduce(function(e,t){return e+t.score},0)),l=e(n).reduce(function(e,t){return e+t.score},0),s=i+l,s/r):a=o[o.length-1]},t.calculate_total=function(t,n,o){var i,s,r,a,l,u,d,c;return i=n?"current":"final",t=e(t).map(function(e){return e[i].weight=e.group.group_weight,e[i]}),"percent"===o?(l=e(t).filter(function(e){return e.possible}),s=e.reduce(l,function(e,t){return e+t.score/t.possible*t.weight},0),r=e.reduce(l,function(e,t){var n;return n=t.weight,e+n},0),0===r?s=null:100>r&&(s*=100/r),u={score:s&&Math.round(10*s)/10,possible:100}):(c=e.reduce(t,function(e,t){var n,o,i,s;return n=e[0],o=e[1],s=t.score,i=t.possible,[n+s,o+i]},[0,0]),d=c[0],a=c[1],u={score:d,possible:a})},t.parse=function(e){var t;return t=parseFloat(e),t&&isFinite(t)?t:0},t.letter_grade=function(t,n){var o,i;return 0>n&&(n=0),i=e(t).filter(function(e,o){return n>=100*e[1]||o===t.length-1}),o=i[0],o[0]},t}()})}.call(this),define("translations/submission_details_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{submission_details_dialog:{add_a_comment:"إضافة تعليق",comments:"التعليقات",grade_form_label:"الدرجة:",labels:{group_comment:"إرسال تعليق إلى المجموعة بالكامل"},late:"متأخر",links:{click_to_view:"انقر هنا للعرض"},loading_comments:"جارٍ تحميل التعليقات...",more_details_in_the_speedgrader:"مزيد من التفاصيل في SpeedGrader",post_comment:"نشر التعليق",submitted:"تم الإرسال:",this_was_submitted_multiple_times_choose_a_submission_to_view:"تم الإرسال لعدة مرات، اختر ما تريد عرضه:",update_grade:"تحديث الدرجة",view_rubric_assessment_in_the_speedgrader:"عرض تقييم العنوان في SpeedGrader"}},de:{submission_details_dialog:{add_a_comment:"Einen Kommentar hinzufügen",comments:"Kommentare",grade_form_label:"Note:",labels:{group_comment:"Kommentar an die gesamte Gruppe verschicken"},late:"VERSPÄTET",links:{click_to_view:"Zum Anzeigen hier klicken"},loading_comments:"Kommentare werden geladen...",more_details_in_the_speedgrader:"Weitere Details im SpeedGrader",post_comment:"Kommentar einstellen",submitted:"Eingesandt:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Wurde mehrfach eingesandt, anzuzeigende Einsendung auswählen:",update_grade:"Note aktualisieren",view_rubric_assessment_in_the_speedgrader:"Rubrik Leistungstest im SpeedGrader anzeigen"}},"en-AU":{submission_details_dialog:{add_a_comment:"Add a comment",comments:"Comments",grade_form_label:"Grade:",labels:{group_comment:"Send Comment to the Whole Group"},late:"LATE",links:{click_to_view:"click here to view"},loading_comments:"Loading comments...",more_details_in_the_speedgrader:"More details in the SpeedGrader",post_comment:"Post Comment",submitted:"Submitted:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Submitted multiple times, choose which to view:",update_grade:"Update Grade",view_rubric_assessment_in_the_speedgrader:"View Rubric Assessment in the SpeedGrader"}},"en-GB":{submission_details_dialog:{add_a_comment:"Add a comment",comments:"Comments",grade_form_label:"Grade:",labels:{group_comment:"Send comment to the whole group"},late:"LATE",links:{click_to_view:"click here to view"},loading_comments:"Loading comments...",more_details_in_the_speedgrader:"More details in the SpeedGrader",post_comment:"Post Comment",submitted:"Submitted:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Submitted multiple times, choose which to view:",update_grade:"Update grade",view_rubric_assessment_in_the_speedgrader:"View Rubric Assessment in the SpeedGrader"}},es:{submission_details_dialog:{add_a_comment:"Agregar un comentario",comments:"Comentarios",grade_form_label:"Calificación:",labels:{group_comment:"Enviar un comentario al grupo entero"},late:"TARDE",links:{click_to_view:"haga click aquí para ver"},loading_comments:"Cargando comentarios...",more_details_in_the_speedgrader:"Más detalles en el Calificador Rápido",post_comment:"Publicar Comentario",submitted:"Enviado:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Enviado varias veces, escoja cual ver:",update_grade:"Actualizar calificación",view_rubric_assessment_in_the_speedgrader:"Ver la Rúbrica de la Evaluación en el Calificador Rápido"}},"fa-IR":{submission_details_dialog:{add_a_comment:"افزودن نظر",comments:"نظرها",grade_form_label:"نمره:",labels:{group_comment:"ارسال نظر به کل گروه"},late:"با تأخیر",links:{click_to_view:"برای مشاهده، کلیک کنید"},loading_comments:"در حال بارگذاری نظرها...",more_details_in_the_speedgrader:"اطلاعات بیشتر در برنامه نمره گذاری سریع",post_comment:"ارسال نظر",submitted:"ارسال شده:",this_was_submitted_multiple_times_choose_a_submission_to_view:"چند بار ارسال شده است, انتخاب کنید کدام را ببینید:",update_grade:"بهنگام سازی نمره",view_rubric_assessment_in_the_speedgrader:"مشاهده ارزیابی با استفاده از دستورالعمل در برنامه نمره گذاری سریع"}},fr:{submission_details_dialog:{add_a_comment:"Ajouter un commentaire",comments:"Commentaires",grade_form_label:"Note :",labels:{group_comment:"Envoyer un commentaire au groupe complet"},late:"EN RETARD",links:{click_to_view:"Cliquez ici pour afficher"},loading_comments:"Chargement des commentaires...",more_details_in_the_speedgrader:"Informations complémentaires dans SpeedGrader",post_comment:"Publier un commentaire",submitted:"Envoyé :",this_was_submitted_multiple_times_choose_a_submission_to_view:"Il y a eu plusieurs envois, veuillez choisir l’envoi à afficher :",update_grade:"Actualiser la note",view_rubric_assessment_in_the_speedgrader:"Afficher l’évaluation par barème dans SpeedGrader"}},ja:{submission_details_dialog:{add_a_comment:"コメントを追加します",comments:"コメント",grade_form_label:"成績:",labels:{group_comment:"グループ全体にコメントを送信"},late:"遅延",links:{click_to_view:"ここをクリックして表示"},loading_comments:"コメントを読み込んでいます...",more_details_in_the_speedgrader:"SpeedGrader 内の詳細",post_comment:"コメントの投稿",submitted:"提出済み:",this_was_submitted_multiple_times_choose_a_submission_to_view:"複数回提出されています。どれを表示するか選択してください:",update_grade:"成績を更新",view_rubric_assessment_in_the_speedgrader:"注釈のアセスメントを SpeedGrader で表示する"}},nb:{submission_details_dialog:{add_a_comment:"Legg til en kommentar",comments:"Kommentarer",grade_form_label:"Karakter:",labels:{group_comment:"Send kommentar til hele gruppen"},late:"FOR SEN",links:{click_to_view:"klikk her for å se"},loading_comments:"Laster inn kommentarer...",more_details_in_the_speedgrader:"Flere detaljer i SpeedGrader",post_comment:"Post kommentar",submitted:"Levert:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Levert flere ganger, velg hvilken du ønsker å se:",update_grade:"Oppdater karakter",view_rubric_assessment_in_the_speedgrader:"Se vurdering av vurderingsveiledning i SpeedGrader"}},nl:{submission_details_dialog:{add_a_comment:"Een opmerking toevoegen",comments:"Opmerkingen",grade_form_label:"Cijfer:",labels:{group_comment:"Opmerking naar de hele groep sturen"},late:"TE LAAT",links:{click_to_view:"Hier klikken om te bekijken"},loading_comments:"Bezig met laden van opmerkingen...",more_details_in_the_speedgrader:"Meer details in SpeedGrader",post_comment:"Opmerking plaatsen",submitted:"Ingeleverd:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Meerdere keren ingeleverd, kies welke je wilt bekijken:",update_grade:"Cijfer bijwerken",view_rubric_assessment_in_the_speedgrader:"Beoordeling van rubric bekijken in SpeedGrader"}},pl:{submission_details_dialog:{add_a_comment:"Dodaj komentarz",comments:"Komentarze",grade_form_label:"Ocena:",labels:{group_comment:"Wyślij komentarz do całej grupy"},late:"PO CZASIE",links:{click_to_view:"kliknij tutaj, aby wyświetlić"},loading_comments:"Trwa ładowanie komentarzy...",more_details_in_the_speedgrader:"Więcej szczegółów w programie SpeedGrader",post_comment:"Zamieść komentarz",submitted:"Przesłano:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Wielokrotnie przesyłane, wybierz, którą wersję wyświetlić:",update_grade:"Aktualizuj ocenę",view_rubric_assessment_in_the_speedgrader:"Pokaż ocenianie wg kryteriów ocen w programie SpeedGrader"}},pt:{submission_details_dialog:{add_a_comment:"Adicionar um comentário",comments:"Comentários",grade_form_label:"Nota:",labels:{group_comment:"Enviar comentário para todo o grupo"},late:"ATRASADA",links:{click_to_view:"clique aqui para exibir"},loading_comments:"Carregando comentários...",more_details_in_the_speedgrader:"Mais detalhes no SpeedGrader",post_comment:"Publicar comentário",submitted:"Enviado:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Enviado várias vezes, escolha qual exibir:",update_grade:"Atualizar nota",view_rubric_assessment_in_the_speedgrader:"Exibir avaliação de protocolo no SpeedGrader"}},"pt-BR":{submission_details_dialog:{add_a_comment:"Adicionar um comentário",comments:"Comentários",grade_form_label:"Nota:",labels:{group_comment:"Enviar comentário para todo o grupo"},late:"ATRASADA",links:{click_to_view:"clique aqui para exibir"},loading_comments:"Carregando comentários...",more_details_in_the_speedgrader:"Mais detalhes no SpeedGrader",post_comment:"Publicar comentário",submitted:"Enviado:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Enviado várias vezes, escolha qual exibir:",update_grade:"Atualizar nota",view_rubric_assessment_in_the_speedgrader:"Exibir avaliação de protocolo no SpeedGrader"}},ru:{submission_details_dialog:{add_a_comment:"Добавить комментарий",comments:"Комментарии",grade_form_label:"Оценка:",labels:{group_comment:"Отправить комментарий всей группе"},late:"ПОЗДНО",links:{click_to_view:"щелкните здесь для просмотра"},loading_comments:"Загрузка комментариев...",more_details_in_the_speedgrader:"Дополнительные сведения см. в SpeedGrader",post_comment:"Опубликовать комментарий",submitted:"Отправлено:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Отправлено несколько раз, выберите для просмотра:",update_grade:"Обновить оценку",view_rubric_assessment_in_the_speedgrader:"Просмотр оценки рубрики в SpeedGrader"}},tr:{submission_details_dialog:{add_a_comment:"Yorum ekle",comments:"Yorumlar",grade_form_label:"Not:",labels:{group_comment:"Tüm Gruba Yorum Gönder "},late:"GEÇ TESLİM",links:{click_to_view:"görmek için buraya tıklayın"},loading_comments:"Yorumlar yükleniyor...",more_details_in_the_speedgrader:"Ayrıntılı bilgiler SpeedGrader aracındadır",post_comment:"Yorum Gönder",submitted:"Gönderilen:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Birden çok defa gönderildi, lütfen görmek istediğiniz gönderiyi seçin:",update_grade:"Notu Düzenle",view_rubric_assessment_in_the_speedgrader:"SpeedGrader'da Değerlendirme Sınavlarını gör"}},zh:{submission_details_dialog:{add_a_comment:"添加评论",comments:"评论",grade_form_label:"评分：",labels:{group_comment:"发送评论到全小组"},late:"延迟",links:{click_to_view:"单击此处查看"},loading_comments:"正在加载评论...",more_details_in_the_speedgrader:"快速评分器中的更多详细信息",post_comment:"发表评论",submitted:"已提交",this_was_submitted_multiple_times_choose_a_submission_to_view:"已提交多次，选择要查看哪个提交:",update_grade:"更新评分",view_rubric_assessment_in_the_speedgrader:"在快速评分器中查看评分标准测验"}},zh_Hant:{submission_details_dialog:{add_a_comment:"新增註解",comments:"注解",grade_form_label:"成績：",labels:{group_comment:"發送批註給全體群組"},late:"逾期",links:{click_to_view:"按一下此處以檢視"},loading_comments:"正在載入註解...",more_details_in_the_speedgrader:"在 SpeedGrader 中有更多詳細資料",post_comment:"公佈註解",submitted:"已提交：",this_was_submitted_multiple_times_choose_a_submission_to_view:"已提交多次，選擇要檢視的：",update_grade:"更新成績",view_rubric_assessment_in_the_speedgrader:"在 SpeedGrader 中檢視評估準則評估"}}}})}),function(){define("compiled/util/registerTemplateCss",[],function(){var e,t,n,o,i,s;return t=window.document,i={},n=function(e,t){return i[e]=t,o()},n.clear=function(){return i={},o()},o=function(){var n,o,s,r,a;s=[];for(a in i)o=i[a],s.push("/* From: "+a+" */"),s.push(o);return n=s.join("\n"),r=e(),"cssText"in r?r.cssText=n:r.appendChild(t.createTextNode(n))},s=null,e=function(){var e,n;if(s){for(;e=s.firstChild;)s.removeChild(e);return s}return t.createStyleSheet?s=t.createStyleSheet():(n=t.head||t.getElementsByTagName("head")[0],s=t.createElement("style"),n.appendChild(s))},n})}.call(this),define("translations/grading_box",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebooks:{grades:{complete:"مكتمل",incomplete:"غير كامل"}},grading_box:{out_of_points_possible:"من %{assignment.points_possible}"}},de:{gradebooks:{grades:{complete:"Abgeschlossen",incomplete:"Unvollständig"}},grading_box:{out_of_points_possible:"von insgesamt %{assignment.points_possible}"}},"en-AU":{gradebooks:{grades:{complete:"Complete",incomplete:"Incomplete"}},grading_box:{out_of_points_possible:"out of %{assignment.points_possible}"}},"en-GB":{gradebooks:{grades:{complete:"Complete",incomplete:"Incomplete"}},grading_box:{out_of_points_possible:"out of %{assignment.points_possible}"}},es:{gradebooks:{grades:{complete:"Completo",incomplete:"Incompleto"}},grading_box:{out_of_points_possible:"de %{assignment.points_possible}"}},"fa-IR":{gradebooks:{grades:{complete:"کامل",incomplete:"ناقص"}},grading_box:{out_of_points_possible:"از %{assignment.points_possible}"}},fr:{gradebooks:{grades:{complete:"Terminé",incomplete:"Non terminé"}},grading_box:{out_of_points_possible:"sur %{assignment.points_possible}"}},ja:{gradebooks:{grades:{complete:"完了",incomplete:"未完了"}},grading_box:{out_of_points_possible:"配点: %{assignment.points_possible}"}},nb:{gradebooks:{grades:{complete:"Ferdig",incomplete:"Ufullstendig"}},grading_box:{out_of_points_possible:"av %{assignment.points_possible}"}},nl:{gradebooks:{grades:{complete:"Voltooid",incomplete:"Niet voltooid"}},grading_box:{out_of_points_possible:"van %{assignment.points_possible}"}},pl:{gradebooks:{grades:{complete:"Gotowe",incomplete:"Niekompletne"}},grading_box:{out_of_points_possible:"na %{assignment.points_possible} możliwych"}},pt:{gradebooks:{grades:{complete:"Completo",incomplete:"Incompleto"}},grading_box:{out_of_points_possible:"de %{assignment.points_possible}"}},"pt-BR":{gradebooks:{grades:{complete:"Completo",incomplete:"Incompleto"}},grading_box:{out_of_points_possible:"de %{assignment.points_possible}"}},ru:{gradebooks:{grades:{complete:"Завершено",incomplete:"Не завершено"}},grading_box:{out_of_points_possible:"из %{assignment.points_possible}"}},tr:{gradebooks:{grades:{complete:"Tamam",incomplete:"Eksik"}},grading_box:{out_of_points_possible:"%{assignment.points_possible} üzerinden"}},zh:{gradebooks:{grades:{complete:"完成",incomplete:"未完成"}},grading_box:{out_of_points_possible:"满分 %{assignment.points_possible} 分"}},zh_Hant:{gradebooks:{grades:{complete:"完成",incomplete:"未完成"}},grading_box:{out_of_points_possible:"超出 %{assignment.points_possible}"}}}})}),define("jst/_grading_box",["compiled/handlebars_helpers","i18n!grading_box"],function(e){var t=e.template,n=e.templates=e.templates||{};return n._grading_box=t(function(e,t,n,o,i){function s(e,t){var o,i,s="";return s+='\n  <input name="',(i=n.inputName)?o=i.call(e,{hash:{},data:t}):(i=e&&e.inputName,o=typeof i===g?i.call(e,{hash:{},data:t}):i),s+=h(o)+'" type="number" step="any" value="',(i=n.grade)?o=i.call(e,{hash:{},data:t}):(i=e&&e.grade,o=typeof i===g?i.call(e,{hash:{},data:t}):i),s+=h(o)+'" class="grading_value grading_box" id="student_grading_'+h((o=e&&e.assignment,o=null==o||o===!1?o:o.id,typeof o===g?o.apply(e):o))+'" style="text-align: center; width: 50px;"/>\n'}function r(e,t){var o,i,s="";return s+='\n  <span name="',(i=n.inputName)?o=i.call(e,{hash:{},data:t}):(i=e&&e.inputName,o=typeof i===g?i.call(e,{hash:{},data:t}):i),s+=h(o)+'" class="grading_box" id="student_grading_'+h((o=e&&e.assignment,o=null==o||o===!1?o:o.id,typeof o===g?o.apply(e):o))+'">\n    <input name="',(i=n.inputName)?o=i.call(e,{hash:{},data:t}):(i=e&&e.inputName,o=typeof i===g?i.call(e,{hash:{},data:t}):i),s+=h(o)+'" type="text" name="grade" value="',(i=n.grade)?o=i.call(e,{hash:{},data:t}):(i=e&&e.grade,o=typeof i===g?i.call(e,{hash:{},data:t}):i),s+=h(o)+'" class="grading_value" style="text-align: center; width: 50px;"/>\n  </span>\n'}function a(e,t){var o,i,s="";return s+='\n  <input name="',(i=n.inputName)?o=i.call(e,{hash:{},data:t}):(i=e&&e.inputName,o=typeof i===g?i.call(e,{hash:{},data:t}):i),s+=h(o)+'" type="text" value="',(i=n.grade)?o=i.call(e,{hash:{},data:t}):(i=e&&e.grade,o=typeof i===g?i.call(e,{hash:{},data:t}):i),s+=h(o)+'" class="grading_value grading_box score_value" id="student_grading_'+h((o=e&&e.assignment,o=null==o||o===!1?o:o.id,typeof o===g?o.apply(e):o))+'" style="text-align: center; width: 50px;"/>\n'}function l(e,t){var o,i,s,r="";return r+='\n  <select name="',(i=n.inputName)?o=i.call(e,{hash:{},data:t}):(i=e&&e.inputName,o=typeof i===g?i.call(e,{hash:{},data:t}):i),r+=h(o)+'" class="grading_value grading_box pass_fail" id="student_grading_<%= assignment.id %>">\n    <option value="">---</option>\n    <option value="complete" '+h((i=n.selectedIf||e&&e.selectedIf,s={hash:{},data:t},i?i.call(e,e&&e.grade,"complete",s):m.call(e,"selectedIf",e&&e.grade,"complete",s)))+">",i=n.t||e&&e.t,s={hash:{scope:"grading_box"},data:t},o=i?i.call(e,"#gradebooks.grades.complete","Complete",s):m.call(e,"t","#gradebooks.grades.complete","Complete",s),(o||0===o)&&(r+=o),r+='</option>\n    <option value="incomplete" '+h((i=n.selectedIf||e&&e.selectedIf,s={hash:{},data:t},i?i.call(e,e&&e.grade,"incomplete",s):m.call(e,"selectedIf",e&&e.grade,"incomplete",s)))+">",i=n.t||e&&e.t,s={hash:{scope:"grading_box"},data:t},o=i?i.call(e,"#gradebooks.grades.incomplete","Incomplete",s):m.call(e,"t","#gradebooks.grades.incomplete","Incomplete",s),(o||0===o)&&(r+=o),r+="</option>\n  </select>\n"}function u(e,t){var o,i,s,r="";return r+='\n  <span style="font-size: 0.9em;" >\n    ',i=n.t||e&&e.t,s={hash:{scope:"grading_box"},data:t},o=i?i.call(e,"out_of_points_possible","out of %{assignment.points_possible}",s):m.call(e,"t","out_of_points_possible","out of %{assignment.points_possible}",s),(o||0===o)&&(r+=o),r+="\n  </span>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var d,c="",g="function",h=this.escapeExpression,m=n.helperMissing,p=this;return d=n["if"].call(t,t&&t.assignment_grading_type_is_points,{hash:{},inverse:p.noop,fn:p.program(1,s,i),data:i}),(d||0===d)&&(c+=d),c+="\n",d=n["if"].call(t,t&&t.assignment_grading_type_is_percent,{hash:{},inverse:p.noop,fn:p.program(3,r,i),data:i}),(d||0===d)&&(c+=d),c+="\n",d=n["if"].call(t,t&&t.assignment_grading_type_is_letter_grade,{hash:{},inverse:p.noop,fn:p.program(5,a,i),data:i}),(d||0===d)&&(c+=d),c+="\n",d=n["if"].call(t,t&&t.assignment_grading_type_is_gpa_scale,{hash:{},inverse:p.noop,fn:p.program(5,a,i),data:i}),(d||0===d)&&(c+=d),c+="\n",d=n["if"].call(t,t&&t.assignment_grading_type_is_pass_fail,{hash:{},inverse:p.noop,fn:p.program(7,l,i),data:i}),(d||0===d)&&(c+=d),c+="\n",d=n["if"].call(t,t&&t.showPointsPossible,{hash:{},inverse:p.noop,fn:p.program(9,u,i),data:i}),(d||0===d)&&(c+=d),c+="\n"}),e.registerPartial("grading_box",n._grading_box),n._grading_box}),define("translations/submission_detail",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{submission_detail:{go_to_submission_url:"انتقال إلى عنوان URL الخاص بالإرسال",no_submission:"لا يوجد إرسال",submitted_files:"الملفات المرسلة:"}},de:{submission_detail:{go_to_submission_url:"URL der Einsendung aufrufen",no_submission:"Keine Einsendungen vorhanden",submitted_files:"Eingesandte Dateien:"}},"en-AU":{submission_detail:{go_to_submission_url:"Go to submission URL",no_submission:"No submission",submitted_files:"Submitted files:"}},"en-GB":{submission_detail:{go_to_submission_url:"Go to submission URL",no_submission:"No submission",submitted_files:"Submitted files:"}},es:{submission_detail:{go_to_submission_url:"Ir al URL de envío",no_submission:"No hay envío",submitted_files:"Archivos Enviados:"}},"fa-IR":{submission_detail:{go_to_submission_url:"رفتن به نشانی اینترنتی مورد ارسالی",no_submission:"مورد ارسالی موجود نیست",submitted_files:"فایل های ارسال شده:"}},fr:{submission_detail:{go_to_submission_url:"Accéder à l’URL d’envoi",no_submission:"Aucun envoi",submitted_files:"Fichiers envoyés :"}},ja:{submission_detail:{go_to_submission_url:"提出用 URL に進む",no_submission:"提出なし",submitted_files:"提出済みのファイル:"}},nb:{submission_detail:{go_to_submission_url:"Gå til leverings-URL",no_submission:"Ingen innlevering",submitted_files:"Innleverte filer:"}},nl:{submission_detail:{go_to_submission_url:"Via URL naar Inzending gaan",no_submission:"Geen inzending",submitted_files:"Ingeleverde bestanden:"}},pl:{submission_detail:{go_to_submission_url:"Przejdź do adresu URL przesłanych zadań",no_submission:"Brak przesłanych zadań",submitted_files:"Przesłane pliki:"}},pt:{submission_detail:{go_to_submission_url:"Ir para o URL de envio",no_submission:"Sem envios",submitted_files:"Arquivos enviados:"}},"pt-BR":{submission_detail:{go_to_submission_url:"Ir para o URL de envio",no_submission:"Sem envios",submitted_files:"Arquivos enviados:"}},ru:{submission_detail:{go_to_submission_url:"Перейти к URL-адресу отправки",no_submission:"Нет отправки",submitted_files:"Отправленные файлы"}},tr:{submission_detail:{go_to_submission_url:"Ödev gönderme bağlantısına git",no_submission:"Gönderi yok",submitted_files:"Gönderilen dosyalar:"}},zh:{submission_detail:{go_to_submission_url:"转至提交 URL",no_submission:"无提交",submitted_files:"提交的文件:"}},zh_Hant:{submission_detail:{go_to_submission_url:"轉到提交 URL",no_submission:"沒有提交件",submitted_files:"已提交的檔案："}}}})}),define("jst/_turnitinScore",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n._turnitinScore=t(function(e,t,n,o,i){function s(e,t){var o,i,s="";return s+='\n    <img src="',(i=n.icon)?o=i.call(e,{hash:{},data:t}):(i=e&&e.icon,o=typeof i===d?i.call(e,{hash:{},data:t}):i),s+=c(o)+'"></img>\n  '}function r(e,t){var o,i,s="";return s+="\n    ",(i=n.score)?o=i.call(e,{hash:{},data:t}):(i=e&&e.score,o=typeof i===d?i.call(e,{hash:{},data:t}):i),s+=c(o)+"\n  "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,l,u="",d="function",c=this.escapeExpression,g=this;return u+='<span class="turnitin_score_container_caret ',(l=n.state)?a=l.call(t,{hash:{},data:i}):(l=t&&t.state,a=typeof l===d?l.call(t,{hash:{},data:i}):l),u+=c(a)+'"></span>\n<a class="turnitin_similarity_score ',(l=n.state)?a=l.call(t,{hash:{},data:i}):(l=t&&t.state,a=typeof l===d?l.call(t,{hash:{},data:i}):l),u+=c(a)+'" href="',(l=n.reportUrl)?a=l.call(t,{hash:{},data:i}):(l=t&&t.reportUrl,a=typeof l===d?l.call(t,{hash:{},data:i}):l),u+=c(a)+'" title="',(l=n.tooltip)?a=l.call(t,{hash:{},data:i}):(l=t&&t.tooltip,a=typeof l===d?l.call(t,{hash:{},data:i}):l),u+=c(a)+'" target="_blank">\n  ',a=n["if"].call(t,t&&t.icon,{hash:{},inverse:g.program(3,r,i),fn:g.program(1,s,i),data:i}),(a||0===a)&&(u+=a),u+="\n</a>\n"}),e.registerPartial("turnitinScore",n._turnitinScore),n._turnitinScore}),define("jst/_submission_detail",["compiled/handlebars_helpers","i18n!submission_detail","jst/_turnitinScore"],function(e){var t=e.template,n=e.templates=e.templates||{};return n._submission_detail=t(function(e,t,n,o,i){function s(e,t){var o,i,s,l="";return l+="\n    ",o=n["if"].call(e,e&&e.url,{hash:{},inverse:y.noop,fn:y.program(2,r,t),data:t}),(o||0===o)&&(l+=o),l+="\n    ",o=n["if"].call(e,e&&e.attachments,{hash:{},inverse:y.noop,fn:y.program(4,a,t),data:t}),(o||0===o)&&(l+=o),l+="\n    ",i=n.ifEqual||e&&e.ifEqual,s={hash:{},inverse:y.noop,fn:y.program(9,c,t),data:t},o=i?i.call(e,e&&e.submission_type,"online_text_entry",s):b.call(e,"ifEqual",e&&e.submission_type,"online_text_entry",s),(o||0===o)&&(l+=o),l+="\n  "}function r(e,t){var o,i,s,r="";return r+='\n      Submission URL: <a class="url-submission" href="',(i=n.url)?o=i.call(e,{hash:{},data:t}):(i=e&&e.url,o=typeof i===f?i.call(e,{hash:{},data:t}):i),r+=v(o)+'" title="',i=n.t||e&&e.t,s={hash:{scope:"submission_detail"},data:t},o=i?i.call(e,"go_to_submission_url","Go to submission URL",s):b.call(e,"t","go_to_submission_url","Go to submission URL",s),(o||0===o)&&(r+=o),r+='" target="_blank">',(i=n.url)?o=i.call(e,{hash:{},data:t}):(i=e&&e.url,o=typeof i===f?i.call(e,{hash:{},data:t}):i),r+=v(o)+"</a>\n    "}function a(e,t){var o,i,s,r="";return r+="\n      <label>",i=n.t||e&&e.t,s={hash:{scope:"submission_detail"},data:t},o=i?i.call(e,"submitted_files","Submitted files:",s):b.call(e,"t","submitted_files","Submitted files:",s),(o||0===o)&&(r+=o),r+="</label>\n      <div>\n        ",o=n.each.call(e,e&&e.attachments,{hash:{},inverse:y.noop,fn:y.program(5,l,t),data:t}),(o||0===o)&&(r+=o),r+="\n      </div>\n    "}function l(e,t){var o,i,s,r="";return r+='\n          <div class="submisison-attachment">\n            ',o=n["if"].call(e,(o=e&&e.turnitin,null==o||o===!1?o:o.reportUrl),{hash:{},inverse:y.noop,fn:y.program(6,u,t),data:t}),(o||0===o)&&(r+=o),r+='\n            <a href="',(i=n.url)?o=i.call(e,{hash:{},data:t}):(i=e&&e.url,o=typeof i===f?i.call(e,{hash:{},data:t}):i),r+=v(o)+'" class="'+v((i=n.mimeClass||e&&e.mimeClass,s={hash:{},data:t},i?i.call(e,e&&e["content-type"],s):b.call(e,"mimeClass",e&&e["content-type"],s)))+'" title="',(i=n.filename)?o=i.call(e,{hash:{},data:t}):(i=e&&e.filename,o=typeof i===f?i.call(e,{hash:{},data:t}):i),r+=v(o)+'">',(i=n.display_name)?o=i.call(e,{hash:{},data:t}):(i=e&&e.display_name,o=typeof i===f?i.call(e,{hash:{},data:t}):i),r+=v(o)+"</a>\n          </div>\n        "}function u(e,t){var o,i="";return i+="\n              ",o=n["with"].call(e,e&&e.turnitin,{hash:{},inverse:y.noop,fn:y.program(7,d,t),data:t}),(o||0===o)&&(i+=o),i+="\n            "}function d(e,t){var i,s="";return s+='\n                <span class="turnitin_score_container">',i=y.invokePartial(o.turnitinScore,"turnitinScore",e,n,o,t),(i||0===i)&&(s+=i),s+="</span>\n              "}function c(e,t){var o,i="";return i+="\n      ",o=n["if"].call(e,(o=e&&e.turnitin,null==o||o===!1?o:o.reportUrl),{hash:{},inverse:y.noop,fn:y.program(10,g,t),data:t}),(o||0===o)&&(i+=o),i+="\n    "}function g(e,t){var o,i="";return i+="\n        ",o=n["with"].call(e,e&&e.turnitin,{hash:{},inverse:y.noop,fn:y.program(11,h,t),data:t}),(o||0===o)&&(i+=o),i+="\n      "}function h(e,t){var i,s="";return s+='\n          <span class="turnitin_score_container">',i=y.invokePartial(o.turnitinScore,"turnitinScore",e,n,o,t),(i||0===i)&&(s+=i),s+="</span>\n        "}function m(e,t){var o,i,s,r="";return r+="\n    ",i=n.t||e&&e.t,s={hash:{scope:"submission_detail"},data:t},o=i?i.call(e,"no_submission","No submission",s):b.call(e,"t","no_submission","No submission",s),(o||0===o)&&(r+=o),r+="\n  "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=this.merge(o,e.partials),i=i||{};var p,_="",f="function",v=this.escapeExpression,b=n.helperMissing,y=this;return _+='<div class="submission_detail">\n  ',p=n["if"].call(t,t&&t.submission_type,{hash:{},inverse:y.program(13,m,i),fn:y.program(1,s,i),data:i}),(p||0===p)&&(_+=p),_+="\n</div>\n"}),e.registerPartial("submission_detail",n._submission_detail),n._submission_detail
}),define("jst/_avatar",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n._avatar=t(function(e,t,n,o,i){function s(e,t){var o,i,s,a="";return a+="\n  ",i=n.ifAny||e&&e.ifAny,s={hash:{},inverse:m.noop,fn:m.program(2,r,t),data:t},o=i?i.call(e,e&&e.avatar_url,e&&e.avatar_image_url,s):h.call(e,"ifAny",e&&e.avatar_url,e&&e.avatar_image_url,s),(o||0===o)&&(a+=o),a+="\n"}function r(e,t){var o,i="";return i+="\n    ",o=n["if"].call(e,e&&e.alreadyEscaped,{hash:{},inverse:m.program(6,u,t),fn:m.program(3,a,t),data:t}),(o||0===o)&&(i+=o),i+="\n  "}function a(e,t){var o,i,s,r="";return r+="\n      <a\n        ",i=n.ifAny||e&&e.ifAny,s={hash:{},inverse:m.noop,fn:m.program(4,l,t),data:t},o=i?i.call(e,e&&e.url,e&&e.html_url,s):h.call(e,"ifAny",e&&e.url,e&&e.html_url,s),(o||0===o)&&(r+=o),r+='\n        class="avatar"\n        style="background-image: url(',i=n.or||e&&e.or,s={hash:{},data:t},o=i?i.call(e,e&&e.avatar_url,e&&e.avatar_image_url,s):h.call(e,"or",e&&e.avatar_url,e&&e.avatar_image_url,s),(o||0===o)&&(r+=o),r+=')">\n        <span class="screenreader-only">',i=n.or||e&&e.or,s={hash:{},data:t},o=i?i.call(e,e&&e.display_name,e&&e.short_name,s):h.call(e,"or",e&&e.display_name,e&&e.short_name,s),(o||0===o)&&(r+=o),r+="</span></a>\n    "}function l(e,t){var o,i,s,r="";return r+='href="',i=n.or||e&&e.or,s={hash:{},data:t},o=i?i.call(e,e&&e.url,e&&e.html_url,s):h.call(e,"or",e&&e.url,e&&e.html_url,s),(o||0===o)&&(r+=o),r+='"'}function u(e,t){var o,i,s,r="";return r+="\n      <a\n        ",i=n.ifAny||e&&e.ifAny,s={hash:{},inverse:m.noop,fn:m.program(7,d,t),data:t},o=i?i.call(e,e&&e.url,e&&e.html_url,s):h.call(e,"ifAny",e&&e.url,e&&e.html_url,s),(o||0===o)&&(r+=o),r+='\n        class="avatar"\n        style="background-image: url('+p((i=n.or||e&&e.or,s={hash:{},data:t},i?i.call(e,e&&e.avatar_url,e&&e.avatar_image_url,s):h.call(e,"or",e&&e.avatar_url,e&&e.avatar_image_url,s)))+')"\n        ><span class="screenreader-only">'+p((i=n.or||e&&e.or,s={hash:{},data:t},i?i.call(e,e&&e.display_name,e&&e.short_name,s):h.call(e,"or",e&&e.display_name,e&&e.short_name,s)))+"</span></a>\n    "}function d(e,t){var o,i,s="";return s+='href="'+p((o=n.or||e&&e.or,i={hash:{},data:t},o?o.call(e,e&&e.url,e&&e.html_url,i):h.call(e,"or",e&&e.url,e&&e.html_url,i)))+'"'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var c,g="",h=n.helperMissing,m=this,p=this.escapeExpression;return g+="\n",c=n["if"].call(t,t,{hash:{},inverse:m.noop,fn:m.program(1,s,i),data:i}),(c||0===c)&&(g+=c),g+="\n"}),e.registerPartial("avatar",n._avatar),n._avatar}),define("jst/SubmissionDetailsDialog",["compiled/handlebars_helpers","compiled/util/registerTemplateCss","i18n!submission_details_dialog","jst/_grading_box","jst/_submission_detail","jst/_avatar"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.SubmissionDetailsDialog=t(function(e,t,n,o,i){function s(e,t){var o,i,s,r="";return r+='\n      <a class="more-details-link" target="_blank" href="',(i=n.speedGraderUrl)?o=i.call(e,{hash:{},data:t}):(i=e&&e.speedGraderUrl,o=typeof i===x?i.call(e,{hash:{},data:t}):i),r+=S(o)+'">',i=n.t||e&&e.t,s={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"more_details_in_the_speedgrader","More details in the SpeedGrader",s):z.call(e,"t","more_details_in_the_speedgrader","More details in the SpeedGrader",s),(o||0===o)&&(r+=o),r+="</a>\n    "}function r(e,t){var o,i,s,r="";return r+='\n          <label for="submission_to_view">',i=n.t||e&&e.t,s={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"this_was_submitted_multiple_times_choose_a_submission_to_view","Submitted multiple times, choose which to view:",s):z.call(e,"t","this_was_submitted_multiple_times_choose_a_submission_to_view","Submitted multiple times, choose which to view:",s),(o||0===o)&&(r+=o),r+='</label>\n          <select id="submission_to_view">\n            ',o=n.each.call(e,e&&e.submission_history,{hash:{},inverse:M.noop,fn:M.program(4,a,t),data:t}),(o||0===o)&&(r+=o),r+="\n          </select>\n        "}function a(e,t){var o,i,s,r="";return r+="\n              <option>"+S((i=n.datetimeFormatted||e&&e.datetimeFormatted,s={hash:{},data:t},i?i.call(e,e&&e.submitted_at,s):z.call(e,"datetimeFormatted",e&&e.submitted_at,s)))+" ",o=n["if"].call(e,e&&e.late,{hash:{},inverse:M.noop,fn:M.program(5,l,t),data:t}),(o||0===o)&&(r+=o),r+="</option>\n            "}function l(e,t){var o,i,s,r="";return r+=" ",i=n.t||e&&e.t,s={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"late","LATE",s):z.call(e,"t","late","LATE",s),(o||0===o)&&(r+=o),r+=" "}function u(e,t){var o,i="";return i+="\n          ",o=n["if"].call(e,e&&e.submitted_at,{hash:{},inverse:M.noop,fn:M.program(8,d,t),data:t}),(o||0===o)&&(i+=o),i+="\n        "}function d(e,t){var o,i,s,r="";return r+="\n            <strong>",i=n.t||e&&e.t,s={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"submitted","Submitted:",s):z.call(e,"t","submitted","Submitted:",s),(o||0===o)&&(r+=o),r+=" "+S((i=n.datetimeFormatted||e&&e.datetimeFormatted,s={hash:{},data:t},i?i.call(e,e&&e.submitted_at,s):z.call(e,"datetimeFormatted",e&&e.submitted_at,s)))+" ",o=n["if"].call(e,e&&e.late,{hash:{},inverse:M.noop,fn:M.program(5,l,t),data:t}),(o||0===o)&&(r+=o),r+="</strong>\n          "}function c(e,t){var i,s="";return s+="\n        ",i=M.invokePartial(o.submission_detail,"submission_detail",e,n,o,t),(i||0===i)&&(s+=i),s+="\n      "}function g(e,t){var o,i,s,r="";return r+='\n        <div class="rubric-link"><a class="rubric" href="',(i=n.speedGraderUrl)?o=i.call(e,{hash:{},data:t}):(i=e&&e.speedGraderUrl,o=typeof i===x?i.call(e,{hash:{},data:t}):i),r+=S(o)+'">',i=n.t||e&&e.t,s={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"view_rubric_assessment_in_the_speedgrader","View Rubric Assessment in the SpeedGrader",s):z.call(e,"t","view_rubric_assessment_in_the_speedgrader","View Rubric Assessment in the SpeedGrader",s),(o||0===o)&&(r+=o),r+="</a></div>\n      "}function h(e,t){var o,i,s,r="";return r+="\n      <h1>",i=n.t||e&&e.t,s={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"loading_comments","Loading comments...",s):z.call(e,"t","loading_comments","Loading comments...",s),(o||0===o)&&(r+=o),r+="</h1>\n    "}function m(e,t){var o,i="";return i+="\n      ",o=n["if"].call(e,e&&e.submission_comments,{hash:{},inverse:M.noop,fn:M.program(17,p,t),data:t}),(o||0===o)&&(i+=o),i+="\n    "}function p(e,t){var o,i,s,r="";return r+="\n        <h1>",i=n.t||e&&e.t,s={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"comments","Comments",s):z.call(e,"t","comments","Comments",s),(o||0===o)&&(r+=o),r+='</h1>\n        <div class="submission_details_comments">\n          ',o=n.each.call(e,e&&e.submission_comments,{hash:{},inverse:M.noop,fn:M.program(18,_,t),data:t}),(o||0===o)&&(r+=o),r+="\n        </div>\n      "}function _(e,t){var i,s,r,a="";return a+='\n            <article class="comment clearfix">\n              '+S((s=n.friendlyDatetime||e&&e.friendlyDatetime,r={hash:{pubdate:!0},data:t},s?s.call(e,e&&e.created_at,r):z.call(e,"friendlyDatetime",e&&e.created_at,r)))+"\n              ",i=M.invokePartial(o.avatar,"avatar",e&&e.author,n,o,t),(i||0===i)&&(a+=i),a+='\n              <div class="middle">\n                <address class="vcard">\n                  <a class="fn url" href="',(s=n.url)?i=s.call(e,{hash:{},data:t}):(s=e&&e.url,i=typeof s===x?s.call(e,{hash:{},data:t}):s),a+=S(i)+'">',(s=n.author_name)?i=s.call(e,{hash:{},data:t}):(s=e&&e.author_name,i=typeof s===x?s.call(e,{hash:{},data:t}):s),a+=S(i)+"</a>\n                </address>\n                <div>\n                  "+S((s=n.newlinesToBreak||e&&e.newlinesToBreak,r={hash:{},data:t},s?s.call(e,e&&e.comment,r):z.call(e,"newlinesToBreak",e&&e.comment,r)))+"\n                </div>\n                ",i=n["if"].call(e,e&&e.media_comment,{hash:{},inverse:M.noop,fn:M.program(19,f,t),data:t}),(i||0===i)&&(a+=i),a+='\n                <div class="comment_attachments">\n                  ',i=n.each.call(e,e&&e.attachments,{hash:{},inverse:M.noop,fn:M.program(21,v,t),data:t}),(i||0===i)&&(a+=i),a+="\n                </div>\n              </div>\n            </article>\n          "}function f(e,t){var o,i,s,r="";return r+='\n                  <a data-media_comment_id="'+S((o=e&&e.media_comment,o=null==o||o===!1?o:o.media_id,typeof o===x?o.apply(e):o))+'" data-media_comment_type="'+S((o=e&&e.media_comment,o=null==o||o===!1?o:o.media_type,typeof o===x?o.apply(e):o))+'" href="'+S((o=e&&e.media_comment,o=null==o||o===!1?o:o.url,typeof o===x?o.apply(e):o))+'" class="play_comment_link media-comment instructure_inline_media_comment" >',i=n.t||e&&e.t,s={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"links.click_to_view","click here to view",s):z.call(e,"t","links.click_to_view","click here to view",s),(o||0===o)&&(r+=o),r+="</a>\n                "}function v(e,t){var o,i,s,r="";return r+='\n                    <div><a href="',(i=n.url)?o=i.call(e,{hash:{},data:t}):(i=e&&e.url,o=typeof i===x?i.call(e,{hash:{},data:t}):i),r+=S(o)+'" class="'+S((i=n.mimeClass||e&&e.mimeClass,s={hash:{},data:t},i?i.call(e,e&&e["content-type"],s):z.call(e,"mimeClass",e&&e["content-type"],s)))+'" title="',(i=n.filename)?o=i.call(e,{hash:{},data:t}):(i=e&&e.filename,o=typeof i===x?i.call(e,{hash:{},data:t}):i),r+=S(o)+'">',(i=n.display_name)?o=i.call(e,{hash:{},data:t}):(i=e&&e.display_name,o=typeof i===x?i.call(e,{hash:{},data:t}):i),r+=S(o)+"</a></div>\n                  "}function b(e,t){var o,i,s,r="";return r+='\n    <span id="group-comment-container">\n      '+S((i=n.checkbox||e&&e.checkbox,s={hash:{id:"group_comment"},data:t},i?i.call(e,"comment.group_comment",s):z.call(e,"checkbox","comment.group_comment",s)))+'\n      <label for="group_comment">',i=n.t||e&&e.t,s={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"labels.group_comment","Send Comment to the Whole Group",s):z.call(e,"t","labels.group_comment","Send Comment to the Whole Group",s),(o||0===o)&&(r+=o),r+="</label>\n    </span>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=this.merge(o,e.partials),i=i||{};var y,w,k,C="",x="function",S=this.escapeExpression,z=n.helperMissing,M=this;return C+='<div class="submission_details_dialog">\n  <h1 class="assignment-name">'+S((y=t&&t.assignment,y=null==y||y===!1?y:y.name,typeof y===x?y.apply(t):y))+'</h1>\n  <section class="submission-details">\n    <form class="submission_details_grade_form form-inline">\n      <strong><label for="',(w=n.inputName)?y=w.call(t,{hash:{},data:i}):(w=t&&t.inputName,y=typeof w===x?w.call(t,{hash:{},data:i}):w),C+=S(y)+'">',w=n.t||t&&t.t,k={hash:{scope:"submission_details_dialog"},data:i},y=w?w.call(t,"grade_form_label","Grade:",k):z.call(t,"t","grade_form_label","Grade:",k),(y||0===y)&&(C+=y),C+="</label></strong>\n      ",y=M.invokePartial(o.grading_box,"grading_box",t,n,o,i),(y||0===y)&&(C+=y),C+='\n      <button style="float: right;" class="btn" type="submit">',w=n.t||t&&t.t,k={hash:{scope:"submission_details_dialog"},data:i},y=w?w.call(t,"update_grade","Update Grade",k):z.call(t,"t","update_grade","Update Grade",k),(y||0===y)&&(C+=y),C+="</button>\n    </form>\n    ",y=n["if"].call(t,t&&t.speedGraderUrl,{hash:{},inverse:M.noop,fn:M.program(1,s,i),data:i}),(y||0===y)&&(C+=y),C+="\n    <div>\n      <h2>\n        ",y=n["if"].call(t,t&&t.moreThanOneSubmission,{hash:{},inverse:M.program(7,u,i),fn:M.program(3,r,i),data:i}),(y||0===y)&&(C+=y),C+="\n      </h2>\n      ",y=n.each.call(t,t&&t.submission_history,{hash:{},inverse:M.noop,fn:M.program(10,c,i),data:i}),(y||0===y)&&(C+=y),C+="\n      ",y=n["if"].call(t,t&&t.rubric_assessment,{hash:{},inverse:M.noop,fn:M.program(12,g,i),data:i}),(y||0===y)&&(C+=y),C+="\n    </div>\n  </section>\n  <section>\n    ",y=n["if"].call(t,t&&t.loading,{hash:{},inverse:M.program(16,m,i),fn:M.program(14,h,i),data:i}),(y||0===y)&&(C+=y),C+='\n  </section>\n  <form class="submission_details_add_comment_form clearfix">\n    <label for="add_a_comment">',w=n.t||t&&t.t,k={hash:{scope:"submission_details_dialog"},data:i},y=w?w.call(t,"add_a_comment","Add a comment",k):z.call(t,"t","add_a_comment","Add a comment",k),(y||0===y)&&(C+=y),C+='</label>\n    <textarea id="add_a_comment" name="comment[text_comment]"></textarea>\n    ',y=n["if"].call(t,(y=t&&t.assignment,null==y||y===!1?y:y.group_category_id),{hash:{},inverse:M.noop,fn:M.program(23,b,i),data:i}),(y||0===y)&&(C+=y),C+='\n    <button class="btn" type="submit">',w=n.t||t&&t.t,k={hash:{scope:"submission_details_dialog"},data:i},y=w?w.call(t,"post_comment","Post Comment",k):z.call(t,"t","post_comment","Post Comment",k),(y||0===y)&&(C+=y),C+="</button>\n  </form>\n</div>\n"}),arguments[1]("SubmissionDetailsDialog",".submission_details_dialog .more-details-link{font-size:1.2em;line-height:42px;}.submission_details_dialog h1,.submission_details_dialog .h1{margin:20px 0 0;padding:0 12px;font-size:23px;}.submission_details_dialog .submission-details{padding:10px;}.submission_details_dialog .submission-details h1,.submission_details_dialog .submission-details .h1{margin:0 -10px 15px;border-bottom:1px solid #bbb;}.submission_details_dialog .submission-details h2,.submission_details_dialog .submission-details h2 select,.submission_details_dialog .submission-details .h2,.submission_details_dialog .submission-details .h2 select{font-size:15px;}.submission_details_dialog .submission_detail{font-size:1.1em;margin:3px 0 10px;}.submission_details_dialog .rubric-link{font-weight:bold;}.submission_details_dialog .submisison-attachment{padding:3px 0;}.submission_details_dialog .submisison-attachment a{font-size:11px;}.submission_details_dialog .submisison-attachment a.turnitin_similarity_score{font-size:10px;}.submission_details_dialog .submission_details_comments{overflow:auto;max-height:200px;border-top:1px solid #bbb;padding:0 12px;position:relative;background:#A3A3A3 url(/images/messages/messages-background.png) 0 0 repeat;}.submission_details_dialog .comment{background:#fff;clear:both;border-bottom:1px solid #ccc;padding:10px;margin:10px 0;}.submission_details_dialog .comment:last-child{border-bottom:none;}.submission_details_dialog .comment .middle{padding-left:69px;}.submission_details_dialog .comment .avatar{float:left;}.submission_details_dialog .comment time{float:right;color:#777;font-size:11px;}.submission_details_dialog .comment address{font-style:normal;font-weight:bold;margin:0;}.submission_details_dialog .comment .comment_attachments a{padding-top:4px;}.submission_details_add_comment_form{position:relative;border-top:1px solid #bbb;background-color:#F2F2F2;margin:0px;padding:5px 10px;}.submission_details_add_comment_form label{font-weight:bold;display:block;}.submission_details_add_comment_form #add_a_comment{width:99%;display:block;}.submission_details_add_comment_form #group-comment-container{float:left;}.submission_details_add_comment_form #group-comment-container label{display:inline;font-weight:normal;}.submission_details_add_comment_form .btn{float:right;}"),n.SubmissionDetailsDialog}),define("translations/turnitin",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{turnitin:{tooltip:{score:"رصد التشابه حسب Turnitin - انظر التقرير المفصل"}}},de:{turnitin:{tooltip:{score:"Turnitin-similarity-score - detaillierten Bericht anzeigen"}}},"en-AU":{turnitin:{tooltip:{score:"Turnitin Similarity Score - See detailed report"}}},"en-GB":{turnitin:{tooltip:{score:"Turnitin Similarity Score - See detailed report"}}},es:{turnitin:{tooltip:{score:"Calificación de similitud en Turnitin - Ver informe detallado"}}},"fa-IR":{turnitin:{tooltip:{score:"نمره شباهت Turnitin - به گزارش مفصل مراجعه کنید"}}},fr:{turnitin:{tooltip:{score:"Note de similitude Turnitin - Voir le rapport détaillé"}}},ja:{turnitin:{tooltip:{score:"turnitin 類似性スコア - 詳細レポートを参照してください"}}},nb:{turnitin:{tooltip:{score:"Turnitin likhetsresultat - se detaljert rapport"}}},nl:{turnitin:{tooltip:{score:"Turnitin-vergelijkbaarheidsscore - Zie gedetailleerd rapport"}}},pl:{turnitin:{tooltip:{score:"Wynik sprawdzenia podobieństwa — zobacz szczegółowy raport"}}},pt:{turnitin:{tooltip:{score:"Pontuação de semelhança do Turnitin - Ver relatório detalhado"}}},"pt-BR":{turnitin:{tooltip:{score:"Pontos de similaridade do Turnitin – Ver relatório detalhado"}}},ru:{turnitin:{tooltip:{score:"Оценка соответствия Turnitin – См. подробный отчет"}}},tr:{turnitin:{tooltip:{score:"Turnitin Benzerlik Puanı - Ayrıntılı rapora bakınız"}}},zh:{turnitin:{tooltip:{score:"Turnitin 相似分数 - 查看详细报告"}}},zh_Hant:{turnitin:{tooltip:{score:"Turnitin 相似性分數 - 請參閱詳細報告"}}}}})}),function(){define("compiled/gradebook2/Turnitin",["i18n!turnitin","underscore"],function(e,t){var n,o,i;return i=t.max,o=t.invert,n={extractData:function(e){var t,n,s,r,a,l,u,d,c,g,h,m,p;if(null!=e?e.turnitin_data:void 0){if(n={items:[]},e.attachments&&"online_upload"===e.submission_type)for(g=e.attachments,d=0,c=g.length;c>d;d++)t=g[d],t=null!=(h=t.attachment)?h:t,(u=null!=(m=e.turnitin_data)?m["attachment_"+t.id]:void 0)&&n.items.push(u);else"online_text_entry"===e.submission_type&&(u=null!=(p=e.turnitin_data)?p["submission_"+e.id]:void 0)&&n.items.push(u);if(n.items.length)return r=["no","none","acceptable","warning","problem","failure"],a=o(r),l=function(){var e,t,o,i;for(o=n.items,i=[],e=0,t=o.length;t>e;e++)s=o[e],i.push(parseInt(a[s.state||"no"]));return i}(),n.state=r[i(l)],n}},extractDataFor:function(t,n,o){var i;return i=t.turnitin_data,i&&i[n]&&null!=i[n].similarity_score?(i=i[n],i.state=""+(i.state||"no")+"_score",i.score=""+i.similarity_score+"%",i.reportUrl=""+o+"/assignments/"+t.assignment_id+"/submissions/"+t.user_id+"/turnitin/"+n,i.tooltip=e.t("tooltip.score","Turnitin Similarity Score - See detailed report"),i):{}}}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/SubmissionDetailsDialog",["i18n!submission_details_dialog","jquery","jst/SubmissionDetailsDialog","compiled/gradebook2/Turnitin","jst/_submission_detail","jst/_turnitinScore","jquery.ajaxJSON","jquery.disableWhileLoading","jquery.instructure_forms","jqueryui/dialog","jquery.instructure_misc_plugins","vendor/jquery.scrollTo","vendor/jquery.ba-tinypubsub"],function(t,n,o,i){var s,r;return r=i.extractDataFor,s=function(){function t(t,i,s){var r,a,l=this;this.assignment=t,this.student=i,this.options=s,this.update=e(this.update,this),this.scrollCommentsToBottom=e(this.scrollCommentsToBottom,this),this.open=e(this.open,this),a=this.options.speed_grader_enabled?""+this.options.context_url+"/gradebook/speed_grader?assignment_id="+this.assignment.id+"#%7B%22student_id%22%3A"+this.student.id+"%7D":null,this.url=this.options.change_grade_url.replace(":assignment",this.assignment.id).replace(":submission",this.student.id),this.submission=n.extend({},this.student["assignment_"+this.assignment.id],{inputName:"submission[posted_grade]",assignment:this.assignment,speedGraderUrl:a,loading:!0,showPointsPossible:(this.assignment.points_possible||"0"===this.assignment.points_possible)&&"gpa_scale"!==this.assignment.grading_type}),this.submission["assignment_grading_type_is_"+this.assignment.grading_type]=!0,this.dialog=n('<div class="use-css-transitions-for-show-hide" style="padding:0;"/>'),this.dialog.html(o(this.submission)).dialog({title:this.student.name,width:600,resizable:!1,open:this.scrollCommentsToBottom}).delegate("select","change",function(e){return l.dialog.find(".submission_detail").each(function(t){return n(this).showIf(t===e.currentTarget.selectedIndex)})}).delegate(".submission_details_grade_form","submit",function(e){return e.preventDefault(),n(e.currentTarget.form).disableWhileLoading(n.ajaxJSON(l.url,"PUT",n(e.currentTarget).getFormData(),function(e){return l.update(e),n.publish("submissions_updated",[l.submission.all_submissions]),setTimeout(function(){return l.dialog.dialog("close")},500)}))}).delegate(".submission_details_add_comment_form","submit",function(e){return e.preventDefault(),n(e.currentTarget).disableWhileLoading(n.ajaxJSON(l.url,"PUT",n(e.currentTarget).getFormData(),function(e){return l.update(e),setTimeout(function(){return l.dialog.dialog("close")},500)}))}),r=n.ajaxJSON(this.url+"?include[]=submission_history&include[]=submission_comments&include[]=rubric_assessment","GET",{},this.update),this.dialog.find(".submission_details_comments").disableWhileLoading(r)}return t.prototype.open=function(){return this.dialog.dialog("open"),n(".submission_details_dialog .assignment-name").focus()},t.prototype.scrollCommentsToBottom=function(){return this.dialog.find(".submission_details_comments").scrollTop(999999)},t.prototype.update=function(e){var t,i,s,a,l,u,d,c,g,h,m,p,_;for(n.extend(this.submission,e),this.submission.submission_history[0]=this.submission,this.submission.moreThanOneSubmission=this.submission.submission_history.length>1,this.submission.loading=!1,m=this.submission.submission_history,l=0,c=m.length;c>l;l++){for(s=m[l],p=s.submission_comments||[],u=0,g=p.length;g>u;u++)i=p[u],i.url=""+this.options.context_url+"/users/"+i.author_id,a=""+location.protocol+"//"+location.host,i.image_url=""+a+"/images/users/"+i.author_id+"?fallback="+encodeURIComponent(a+"/images/messages/avatar-50.png");for(s.turnitin=r(s,"submission_"+s.id,this.options.context_url),_=s.attachments||[],d=0,h=_.length;h>d;d++)t=_[d],t.turnitin=r(s,"attachment_"+t.id,this.options.context_url)}return this.dialog.html(o(this.submission)),this.dialog.find("select").trigger("change"),this.scrollCommentsToBottom()},t.cachedDialogs={},t.open=function(e,n,o){var i,s;return((i=t.cachedDialogs)[s=""+e.id+"-"+n.id]||(i[s]=new t(e,n,o))).open()},t}()})}.call(this),define("translations/assignment_group_weights_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{assignment_group_weights_dialog:{buttons:{save:"حفظ"},titles:{assignment_group_weights:"إدارة تقدير مجموعة المهام",total:"الإجمالي"},weight_final:"الدرجة النهائية للتقييم تعتمد على المجموعات"}},de:{assignment_group_weights_dialog:{buttons:{save:"Speichern"},titles:{assignment_group_weights:"Gewichtung der Aufgabengruppen verwalten",total:"Gesamt"},weight_final:"Gesamtnote nach Gruppen gewichten"}},"en-AU":{assignment_group_weights_dialog:{buttons:{save:"Save"},titles:{assignment_group_weights:"Manage assignment group weighting",total:"Total"},weight_final:"Weight final grade based on groups"}},"en-GB":{assignment_group_weights_dialog:{buttons:{save:"Save"},titles:{assignment_group_weights:"Manage assignment group weighting",total:"Total"},weight_final:"Weight final grade based on groups"}},es:{assignment_group_weights_dialog:{buttons:{save:"Guardar"},titles:{assignment_group_weights:"Manejar la asignación de importancia a los grupos de trabajo",total:"Total"},weight_final:"Asignar peso a la calificación final basado en grupos"}},"fa-IR":{assignment_group_weights_dialog:{buttons:{save:"ذخیره سازی"},titles:{assignment_group_weights:"مدیریت وزن دار کردن گروه تکلیف",total:"کل"},weight_final:"وزن دار کردن نمره نهایی بر اساس گروه ها"}},fr:{assignment_group_weights_dialog:{buttons:{save:"Enregistrer"},titles:{assignment_group_weights:"Gérer les coefficients des groupes de tâches",total:"Total"},weight_final:"Pondérer la note finale en fonction des groupes"}},ja:{assignment_group_weights_dialog:{buttons:{save:"保存"},titles:{assignment_group_weights:"課題グループの重み付けを管理する",total:"合計"},weight_final:"グループに基づいて最終的な成績を重み付けする"}},nb:{assignment_group_weights_dialog:{buttons:{save:"Lagre"},titles:{assignment_group_weights:"Administrer vekting på gruppeoppgave",total:"Total"},weight_final:"Vekte sluttkarakter basert på grupper"}},nl:{assignment_group_weights_dialog:{buttons:{save:"Opslaan"},titles:{assignment_group_weights:"Wegingsfactor voor opdrachtgroepen beheren",total:"Totaal"},weight_final:"Gewogen eindcijfer gebaseerd op groepen"}},pl:{assignment_group_weights_dialog:{buttons:{save:"Zapisz"},titles:{assignment_group_weights:"Zarządzaj wyważaniem ocen według grup zadań",total:"Łącznie"},weight_final:"Wyważ ocenę końcową na podstawie grup"}},pt:{assignment_group_weights_dialog:{buttons:{save:"Guardar"},titles:{assignment_group_weights:"Gerenciar ponderação do grupo de tarefa",total:"Total"},weight_final:"Ponderar nota final baseado nos grupos"}},"pt-BR":{assignment_group_weights_dialog:{buttons:{save:"Salvar"},titles:{assignment_group_weights:"Gerenciar ponderação do grupo de tarefa",total:"Total"},weight_final:"Ponderar nota final com base nos grupos"}},ru:{assignment_group_weights_dialog:{buttons:{save:"Сохранить"},titles:{assignment_group_weights:"Управление взвешиванием группы заданий",total:"Всего"},weight_final:"Взвесить итоговую оценку на основе групп"}},tr:{assignment_group_weights_dialog:{buttons:{save:"Kaydet"},titles:{assignment_group_weights:"Ödev grup ağırlıklarını yönet",total:"Toplam"},weight_final:"Gruplara dayalı ağırlıklı final notu"}},zh:{assignment_group_weights_dialog:{buttons:{save:"保存"},titles:{assignment_group_weights:"管理作业小组加权",total:"总计"},weight_final:"根据小组加权最终计分"}},zh_Hant:{assignment_group_weights_dialog:{buttons:{save:"儲存"},titles:{assignment_group_weights:"管理任務群組權重",total:"總計"},weight_final:"根據群組加權最終成績"}}}})}),define("jst/AssignmentGroupWeightsDialog",["compiled/handlebars_helpers","compiled/util/registerTemplateCss","i18n!assignment_group_weights_dialog"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.AssignmentGroupWeightsDialog=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r,a,l="",u=n.helperMissing,d=this.escapeExpression;return l+='<div title="',r=n.t||t&&t.t,a={hash:{scope:"assignment_group_weights_dialog"},data:i},s=r?r.call(t,"titles.assignment_group_weights","Manage assignment group weighting",a):u.call(t,"t","titles.assignment_group_weights","Manage assignment group weighting",a),(s||0===s)&&(l+=s),l+='" style="display:none;" id="assignment_group_weights_dialog">\n  <p style="margin-top: 8px;">\n    '+d((r=n.checkbox||t&&t.checkbox,a={hash:{},data:i},r?r.call(t,"group_weighting_scheme",a):u.call(t,"checkbox","group_weighting_scheme",a)))+'\n    <label for="group_weighting_scheme">',r=n.t||t&&t.t,a={hash:{scope:"assignment_group_weights_dialog"},data:i},s=r?r.call(t,"weight_final","Weight final grade based on groups",a):u.call(t,"t","weight_final","Weight final grade based on groups",a),(s||0===s)&&(l+=s),l+='</label>\n  </p>\n  <table>\n    <tbody class="groups_holder">\n      <tr style="display:none;" class="assignment_group_row blank">\n        <td><label></label></td>\n        <td><input type="number" min="0" max="100" class="group_weight"/>%</td>\n      </tr>\n    </tbody>\n    <tfoot>\n      <tr>\n        <td>',r=n.t||t&&t.t,a={hash:{scope:"assignment_group_weights_dialog"},data:i},s=r?r.call(t,"titles.total","Total",a):u.call(t,"t","titles.total","Total",a),(s||0===s)&&(l+=s),l+='</td>\n        <td>&nbsp;<span class="total_weight"></span>%</td>\n      </tr>\n    </tfoot>\n  </table>\n  <button class="btn btn-primary" type="submit">',r=n.t||t&&t.t,a={hash:{scope:"assignment_group_weights_dialog"},data:i},s=r?r.call(t,"buttons.save","Save",a):u.call(t,"t","buttons.save","Save",a),(s||0===s)&&(l+=s),l+="</button>\n</div>\n"}),arguments[1]("AssignmentGroupWeightsDialog","#assignment_group_weights_dialog table{width:100%;}#assignment_group_weights_dialog th,#assignment_group_weights_dialog td{padding:2px 10px;}#assignment_group_weights_dialog td{width:1px;white-space:nowrap;}#assignment_group_weights_dialog tbody tr{border:solid #ccc;border-width:1px 0;}#assignment_group_weights_dialog tfoot th,#assignment_group_weights_dialog tfoot td{font-weight:bold;}#assignment_group_weights_dialog .group_weight{width:50px;}"),n.AssignmentGroupWeightsDialog}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/gradebook2/AssignmentGroupWeightsDialog",["compiled/util/round","jquery","jst/AssignmentGroupWeightsDialog","jquery.ajaxJSON","jquery.disableWhileLoading","jqueryui/dialog","jquery.instructure_misc_helpers","vendor/jquery.ba-tinypubsub"],function(t,n,o){var i;return i=function(){function i(t){this.afterSave=e(this.afterSave,this),this.save=e(this.save,this),this.calcTotal=e(this.calcTotal,this),this.addGroupWeightListener=e(this.addGroupWeightListener,this),this.update=e(this.update,this),this.render=e(this.render,this);var i=this;this.$dialog=n(o()),this.$dialog.dialog({autoOpen:!1,resizable:!1,width:350,buttons:[{text:this.$dialog.find("button[type=submit]").hide().text(),click:this.save}]}),this.$dialog.delegate("input","change keyup keydown input",this.calcTotal),this.$dialog.find("#group_weighting_scheme").change(function(e){var t;return t=!e.currentTarget.checked,i.$dialog.find("table").css("opacity",t?.5:1),i.$dialog.find(".assignment_group_row input").attr("disabled",t)}),this.$group_template=this.$dialog.find(".assignment_group_row.blank").removeClass("blank").detach().show(),this.$groups_holder=this.$dialog.find(".groups_holder"),this.mergeFunction=t.mergeFunction||n.extend,this.update(t)}return i.prototype.render=function(){var e,t,n,o,i;for(this.$groups_holder.empty(),i=this.options.assignmentGroups,n=0,o=i.length;o>n;n++)e=i[n],t="assignment_group_"+e.id+"_weight",this.$group_template.clone().data("assignment_group",e).find("label").attr("for",t).text(e.name).end().find("input").attr("id",t).val(e.group_weight).end().appendTo(this.$groups_holder);return this.$dialog.find("#group_weighting_scheme").prop("checked","percent"===this.options.context.group_weighting_scheme).change(),this.calcTotal(),this.addGroupWeightListener()},i.prototype.update=function(e){return this.options=e,this.render()},i.prototype.addGroupWeightListener=function(){return n(".group_weight").on("change",function(e){var o,i;return i=n(e.target).val(),o=t(parseFloat(i),2),isNaN(o)?void 0:n(e.target).val(o)})},i.prototype.calcTotal=function(){var e;return e=0,this.$dialog.find(".assignment_group_row input").each(function(){return e+=Number(n(this).val())}),e=t(e,2),this.$dialog.find(".total_weight").text(e)},i.prototype.save=function(){var e,t,o,i,s=this;return e="/courses/"+this.options.context.context_id,i=[],t=this.$dialog.find("#group_weighting_scheme").is(":checked")?"percent":"equal",t!==this.options.context.group_weighting_scheme&&i.push(n.ajaxJSON(e,"PUT",{"course[group_weighting_scheme]":t},function(e){return s.options.context.group_weighting_scheme=e.course.group_weighting_scheme,"percent"===s.options.context.group_weighting_scheme?s.options.context.show_total_grade_as_points=!1:void 0})),this.$dialog.find(".assignment_group_row").each(function(t,o){var r,a;return r=n(o).data("assignment_group"),a=Number(n(o).find("input").val()),a!==r.group_weight?i.push(n.ajaxJSON("/api/v1"+e+"/assignment_groups/"+r.id,"PUT",{group_weight:a},function(e){return s.mergeFunction(r,e)})):void 0}),o=n.when.apply(n,i).done(this.afterSave),this.$dialog.disableWhileLoading(o,{buttons:[".ui-button-text"]})},i.prototype.afterSave=function(){return this.$dialog.dialog("close"),this.render(),n.publish("assignment_group_weights_changed",this.options)},i}()})}.call(this),define("translations/grade_display_warning_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"عدم إظهار لهذا المساق مرة أخرى.",warning:"تحذير"}}},de:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Für diesen Kurs nicht mehr anzeigen.",warning:"Warnung"}}},"en-AU":{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Don't show for this course again.",warning:"Warning"}}},"en-GB":{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Don't show for this course again.",warning:"Warning"}}},es:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"No mostrar de nuevo para este curso",warning:"Aviso"}}},"fa-IR":{grade_display_warning_dialog:{grade_display_warning:{checkbox:"دوباره برای این درس نمایش داده نشود.",warning:"هشدار"}}},fr:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Ne plus afficher pour ce cours.",warning:"Avertissement"}}},ja:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"このコースでは再度表示しません。",warning:"警告"}}},nb:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Ikke vis for dette kurset senere.",warning:"Advarsel"}}},nl:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Deze cursus nog niet een keer tonen.",warning:"Waarschuwing"}}},pl:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Nie pokazuj ponownie dla tego kursu.",warning:"Ostrzeżenie"}}},pt:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Não mostrar novamente para esta disciplina",warning:"Aviso"}}},"pt-BR":{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Não mostrar para este curso novamente.",warning:"Aviso"}}},ru:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Не показывать снова для этого курса.",warning:"Предупреждение"}}},tr:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Bu dersi tekrar gösterme.",warning:"Uyarı"}}},zh:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"不要再显示此课程。",warning:"警告"}}},zh_Hant:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"不再為此課程顯示。",warning:"警告"}}}}})
}),define("jst/GradeDisplayWarningDialog",["compiled/handlebars_helpers","i18n!grade_display_warning_dialog"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.GradeDisplayWarningDialog=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r,a,l="",u=n.helperMissing,d="function",c=this.escapeExpression;return l+='<div title="',r=n.t||t&&t.t,a={hash:{scope:"grade_display_warning_dialog"},data:i},s=r?r.call(t,"grade_display_warning.warning","Warning",a):u.call(t,"t","grade_display_warning.warning","Warning",a),(s||0===s)&&(l+=s),l+='" style="display:none;" id="grade_display_warning_dialog">\n  <div>\n    ',(r=n.warning_text)?s=r.call(t,{hash:{},data:i}):(r=t&&t.warning_text,s=typeof r===d?r.call(t,{hash:{},data:i}):r),l+=c(s)+'\n  </div>\n  <br/>\n  <label for="hide_warning">\n    '+c((r=n.checkbox||t&&t.checkbox,a={hash:{id:"hide_warning"},data:i},r?r.call(t,"hide_warning",a):u.call(t,"checkbox","hide_warning",a)))+"\n    ",r=n.t||t&&t.t,a={hash:{scope:"grade_display_warning_dialog"},data:i},s=r?r.call(t,"grade_display_warning.checkbox","Don't show for this course again.",a):u.call(t,"t","grade_display_warning.checkbox","Don't show for this course again.",a),(s||0===s)&&(l+=s),l+="\n  </label>\n</div>\n"}),n.GradeDisplayWarningDialog}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/gradebook2/GradeDisplayWarningDialog",["i18n!gradebook2","jquery","jst/GradeDisplayWarningDialog","jqueryui/dialog"],function(t,n,o){var i;return i=function(){function i(i){this.cancel=e(this.cancel,this),this.save=e(this.save,this);var s,r,a;this.options=i,a=t.t("grade_display_warning.points_text","Students will also see their final grade as points. Are you sure you want to continue?"),r=t.t("grade_display_warning.percent_text","Students will also see their final grade as a percentage. Are you sure you want to continue?"),s={warning_text:this.options.showing_points?r:a},this.$dialog=n(o(s)),this.$dialog.dialog({resizable:!1,width:350,buttons:[{text:t.t("grade_display_warning.cancel","Cancel"),click:this.cancel},{text:t.t("grade_display_warning.continue","Continue"),click:this.save}]})}return i.prototype.save=function(){return this.$dialog.find("#hide_warning").prop("checked")?this.options.checked_save():this.options.unchecked_save(),this.$dialog.remove()},i.prototype.cancel=function(){return this.$dialog.remove()},i}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("compiled/gradebook2/SubmissionCell",["compiled/gradebook2/GRADEBOOK_TRANSLATIONS","str/htmlEscape","jquery","underscore","compiled/gradebook2/Turnitin","compiled/util/round","jquery.ajaxJSON"],function(e,n,o,i,s,r){var a,l,u,d,c,g,h;return l=s.extractData,a=function(){function t(e){this.opts=e,this.init()}return t.prototype.init=function(){var e;return e=this.opts.item[this.opts.column.field],this.$wrapper=o(this.cellWrapper("<input "+this.ariaLabel(e.submission_type)+" class='grade'/>")).appendTo(this.opts.container),this.$input=this.$wrapper.find("input").focus().select()},t.prototype.destroy=function(){return this.$input.remove()},t.prototype.focus=function(){return this.$input.focus()},t.prototype.loadValue=function(){return this.val=n(this.opts.item[this.opts.column.field].grade||""),this.$input.val(this.val),this.$input[0].defaultValue=this.val,this.$input.select()},t.prototype.serializeValue=function(){return this.$input.val()},t.prototype.applyValue=function(e,t){var o;return e[this.opts.column.field].grade=n(t),null!=(o=this.wrapper)&&o.remove(),this.postValue(e,t)},t.prototype.postValue=function(e,t){var n,i;return n=e[this.opts.column.field],i=this.opts.grid.getOptions().change_grade_url,i=i.replace(":assignment",n.assignment_id).replace(":submission",n.user_id),o.ajaxJSON(i,"PUT",{"submission[posted_grade]":t},this.onUpdateSuccess,this.onUpdateError)},t.prototype.onUpdateSuccess=function(e){return o.publish("submissions_updated",[e.all_submissions])},t.prototype.onUpdateError=function(){return o.flashError(e.submission_update_error)},t.prototype.isValueChanged=function(){return this.val!==this.$input.val()},t.prototype.validate=function(){return{valid:!0,msg:null}},t.formatter=function(e,t,n,o){var i;return i=parseFloat(n.grade),i=isNaN(i)?n.grade:r(i,r.DEFAULT),this.prototype.cellWrapper(i,{submission:n,assignment:o,editable:!1})},t.prototype.cellWrapper=function(n,i){var s,r,a,u,d,c;return null==i&&(i={}),s=o.extend({},{classes:"",editable:!0},i),s.submission||(s.submission=this.opts.item[this.opts.column.field]),s.assignment||(s.assignment=this.opts.column.object),(null!=(c=s.submission)?c.submission_type:void 0)&&(a=s.submission.submission_type),r=t.classesBasedOnSubmission(s.submission,s.assignment),s.submission.grade&&"pending_review"!==s.submission.workflow_state||(s.classes+=" no_grade_yet "),null==n&&(n=a?t.submissionIcon(a):"-"),(d=l(s.submission))&&(r.push("turnitin"),n+="<span class='gradebook-cell-turnitin "+d.state+"-score' />"),u=o.map(r,function(t){return e["submission_tooltip_"+t]}).join(", "),""+(u?'<div class="gradebook-tooltip">'+u+"</div>":"")+'\n<div class="gradebook-cell '+(s.editable?"gradebook-cell-editable focus":"")+" "+s.classes+" "+r.join(" ")+'">\n  <a href="#" data-user-id='+s.submission.user_id+" data-assignment-id="+s.assignment.id+' class="gradebook-cell-comment"><span class="gradebook-cell-comment-label">submission comments</span></a>\n  '+n+"\n</div>"},t.prototype.ariaLabel=function(t){var n;return n=e["submission_tooltip_"+t],null!=n?"aria-label='"+n+"'":""},t.classesBasedOnSubmission=function(e,t){var n;return null==e&&(e={}),null==t&&(t={}),n=[],e.grade_matches_current_submission===!1&&n.push("resubmitted"),e.late&&n.push("late"),""+t.submission_types=="not_graded"&&n.push("ungraded"),t.muted&&n.push("muted"),e.submission_type&&n.push(e.submission_type),n},t.submissionIcon=function(e){var n;return n=t.iconFromSubmissionType(e),"<i class='icon-"+n+"' ></i>"},t.iconFromSubmissionType=function(e){switch(e){case"online_upload":return"document";case"discussion_topic":return"discussion";case"online_text_entry":return"text";case"online_url":return"link";case"media_recording":return"filmstrip";case"online_quiz":return"quiz"}},t}(),a.out_of=function(e){function n(){return u=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.init=function(){var e;return e=this.opts.item[this.opts.column.field],this.$wrapper=o(this.cellWrapper('<div class="overflow-wrapper">\n  <div class="grade-and-outof-wrapper">\n    <input type="number" '+this.ariaLabel(e.submission_type)+' class="grade"/><span class="outof"><span class="divider">/</span>'+this.opts.column.object.points_possible+"</span>\n  </div>\n</div>",{classes:"gradebook-cell-out-of-formatter"})).appendTo(this.opts.container),this.$input=this.$wrapper.find("input").focus().select()},n}(a),a.letter_grade=function(e){function n(){return d=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.formatter=function(e,t,n,o){var i;return i=n.score?""+n.grade+"<span class='letter-grade-points'>"+n.score+"</span>":n.grade,a.prototype.cellWrapper(i,{submission:n,assignment:o,editable:!1})},n}(a),a.gpa_scale=function(e){function n(){return c=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.formatter=function(e,t,n,o){var i;return i=n.grade,a.prototype.cellWrapper(i,{submission:n,assignment:o,editable:!1,classes:"gpa_scale_cell"})},n}(a),a.pass_fail=function(e){function n(){return g=n.__super__.constructor.apply(this,arguments)}var i,s;return t(n,e),s=["pass","fail",""],i=function(e){return{pass:"pass",complete:"pass",fail:"fail",incomplete:"fail"}[e.grade]||""},n.prototype.htmlFromSubmission=function(e){var t;return null==e&&(e={}),t=i(e.submission),a.prototype.cellWrapper('<a data-value="'+t+'" class="gradebook-checkbox gradebook-checkbox-'+t+" "+(e.editable?"editable":void 0)+'" href="#">'+t+"</a>",e)},n.formatter=function(e,t,o,i){return null==o.grade?a.formatter.apply(this,arguments):n.prototype.htmlFromSubmission({submission:o,assignment:i,editable:!1})},n.prototype.init=function(){var e=this;return this.$wrapper=o(this.cellWrapper()),this.$wrapper=o(this.htmlFromSubmission({submission:this.opts.item[this.opts.column.field],assignment:this.opts.column.object,editable:!0})).appendTo(this.opts.container),this.$input=this.$wrapper.find(".gradebook-checkbox").bind("click keypress",function(t){var n,o;return t.preventDefault(),n=e.$input.data("value"),o="pass"===n?"fail":"fail"===n?"":"pass",e.transitionValue(o)}).focus()},n.prototype.destroy=function(){return this.$wrapper.remove()},n.prototype.transitionValue=function(e){return this.$input.removeClass("gradebook-checkbox-pass gradebook-checkbox-fail").addClass("gradebook-checkbox-"+i({grade:e})).data("value",e)},n.prototype.loadValue=function(){return this.val=this.opts.item[this.opts.column.field].grade||""},n.prototype.serializeValue=function(){return this.$input.data("value")},n.prototype.isValueChanged=function(){return this.val!==this.$input.data("value")},n}(a),a.points=function(e){function n(){return h=n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(a),a})}.call(this),define("translations/message_students",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{message_students:{buttons:{send_message:"إرسال رسالة",send_message_failed:"فشل إرسال الرسائل، الرجاء المحاولة مرة أخرى",sending_message:"جارٍ إرسال رسالة..."},message_student:"إرسال رسائل للطلاب بشأن %{course_name}",send_message:"إرسال رسالة"}},de:{message_students:{buttons:{send_message:"Nachricht senden",send_message_failed:"Der Nachrichtenversand ist fehlgeschlagen, bitte erneut versuchen",sending_message:"Nachricht wird versandt..."},message_student:"Studenten benachrichtigen wegen %{course_name}",send_message:"Nachricht senden"}},"en-AU":{message_students:{buttons:{send_message:"Send Message",send_message_failed:"Sending Message Failed, please try again",sending_message:"Sending Message..."},message_student:"Message Students for %{course_name}",send_message:"Send Message"}},"en-GB":{message_students:{buttons:{send_message:"Send message",send_message_failed:"Sending message failed. Please try again",sending_message:"Sending message..."},message_student:"Message students for %{course_name}",send_message:"Send message"}},es:{message_students:{buttons:{send_message:"Enviar Mensaje",send_message_failed:"Envío del Mensaje Falló, intente de nuevo",sending_message:"Enviando Mensaje..."},message_student:"Enviar Mensaje a Estudiantes para %{course_name}",send_message:"Enviar el Mensaje"}},"fa-IR":{message_students:{buttons:{send_message:"ارسال پیام",send_message_failed:"ارسال پیام انجام نشد، لطفا دوباره سعی کنید",sending_message:"درحال ارسال پیام..."},message_student:"ارسال پیام برای دانشجویان درس %{course_name}",send_message:"ارسال پیام"}},fr:{message_students:{buttons:{send_message:"Envoyer le message",send_message_failed:"Échec de l’envoi du message, veuillez réessayer",sending_message:"Envoi du message..."},message_student:"Envoyer un message aux étudiants pour le cours %{course_name}",send_message:"Envoyer le message"}},ja:{message_students:{buttons:{send_message:"メッセージの送信",send_message_failed:"メッセージの送信に失敗しました。もう一度やり直してください",sending_message:"メッセージを送信しています..."},message_student:"%{course_name} の受講生にメッセージを送る",send_message:"メッセージの送信"}},nb:{message_students:{buttons:{send_message:"Send beskjed",send_message_failed:"Sending av beskjed feilet, vennligst forsøk igjen",sending_message:"Sender beskjed..."},message_student:"Send beskjed til studenter i %{course_name}",send_message:"Send beskjed"}},nl:{message_students:{buttons:{send_message:"Bericht verzenden",send_message_failed:"Verzenden van bericht mislukt, probeer het opnieuw",sending_message:"Bezig met verzenden van bericht..."},message_student:"Bericht naar cursisten voor %{course_name}",send_message:"Bericht zenden"}},pl:{message_students:{buttons:{send_message:"Wyślij wiadomość",send_message_failed:"Wysyłanie wiadomości nie powiodło się, spróbuj ponownie",sending_message:"Trwa wysyłanie wiadomości..."},message_student:"Powiadom uczestników z kursu %{course_name}",send_message:"Wyślij wiadomość"}},pt:{message_students:{buttons:{send_message:"Enviar mensagem",send_message_failed:"Falha no envio da mensagem, tente novamente",sending_message:"Enviando mensagem..."},message_student:"Enviar mensagem aos alunos para %{course_name}",send_message:"Enviar mensagem"}},"pt-BR":{message_students:{buttons:{send_message:"Enviar mensagem",send_message_failed:"Falha no envio da mensagem, tente novamente",sending_message:"Enviando mensagem..."},message_student:"Enviar mensagem aos alunos para %{course_name}",send_message:"Enviar mensagem"}},ru:{message_students:{buttons:{send_message:"Отправить сообщение",send_message_failed:"Ошибка отправки сообщения, повторите попытку",sending_message:"Отправка сообщения..."},message_student:"Отправка студентам сообщений для %{course_name}",send_message:"Отправить сообщение"}},tr:{message_students:{buttons:{send_message:"Mesaj Gönder",send_message_failed:"Mesah gönderimi başarısız, lütfen tekrar deneyin",sending_message:"Mesajınız Gönderiliyor..."},message_student:"%{course_name} dersi Öğrencilerine Mesaj Gönder",send_message:"Mesaj Gönder"}},zh:{message_students:{buttons:{send_message:"发送邮件",send_message_failed:"发送邮件失败，请重试",sending_message:"正在发送邮件..."},message_student:"向学生发送有关 %{course_name} 的邮件",send_message:"发送邮件"}},zh_Hant:{message_students:{buttons:{send_message:"傳送訊息",send_message_failed:"傳送郵件失敗，請再試一次",sending_message:" 傳送郵件..."},message_student:"就 %{course_name} 通知學生",send_message:"傳送訊息"}}}})}),define("message_students",["i18n!message_students","jquery","jquery.instructure_forms","jqueryui/dialog","compiled/jquery/fixDialogButtons","jquery.instructure_misc_plugins"],function(e,t){var n=t("#message_students_dialog"),o={};return window.messageStudents=function(i){o=i,n.find(".message_types").empty();for(var s=0,r=i.options.length;r>s;s++){var a=t("<option/>"),l=i.options[s];a.val(s).text(l.text),n.find(".message_types").append(a)}var u=i.title,d=n.find("ul li.blank:first"),c=n.find("ul"),g={};n.find("ul li:not(.blank)").remove();for(var h=0;h<i.students.length;h++){var m=d.clone(!0).removeClass("blank");m.find(".name").text(i.students[h].name),m.find(".score").text(i.students[h].score),m.data("id",i.students[h].id),m.user_data=i.students[h],c.append(m.show()),g[i.students[h].id]=m}c.show(),n.data("students_hash",g),n.find(".asset_title").text(u),n.find(".out_of").showIf(null!=i.points_possible),n.find(".send_button").text(e.t("send_message","Send Message")),n.find(".points_possible").text(i.points_possible),n.find("[name=context_code]").val(i.context_code),n.find("textarea").val(""),n.find("select")[0].selectedIndex=0,n.find("select").change(),n.dialog({width:600,modal:!0}).fixDialogButtons().dialog("open").dialog("option","title",e.t("message_student","Message Students for %{course_name}",{course_name:u}))},t(document).ready(function(){n.find(".cutoff_score").bind("change blur keyup",function(){n.find("select").change()}),n.find(".cancel_button").click(function(){n.dialog("close")}),t("#message_assignment_recipients").formSubmit({processData:function(e){var n=[];return t(this).find(".student:visible").each(function(){n.push(t(this).data("id"))}),0==n.length?!1:(e.recipients=n.join(","),e)},beforeSubmit:function(){t(this).find("button").attr("disabled",!0).filter(".send_button").text(e.t("buttons.sending_message","Sending Message..."))},success:function(){t(this).find(".send_button").text("Message Sent!");var n=t(this);setTimeout(function(){n.find("button").attr("disabled",!1).filter(".send_button").text(e.t("buttons.send_message","Send Message")),t("#message_students_dialog").dialog("close")},2e3)},error:function(){t(this).find("button").attr("disabled",!1).filter(".send_button").text(e.t("buttons.send_message_failed","Sending Message Failed, please try again"))}}),n.find("select").change(function(){var e=parseInt(t(this).val(),10)||0,i=o.options[e],s=n.data("students_hash"),r=parseFloat(n.find(".cutoff_score").val(),10);r||0===r||(r=null);var a=null,l=[];for(var e in s)l.push(s[e]);s&&(i&&i.callback?a=i.callback.call(window.messageStudents,r,l):o.callback&&(a=o.callback.call(window.messageStudents,i.text,r,l))),a=a||[],o.subjectCallback&&n.find("[name=subject]").val(o.subjectCallback(i.text,r)),n.find(".cutoff_holder").showIf(i.cutoff),n.find(".student_list").toggleClass("show_score",!(!i.cutoff&&!i.score)),n.find("button").attr("disabled",0==a.length);var u={};for(var e in a)a.hasOwnProperty(e)&&(u[parseInt(a[e],10)||0]=!0);for(var e in s)s[e].showIf(u[e])})}),messageStudents}),define("translations/assignment_details",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{assignment_details:{no_graded_submissions:"لا توجد عمليات إرسال تم تقدير درجاتها"}},de:{assignment_details:{no_graded_submissions:"Keine benoteten Einsendungen"}},"en-AU":{assignment_details:{no_graded_submissions:"No graded submissions"}},"en-GB":{assignment_details:{no_graded_submissions:"No graded submissions"}},es:{assignment_details:{no_graded_submissions:"No hay envíos calificados"}},"fa-IR":{assignment_details:{no_graded_submissions:"هیچ مورد ارسالی نمره گذاری شده موجود نیست"}},fr:{assignment_details:{no_graded_submissions:"Pas d’envois notés"}},ja:{assignment_details:{no_graded_submissions:"採点済みの提出物なし"}},nb:{assignment_details:{no_graded_submissions:"Ingen innleveringer som er karaktersatt"}},nl:{assignment_details:{no_graded_submissions:"Geen beoordeelde inzendingen"}},pl:{assignment_details:{no_graded_submissions:"Brak ocenionych zadań"}},pt:{assignment_details:{no_graded_submissions:"Nenhum envio avaliado"}},"pt-BR":{assignment_details:{no_graded_submissions:"Nenhum envio avaliado"}},ru:{assignment_details:{no_graded_submissions:"Нет оцененных отправок"}},tr:{assignment_details:{no_graded_submissions:"Notlandırılmış gönderi yok"}},zh:{assignment_details:{no_graded_submissions:"无已评分作业"}},zh_Hant:{assignment_details:{no_graded_submissions:"沒有已評分的提交件"}}}})}),define("translations/assignment_details_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{assignment_details_dialog:{average_score:"متوسط مجموع النقاط:",count_of_submissions:"%{cnt} إرسالاً/إرسالات",grading_statistics_for_assignment:"إحصاءات الدرجة من أجل: %{assignment.name}",high_score:"مجموع نقاط مرتفع:",low_score:"مجموع نقاط منخفض:",no_one_scored_higher:"لم يحرز أحد نقاطًا أعلى من %{max}",no_one_scored_lower:"لم يحرز أحد نقاطًا أقل من %{min}",scores_higher_than_the_average:"النقاط الأعلى من متوسط %{average}",scores_lower_than_the_average:"النقاط الأقل من متوسط %{average}",total_graded_submissions:"إجمالي عمليات الإرسال التي تم تصحيحها:"}},de:{assignment_details_dialog:{average_score:"Durchschnittliche Punktzahl:",count_of_submissions:"%{cnt} Einsendungen",grading_statistics_for_assignment:"Benotungsstatistik für: %{assignment.name}",high_score:"Höchste Punktzahl:",low_score:"Niedrigste Punktzahl:",no_one_scored_higher:"Niemand hat mehr Punkte erzielt als %{max}",no_one_scored_lower:"Niemand hat weniger Punkte erzielt als %{min}",scores_higher_than_the_average:"Punktzahlen oberhalb des Durchschnitts von %{average}",scores_lower_than_the_average:"Punktzahlen unterhalb des Durchschnitts von %{average}",total_graded_submissions:"Benotete Einsendungen gesamt:"}},"en-AU":{assignment_details_dialog:{average_score:"Average Score:",count_of_submissions:"%{cnt} submissions",grading_statistics_for_assignment:"Grade statistics for: %{assignment.name}",high_score:"High Score:",low_score:"Low Score:",no_one_scored_higher:"No one scored higher than %{max}",no_one_scored_lower:"No one scored lower than %{min}",scores_higher_than_the_average:"Scores higher than the average of %{average}",scores_lower_than_the_average:"Scores lower than the average of %{average}",total_graded_submissions:"Total Graded Submissions:"}},"en-GB":{assignment_details_dialog:{average_score:"Average score:",count_of_submissions:"%{cnt} submissions",grading_statistics_for_assignment:"Grade statistics for: %{assignment.name}",high_score:"High score:",low_score:"Low score:",no_one_scored_higher:"No one scored higher than %{max}",no_one_scored_lower:"No one scored lower than %{min}",scores_higher_than_the_average:"Scores higher than the average of %{average}",scores_lower_than_the_average:"Scores lower than the average of %{average}",total_graded_submissions:"Total graded submissions:"}},es:{assignment_details_dialog:{average_score:"Calificación Promedio:",count_of_submissions:"%{cnt} envíos",grading_statistics_for_assignment:"Estadísticas de calificación para: %{assignment.name}",high_score:"Calificación Alta:",low_score:"Calificación Baja:",no_one_scored_higher:"Nadie obtuvo una calificación mayor de %{max}",no_one_scored_lower:"Nadie obtuvo una calificación menor de %{min}",scores_higher_than_the_average:"Calificaciones mayores del promedio de %{average}",scores_lower_than_the_average:"Calificaciones menores del promedio de %{average}",total_graded_submissions:"Total de envíos calificados:"}},"fa-IR":{assignment_details_dialog:{average_score:"میانگین نمره:",count_of_submissions:"%{cnt} مورد ارسالی",grading_statistics_for_assignment:"آمارهای نمره برای: %{assignment.name}",high_score:"بالاترین نمره:",low_score:"پایین ترین نمره:",no_one_scored_higher:"هیچ کس نمره بالاتر از%{max} نگرفت",no_one_scored_lower:"هیچ کس نمره پایین تر از %{min} نگرفت",scores_higher_than_the_average:"نمره های بالاتر از میانگین %{average}",scores_lower_than_the_average:"نمهر های پایین تر از میانگین %{average}",total_graded_submissions:"کل موردهای ارسالی نمره گذاری شده:"}},fr:{assignment_details_dialog:{average_score:"Note moyenne :",count_of_submissions:"%{cnt} envois",grading_statistics_for_assignment:"Statistiques de notation pour : %{assignment.name}",high_score:"Note élevée :",low_score:"Note basse :",no_one_scored_higher:"La note la plus élevée est : %{max}",no_one_scored_lower:"La note la plus basse est : %{min}",scores_higher_than_the_average:"Notes supérieures à la moyenne de %{average}",scores_lower_than_the_average:"Notes inférieures à la moyenne de %{average}",total_graded_submissions:"Total des envois notés :"}},ja:{assignment_details_dialog:{average_score:"平均点:",count_of_submissions:"%{cnt} 件の提出物",grading_statistics_for_assignment:"成績統計対象: %{assignment.name}",high_score:"高スコア:",low_score:"低スコア:",no_one_scored_higher:"%{max} を上回るスコアの受講者はいませんでした",no_one_scored_lower:"%{min} を下回るスコアの受講者はいませんでした",scores_higher_than_the_average:"平均点 %{average} を上回るスコア",scores_lower_than_the_average:"平均点 %{average} を下回るスコア",total_graded_submissions:"採点済みの提出物合計:"}},nb:{assignment_details_dialog:{average_score:"Gjennomsnittlig resultat:",count_of_submissions:"%{cnt} innleveringer",grading_statistics_for_assignment:"Karakterstatistikk for: %{assignment.name}",high_score:"Høyeste resultat:",low_score:"Laveste resultat:",no_one_scored_higher:"Ingen fikk høyere resultat enn %{max}",no_one_scored_lower:"Ingen fikk lavere resultat enn %{min}",scores_higher_than_the_average:"Resultater som er høyere enn gjennomsnittet %{average}",scores_lower_than_the_average:"Resultater som er lavere enn gjennomsnittet %{average}",total_graded_submissions:"Antall rettede innleveringer:"}},nl:{assignment_details_dialog:{average_score:"Gemiddelde score:",count_of_submissions:"%{cnt} inzendingen",grading_statistics_for_assignment:"Beoordelingsstatistieken voor: %{assignment.name}",high_score:"Hoogste score:",low_score:"Laagste score:",no_one_scored_higher:"Geen score hoger dan %{max}",no_one_scored_lower:"Geen score lager dan %{min}",scores_higher_than_the_average:"Scores hoger dan het gemiddelde van %{average}",scores_lower_than_the_average:"Scores lager dan het gemiddelde van %{average}",total_graded_submissions:"Totaal aantal beoordeelde inzendingen:"}},pl:{assignment_details_dialog:{average_score:"Średni wynik punktowy:",count_of_submissions:"Liczba przesłanych zadań: %{cnt}",grading_statistics_for_assignment:"Statystki dot. ocen dla: %{assignment.name}",high_score:"Wysoki wynik punktowy:",low_score:"Niski wynik punktowy:",no_one_scored_higher:"Żaden z uczestników nie uzyskał wyższej liczby punktów niż %{max}",no_one_scored_lower:"Żaden z uczestników nie uzyskał niższej liczby punktów niż %{min}",scores_higher_than_the_average:"Wyniki powyżej średniej wynoszącej %{average}",scores_lower_than_the_average:"Wyniki poniżej średniej wynoszącej %{average}",total_graded_submissions:"Łącznie ocenionych zadań:"}},pt:{assignment_details_dialog:{average_score:"Pontuação média:",count_of_submissions:"%{cnt} envios",grading_statistics_for_assignment:"Estatísticas de nota para: %{assignment.name}",high_score:"Pontuação mais alta:",low_score:"Pontuação mais baixa:",no_one_scored_higher:"Ninguém fez mais pontos que %{max}",no_one_scored_lower:"Ninguém fez menos pontos que %{min}",scores_higher_than_the_average:"Pontuações maiores que a média de %{average}",scores_lower_than_the_average:"Pontuações menores que a média de %{average}",total_graded_submissions:"Total de envios avaliados:"}},"pt-BR":{assignment_details_dialog:{average_score:"Pontuação média:",count_of_submissions:"%{cnt} envios",grading_statistics_for_assignment:"Estatísticas de nota para: %{assignment.name}",high_score:"Pontuação mais alta:",low_score:"Pontuação mais baixa:",no_one_scored_higher:"Ninguém fez mais pontos que %{max}",no_one_scored_lower:"Ninguém fez menos pontos que %{min}",scores_higher_than_the_average:"Pontuações maiores que a média de %{average}",scores_lower_than_the_average:"Pontuações menores que a média de %{average}",total_graded_submissions:"Total de envios avaliados:"}},ru:{assignment_details_dialog:{average_score:"Средний балл:",count_of_submissions:"%{cnt} отправок",grading_statistics_for_assignment:"Статистика оценок для: %{assignment.name}",high_score:"Высокая оценка:",low_score:"Низкая оценка:",no_one_scored_higher:"Нет оценок выше %{max}",no_one_scored_lower:"Нет оценок ниже %{min}",scores_higher_than_the_average:"Оценки выше средних %{average}",scores_lower_than_the_average:"Оценки ниже средних %{average}",total_graded_submissions:"Всего отправок оценено:"}},tr:{assignment_details_dialog:{average_score:"Ortalama Puan:",count_of_submissions:"%{cnt} gönderi",grading_statistics_for_assignment:"%{assignment.name} için not istatistikleri",high_score:"Yüksek Puan:",low_score:"Düşük Puan:",no_one_scored_higher:"%{max}'dan daha yüksek puan yok",no_one_scored_lower:"%{min}'den daha düşük puan yok",scores_higher_than_the_average:"%{average} ortalamasından büyük puanlar",scores_lower_than_the_average:"%{average} ortalamasından düşük puanlar",total_graded_submissions:"Toplam Notlandırılmış Gönderiler:"}},zh:{assignment_details_dialog:{average_score:"平均分数:",count_of_submissions:"%{cnt} 个作业",grading_statistics_for_assignment:"下列评分统计: %{assignment.name}",high_score:"高分:",low_score:"低分:",no_one_scored_higher:"没有分数高于 %{max}",no_one_scored_lower:"没有分数低于 %{min}",scores_higher_than_the_average:"高于平均分 %{average} 的分数",scores_lower_than_the_average:"低于平均分 %{average} 的分数",total_graded_submissions:"已评分的提交项总数："}},zh_Hant:{assignment_details_dialog:{average_score:"平均分：",count_of_submissions:"%{cnt} 份提交件",grading_statistics_for_assignment:"成績統計資料：%{assignment.name}",high_score:"高分：",low_score:"低分：",no_one_scored_higher:"沒有人得分高於 %{max}",no_one_scored_lower:"沒有人得分低於 %{min}",scores_higher_than_the_average:"得分高於平均分 %{average}",scores_lower_than_the_average:"得分低於平均分 %{average}",total_graded_submissions:"總的已評分的提交件："}}}})}),define("jst/AssignmentDetailsDialog",["compiled/handlebars_helpers","compiled/util/registerTemplateCss","i18n!assignment_details_dialog"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.AssignmentDetailsDialog=t(function(e,t,n,o,i){function s(e,t){var o,i,s,r="";return r+='\n    <div class="distribution" style="display: block; ">\n      <div class="bar-left"></div>\n      <div class="none-left" title="',i=n.t||e&&e.t,s={hash:{scope:"assignment_details_dialog"},data:t},o=i?i.call(e,"no_one_scored_lower","No one scored lower than %{min}",s):d.call(e,"t","no_one_scored_lower","No one scored lower than %{min}",s),(o||0===o)&&(r+=o),r+='" style="width: ',(i=n.noneLeftWidth)?o=i.call(e,{hash:{},data:t}):(i=e&&e.noneLeftWidth,o=typeof i===c?i.call(e,{hash:{},data:t}):i),r+=g(o)+"%; left: ",(i=n.noneLeftLeft)?o=i.call(e,{hash:{},data:t}):(i=e&&e.noneLeftLeft,o=typeof i===c?i.call(e,{hash:{},data:t}):i),r+=g(o)+'%; "></div>\n      <div class="some-left" title="',i=n.t||e&&e.t,s={hash:{scope:"assignment_details_dialog"},data:t},o=i?i.call(e,"scores_lower_than_the_average","Scores lower than the average of %{average}",s):d.call(e,"t","scores_lower_than_the_average","Scores lower than the average of %{average}",s),(o||0===o)&&(r+=o),r+='" style="width: ',(i=n.someLeftWidth)?o=i.call(e,{hash:{},data:t}):(i=e&&e.someLeftWidth,o=typeof i===c?i.call(e,{hash:{},data:t}):i),r+=g(o)+"%; left: ",(i=n.someLeftLeft)?o=i.call(e,{hash:{},data:t}):(i=e&&e.someLeftLeft,o=typeof i===c?i.call(e,{hash:{},data:t}):i),r+=g(o)+'%; "></div>\n      <div class="some-right" title="',i=n.t||e&&e.t,s={hash:{scope:"assignment_details_dialog"},data:t},o=i?i.call(e,"scores_higher_than_the_average","Scores higher than the average of %{average}",s):d.call(e,"t","scores_higher_than_the_average","Scores higher than the average of %{average}",s),(o||0===o)&&(r+=o),r+='" style="width: ',(i=n.someRightWidth)?o=i.call(e,{hash:{},data:t}):(i=e&&e.someRightWidth,o=typeof i===c?i.call(e,{hash:{},data:t}):i),r+=g(o)+"%; left: ",(i=n.someRightLeft)?o=i.call(e,{hash:{},data:t}):(i=e&&e.someRightLeft,o=typeof i===c?i.call(e,{hash:{},data:t}):i),r+=g(o)+'%; "></div>\n      <div class="none-right" title="',i=n.t||e&&e.t,s={hash:{scope:"assignment_details_dialog"},data:t},o=i?i.call(e,"no_one_scored_higher","No one scored higher than %{max}",s):d.call(e,"t","no_one_scored_higher","No one scored higher than %{max}",s),(o||0===o)&&(r+=o),r+='" style="width: ',(i=n.noneRightWidth)?o=i.call(e,{hash:{},data:t}):(i=e&&e.noneRightWidth,o=typeof i===c?i.call(e,{hash:{},data:t}):i),r+=g(o)+"%; left: ",(i=n.noneRightLeft)?o=i.call(e,{hash:{},data:t}):(i=e&&e.noneRightLeft,o=typeof i===c?i.call(e,{hash:{},data:t}):i),r+=g(o)+'%; "></div>\n      <div class="bar-right"></div>\n    </div>\n  '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var r,a,l,u="",d=n.helperMissing,c="function",g=this.escapeExpression,h=this;return u+='<div id="assignment-details-dialog" title="',a=n.t||t&&t.t,l={hash:{scope:"assignment_details_dialog"},data:i},r=a?a.call(t,"grading_statistics_for_assignment","Grade statistics for: %{assignment.name}",l):d.call(t,"t","grading_statistics_for_assignment","Grade statistics for: %{assignment.name}",l),(r||0===r)&&(u+=r),u+='">\n  ',r=n["if"].call(t,t&&t.showDistribution,{hash:{},inverse:h.noop,fn:h.program(1,s,i),data:i}),(r||0===r)&&(u+=r),u+='\n  <table id="assignment-details-dialog-stats-table">\n    <tr>\n      <th scope="row">',a=n.t||t&&t.t,l={hash:{scope:"assignment_details_dialog"},data:i},r=a?a.call(t,"average_score","Average Score:",l):d.call(t,"t","average_score","Average Score:",l),(r||0===r)&&(u+=r),u+="</th>\n      <td>",(a=n.average)?r=a.call(t,{hash:{},data:i}):(a=t&&t.average,r=typeof a===c?a.call(t,{hash:{},data:i}):a),u+=g(r)+'</td>\n    </tr>\n    <tr>\n      <th scope="row">',a=n.t||t&&t.t,l={hash:{scope:"assignment_details_dialog"},data:i},r=a?a.call(t,"high_score","High Score:",l):d.call(t,"t","high_score","High Score:",l),(r||0===r)&&(u+=r),u+="</th>\n      <td>",(a=n.max)?r=a.call(t,{hash:{},data:i}):(a=t&&t.max,r=typeof a===c?a.call(t,{hash:{},data:i}):a),u+=g(r)+'</td>\n    </tr>\n    <tr>\n      <th scope="row">',a=n.t||t&&t.t,l={hash:{scope:"assignment_details_dialog"},data:i},r=a?a.call(t,"low_score","Low Score:",l):d.call(t,"t","low_score","Low Score:",l),(r||0===r)&&(u+=r),u+="</th>\n      <td>",(a=n.min)?r=a.call(t,{hash:{},data:i}):(a=t&&t.min,r=typeof a===c?a.call(t,{hash:{},data:i}):a),u+=g(r)+'</td>\n    </tr>\n    <tr>\n      <th scope="row">',a=n.t||t&&t.t,l={hash:{scope:"assignment_details_dialog"},data:i},r=a?a.call(t,"total_graded_submissions","Total Graded Submissions:",l):d.call(t,"t","total_graded_submissions","Total Graded Submissions:",l),(r||0===r)&&(u+=r),u+="</th>\n      <td>",a=n.t||t&&t.t,l={hash:{scope:"assignment_details_dialog"},data:i},r=a?a.call(t,"count_of_submissions","%{cnt} submissions",l):d.call(t,"t","count_of_submissions","%{cnt} submissions",l),(r||0===r)&&(u+=r),u+="</td>\n    </tr>\n  </table>\n</div>\n"
}),arguments[1]("AssignmentDetailsDialog","#assignment-details-dialog .distribution{margin:15px 0;height:30px;position:relative;}#assignment-details-dialog .distribution div{position:absolute;top:0;border-style:solid;border-color:#aaa;overflow:hidden;}#assignment-details-dialog .distribution .bar-left,#assignment-details-dialog .distribution .bar-right{height:10px;width:0px;margin:5px 0px;}#assignment-details-dialog .distribution .bar-left{left:0;border-width:2px 0 2px 2px;}#assignment-details-dialog .distribution .none-left,#assignment-details-dialog .distribution .none-right{height:11px;border-bottom-width:2px;}#assignment-details-dialog .distribution .some-left{height:20px;border-width:2px 0pt 2px 2px;border-top-left-radius:3px;border-bottom-left-radius:3px;background:#fff;z-index:2;}#assignment-details-dialog .distribution .some-right{height:20px;border-width:2px;overflow:hidden;border-top-right-radius:3px;border-bottom-right-radius:3px;background:#fff;z-index:2;}#assignment-details-dialog .distribution .bar-right{width:0;height:10px;margin:5px 0;right:0;border-width:2px 2px 2px 0;}#assignment-details-dialog-stats-table{font-size:1.2em;}#assignment-details-dialog-stats-table th,#assignment-details-dialog-stats-table td{padding:2px 5px;white-space:nowrap;}#assignment-details-dialog-stats-table td{font-size:1.1em;font-weight:bold;}"),n.AssignmentDetailsDialog}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/AssignmentDetailsDialog",["i18n!assignment_details","jquery","jst/AssignmentDetailsDialog","jqueryui/dialog","compiled/jquery/fixDialogButtons"],function(t,n,o){var i;return i=function(){function i(t){var i,s,r,a,l,u;this.assignment=t.assignment,this.students=t.students,this.nonNumericGuard=e(this.nonNumericGuard,this),this.compute=e(this.compute,this),u=this.compute(),s=u.scores,i=u.locals,r=0,l=0,a=100,n.extend(i,{showDistribution:i.average&&this.assignment.points_possible,noneLeftWidth:l=a*(i.min/this.assignment.points_possible),noneLeftLeft:(r+=l)-l,someLeftWidth:l=a*((i.average-i.min)/this.assignment.points_possible),someLeftLeft:(r+=l)-l,someRightWidth:l=a*((i.max-i.average)/this.assignment.points_possible),someRightLeft:(r+=l)-l,noneRightWidth:l=a*((this.assignment.points_possible-i.max)/this.assignment.points_possible),noneRightLeft:(r+=l)-l}),n(o(i)).dialog({width:500,close:function(){return n(this).remove()}})}return i.prototype.compute=function(e){var t,n,o,i,s,r,a=this;return null==e&&(e={students:this.students,assignment:this.assignment}),r=e.students,t=e.assignment,i=function(){var e,o;o=[];for(n in r)s=r[n],null!=(null!=(e=s["assignment_"+t.id])?e.score:void 0)&&o.push(s["assignment_"+t.id].score);return o}(),o={assignment:t,cnt:i.length,max:this.nonNumericGuard(Math.max.apply(Math,i)),min:this.nonNumericGuard(Math.min.apply(Math,i)),average:function(e){var t,n,o,i;for(n=0,o=0,i=e.length;i>o;o++)t=e[o],n+=t;return a.nonNumericGuard(Math.round(n/e.length))}(i)},{scores:i,locals:o}},i.prototype.nonNumericGuard=function(e){return isFinite(e)&&!isNaN(e)?e:t.t("no_graded_submissions","No graded submissions")},i}()})}.call(this),define("translations/assignment_muter",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{assignment_muter:{mute_assignment:"حجب المهمة",muting_assignment:"إخفاء درجة التعيين...",unmute_assignment:"إلغاء حجب المهمة",unmute_button:"إلغاء حجب المهمة",unmute_dialog:"تم حجب هذه المهمة حاليًا. وهذا يعني أن الطلاب لا يمكنهم عرض الدرجات والملاحظات الخاصة بهم. هل ترغب في إلغاء حجبها الآن؟",unmuting_assignment:"إظهار درجة التعيين..."}},de:{assignment_muter:{mute_assignment:"Aufgabe stummschalten",muting_assignment:"Aufgabe stummschalten...",unmute_assignment:"Aufgabe lautschalten",unmute_button:"Aufgabe lautschalten",unmute_dialog:"Diese Aufgabe ist zurzeit stummgeschaltet. Das bedeutet, dass die Studenten Ihre Noten und Feedbacks nicht aufrufen können. Möchten Sie diese Aufgabe jetzt lautschalten?",unmuting_assignment:"Aufgabe lautschalten..."}},"en-AU":{assignment_muter:{mute_assignment:"Mute Assignment",muting_assignment:"Muting Assignment...",unmute_assignment:"Unmute Assignment",unmute_button:"Unmute Assignment",unmute_dialog:"This assignment is currently muted. That means students can't see their grades and feedback. Would you like to unmute now?",unmuting_assignment:"Unmuting Assignment..."}},"en-GB":{assignment_muter:{mute_assignment:"Mute assignment",muting_assignment:"Muting assignment...",unmute_assignment:"Unmute assignment",unmute_button:"Unmute assignment",unmute_dialog:"This assignment is currently muted. That means students can't see their grades and feedback. Would you like to unmute now?",unmuting_assignment:"Unmuting assignment..."}},es:{assignment_muter:{mute_assignment:"Obviar Tarea",muting_assignment:"Desactivando la tarea...",unmute_assignment:"Activar la Tarea",unmute_button:"Activar la Tarea",unmute_dialog:"Esta tarea está obviada. Esto significa que los estudiantes no pueden ver sus calificaciones ni retroalimentación. ¿Quiere activarla ahora?",unmuting_assignment:"Activando la tarea..."}},"fa-IR":{assignment_muter:{mute_assignment:"غیر فعال کردن تکلیف",muting_assignment:"در حال غیر فعال کردن تکلیف...",unmute_assignment:"فعال کردن تکلیف",unmute_button:"فعال کردن تکلیف",unmute_dialog:"این تکلیف در حال حاضر غیر فعال شده است. بدین معنا که دانشجویان نمی توانند نمره ها و بازخورد خود را ببینند. آیا مایلید الان فعال شود؟",unmuting_assignment:"در حال فعال کردن تکلیف..."}},fr:{assignment_muter:{mute_assignment:"Tâche silencieuse",muting_assignment:"Tâche en mode silencieux...",unmute_assignment:"Annuler une tâche silencieuse",unmute_button:"Annuler une tâche silencieuse",unmute_dialog:"Cette tâche est actuellement en mode silencieux. Cela signifie que les étudiants ne peuvent pas voir leurs notes ni leurs corrections. Voulez-vous annuler la tâche silencieuse maintenant ?",unmuting_assignment:"Réactiver le son pour la tâche..."}},ja:{assignment_muter:{mute_assignment:"課題をミュートにする",muting_assignment:"課題をミュートにしています...",unmute_assignment:"課題のミュート解除",unmute_button:"課題のミュート解除",unmute_dialog:"この課題は現在ミュートになっています。つまり、受講生は成績やフィードバックを見ることができません。今すぐミュートを解除しますか?",unmuting_assignment:"課題のミュートを解除しています..."}},nb:{assignment_muter:{mute_assignment:"Skjul oppgaven",muting_assignment:"Skjuler oppgaven...",unmute_assignment:"Vis oppgaven",unmute_button:"Vis oppgaven",unmute_dialog:"Denne oppgaven er for tiden skjult. Det betyr at studentene ikke kan se karakter eller tilbakemelding. Vil du vise oppgaven nå?",unmuting_assignment:"Viser oppgaven..."}},nl:{assignment_muter:{mute_assignment:"Opdracht verbergen",muting_assignment:"Bezig met verbergen van opdracht...",unmute_assignment:"Opdracht verbergen ongedaan maken",unmute_button:"Opdracht verbergen ongedaan maken",unmute_dialog:"De opdracht is momenteel verborgen. Hierdoor kunnen cursisten hun cijfers en feedback niet zien. Wil je dit nu ongedaan maken?",unmuting_assignment:"Bezig met het ongedaan maken van opdracht..."}},pl:{assignment_muter:{mute_assignment:"Ukryj zadanie",muting_assignment:"Ukrywanie zadania",unmute_assignment:"Odkryj zadanie",unmute_button:"Odkryj zadanie",unmute_dialog:"To zadanie jest obecnie ukryte. Oznacza to, że uczestnicy nie widzą swoich ocen ani komentarzy. Czy chcesz odkryć zadanie?",unmuting_assignment:"Odkrywanie zadania"}},pt:{assignment_muter:{mute_assignment:"Silenciar tarefa",muting_assignment:"A desativar a tarefa...",unmute_assignment:"Dessilenciar tarefa",unmute_button:"Dessilenciar tarefa",unmute_dialog:"Esta tarefa está desativada de momento. Isso significa que os alunos não podem ver as suas notas e observações. Pretende ativar agora a tarefa?",unmuting_assignment:"A ativar a tarefa..."}},"pt-BR":{assignment_muter:{mute_assignment:"Silenciar tarefa",muting_assignment:"Silenciando compromisso...",unmute_assignment:"Dessilenciar tarefa",unmute_button:"Dessilenciar tarefa",unmute_dialog:"Esta tarefa está silenciada no momento. Isto significa que os alunos não podem ver suas notas e observações. Você gostaria de remover o silêncio agora?",unmuting_assignment:"Dessilenciando tarefa..."}},ru:{assignment_muter:{mute_assignment:"Отключить звук задания",muting_assignment:"Отключение звука задания...",unmute_assignment:"Включить звук задания",unmute_button:"Включить звук задания",unmute_dialog:"В настоящий момент звук в данном задании отключен. Это означает, что студенты не могут просматривать свои оценки и отзывы. Включить звук сейчас?",unmuting_assignment:"Включение звука задания..."}},tr:{assignment_muter:{mute_assignment:"Ödevi Beklet",muting_assignment:"Ödev beklemeye alınıyor...",unmute_assignment:"Ödevi Beklemeden Çıkar",unmute_button:"Ödevi Beklemeden Çıkar",unmute_dialog:"Bu ödev şu anda bekletiliyor. Öğrenciler notlarını ve geribildirimleri göremezler. Şimdi açmak ister misiniz?",unmuting_assignment:"Ödev beklemeden çıkarılıyor..."}},zh:{assignment_muter:{mute_assignment:"屏蔽作业",muting_assignment:"正在屏蔽作业...",unmute_assignment:"取消屏蔽作业",unmute_button:"取消屏蔽作业",unmute_dialog:"此作业当前被屏蔽。这意味着学生无法看到其计分和反馈。是否要立即取消屏蔽?",unmuting_assignment:"正在取消屏蔽作业..."}},zh_Hant:{assignment_muter:{mute_assignment:"靜音任務",muting_assignment:"正在進行靜音任務…",unmute_assignment:"取消靜音任務",unmute_button:"取消靜音任務",unmute_dialog:"此任務目前是靜音的。這意味著學生不能看到自己的成績和回饋。是否現在要取消靜音？",unmuting_assignment:"正在進行取消靜音任務…"}}}})}),define("translations/mute_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{mute_dialog:{curving_assignments:"المهام المنحنية",grade_change_notifications:"إعلامات تغيير الدرجات",how_to_unmute:'بمجرد حجب هذه المهمة، يمكنك بدء إرسال إعلامات مرة أخرى عن طريق النقر فوق الارتباط "إلغاء حجب المهمة".',mute_assignment:"حجب المهمة",score_change_notifications:"إعلامات تغيير النقاط",see_grade:"الدرجة الخاصة بالمهمة",students_will_see:"سيرى الطلاب أنه قد تم حجب هذه المهمة. ",submission_comments:"تعليقات الإرسال",sure_you_want_to_mute:"هل ترغب بالتأكيد في حجب هذه المهمة؟ بينما تم حجب هذه المهمة، لن يتلقى الطلاب إعلامات جديدة حولها أو لن يقدروا على رؤيتها:"}},de:{mute_dialog:{curving_assignments:"Aufgaben-chart erstellen",grade_change_notifications:"Benachrichtigungen bei Notenänderung",how_to_unmute:'Für eine stummgeschaltete Aufgabe können Sie durch einen Klick auf den Link "Aufgabe lautschalten" die Versendung von Benachrichtigungen erneut aktivieren.',mute_assignment:"Aufgabe stummschalten",score_change_notifications:"Benachrichtigungen bei Punktzahländerung",see_grade:"Ihre Note für die Aufgabe",students_will_see:"Die Studenten können sehen, dass diese Aufgabe stummgeschaltet ist.",submission_comments:"Einsendungskommentare",sure_you_want_to_mute:"Möchten Sie diese Aufgabe wirklich stummschalten? Solange diese Aufgabe stummgeschaltet ist, erhalten die Studenten keine neuen Benachrichtigungen und sehen keine Informationen im Zusammenhang mit:"}},"en-AU":{mute_dialog:{curving_assignments:"Curving assignments",grade_change_notifications:"Grade change notifications",how_to_unmute:'Once you have muted this assignment, you can begin sending notifications again by clicking the "Unmute Assignment" link.',mute_assignment:"Mute Assignment",score_change_notifications:"Score change notifications",see_grade:"Their grade for the assignment",students_will_see:"Students will be able to see that this assignment is muted.",submission_comments:"Submission comments",sure_you_want_to_mute:"Are you sure you want to mute this assignment? While this assignment is muted, students will not receive new notifications about or be able to see:"}},"en-GB":{mute_dialog:{curving_assignments:"Curving assignments",grade_change_notifications:"Grade change notifications",how_to_unmute:'Once you have muted this assignment, you can begin sending notifications again by clicking the "Unmute assignment" link.',mute_assignment:"Mute assignment",score_change_notifications:"Score change notifications",see_grade:"Their grade for the assignment",students_will_see:"Students will be able to see that this assignment is muted.",submission_comments:"Submission comments",sure_you_want_to_mute:"Are you sure you want to mute this assignment? While this assignment is muted, students will not receive new notifications about or be able to see:"}},es:{mute_dialog:{curving_assignments:"Aplicando Curvas a tareas",grade_change_notifications:"Notificaciones de Cambios de Calificaciones",how_to_unmute:'Una vez que ha obviado esta tarea, puede comenzar a enviar notificaciones otra vez haciendo click en el enlace "Obviar Tarea".',mute_assignment:"Obviar Tarea",score_change_notifications:"Notificaciones de cambio en calificaciones",see_grade:"La calificación para su tarea",students_will_see:"Los estudiantes podrán ver que esta tarea está obviada.",submission_comments:"Comentarios de los envíos",sure_you_want_to_mute:"¿Está seguro que quiere obviar esta tarea? Mientras esta tarea está obviada, los estudiantes no recibirán nuevas notificaciones acerca o podrá ver:"}},"fa-IR":{mute_dialog:{curving_assignments:"در حال روی منحنی بردن تکلیف ها",grade_change_notifications:"اطلاعیه های تغییر نمره",how_to_unmute:"وقتی این تکلیف را غیر فعال کردید، می توانید با کلیک کردن روی پیوند «فعال کردن تکلیف»، اطلاعیه ها را دوباره ارسال کنید.",mute_assignment:"غیر فعال کردن تکلیف",score_change_notifications:"اطلاعیه های تغییر نمره",see_grade:"نمره آنها برای این تکلیف",students_will_see:"دانشجویان می توانند ببینند که این تکلیف غیرفعال شده است.",submission_comments:"نظرهای مربوط به مورد ارسالی",sure_you_want_to_mute:"مطمئنید که می خواهید این تکلیف غیرفعال شود؟ مادامی که این تکلیف غیرفعال است، دانشجویان اطلاعیه های جدیدی درباره آن دریافت نخواهند کرد و یا قادر به مشاهده آن نخواهند بود:"}},fr:{mute_dialog:{curving_assignments:"Courbe des tâches",grade_change_notifications:"Notifications de changement de notes",how_to_unmute:"Après avoir mis cette tâche en mode silencieux, vous pouvez recommencer à envoyer des notifications en cliquant sur le lien « Annuler une tâche silencieuse .",mute_assignment:"Tâche silencieuse",score_change_notifications:"Notifications de changement de notes",see_grade:"Leur note pour la tâche",students_will_see:"Les étudiants pourront voir que cette tâche est en mode silencieux.",submission_comments:"Commentaires sur l’envoi",sure_you_want_to_mute:"Voulez-vous vraiment mettre cette tâche en mode silencieux ? Tant qu’elle sera en mode silencieux, les étudiants ne reçoivent pas de nouvelles notifications ni ne peuvent afficher :"}},ja:{mute_dialog:{curving_assignments:"課題を分布曲線評価",grade_change_notifications:"成績変更のお知らせ",how_to_unmute:'この課題をミュートにした場合は、再度お知らせの送信を開始するには、"課題のミュート解除" リンクをクリックします。',mute_assignment:"課題をミュートにする",score_change_notifications:"スコア変更のお知らせ",see_grade:"課題に対する成績",students_will_see:"受講生は、この課題がミュートになっていることを確認できます。",submission_comments:"提出コメント",sure_you_want_to_mute:"この課題をミュートにしてもよろしいですか?この課題がミュートになっている間、受講生は以下について表示できず、新しいお知らせも受信しません:"}},nb:{mute_dialog:{curving_assignments:"Korrigerer oppgaver",grade_change_notifications:"Kunngjøring om endring i karakterer",how_to_unmute:'Når du har gjort denne oppgaven utilgjengelig, kan du begynne å sende kunngjøringer igjen ved å klikke "Gjør oppgaven tilgjengelig" lenken.',mute_assignment:"Skjul oppgaven",score_change_notifications:"Varsler om endrede resultater",see_grade:"Deres karakter for oppgaven",students_will_see:"Studentene vil være i stand til å se at denne oppgaven er gjort utilgjengelig.",submission_comments:"Innleveringskommentarer",sure_you_want_to_mute:"Er du sikker på at du vil gjøre denne oppgaven utilgjengelig? Mens oppgaven er utilgjengelig, vil studentene ikke motta nye varsler om eller kunne se:"}},nl:{mute_dialog:{curving_assignments:"Cijfers van opdrachten bijstellen",grade_change_notifications:"Meldingen over cijfer-wijziging",how_to_unmute:'Eens je de opdracht  verborgen hebt, kun je weer meldingen versturen als je op de link "Opheffen verbergen opdracht " hebt geklikt.',mute_assignment:"Opdracht verbergen",score_change_notifications:"Meldingen over score-wijziging",see_grade:"Hun cijfer voor de opdracht",students_will_see:"Cursisten kunnen zien dat deze opdracht wordt verborgen.",submission_comments:"Opmerkingen over inzending",sure_you_want_to_mute:"Weet je zeker dat je deze opdracht wilt verbergen? Terwijl deze opdracht verborgen wordt, zullen cursisten geen nieuwe meldingen ontvangen. Ze kunnen ze ook niet zien:"}},pl:{mute_dialog:{curving_assignments:"Tworzenie krzywej ocen dla zadań",grade_change_notifications:"Powiadomienia o zmianie oceny",how_to_unmute:"Po ukryciu zadania można ponowić wysyłanie powiadomień, klikając łącze „Odkryj zadanie”.",mute_assignment:"Ukryj zadanie",score_change_notifications:"Powiadomienia o zmianie wyniku punktowego",see_grade:"Ich ocena za zadanie",students_will_see:"Uczestnicy będą widzieć, że zadanie zostało ukryte.",submission_comments:"Komentarze do przesłanego zadania",sure_you_want_to_mute:"Czy na pewno chcesz ukryć to zadanie? Gdy zadanie jest ukryte, uczestnicy nie otrzymują nowych powiadomień ani nie mogą zobaczyć:"}},pt:{mute_dialog:{curving_assignments:"Relativizando as tarefas",grade_change_notifications:"Notificações de alteração de nota",how_to_unmute:'Uma vez que silenciar esta tarefa, é possível começar a enviar notificações novamente clicando no link "Dessilenciar tarefa".',mute_assignment:"Silenciar tarefa",score_change_notifications:"Notificações de alteração de pontuação",see_grade:"Sua nota para a tarefa",students_will_see:"Os alunos poderão ver que esta tarefa foi silenciada.",submission_comments:"Comentários do envio",sure_you_want_to_mute:"Tem certeza que deseja silenciar esta tarefa? Enquanto esta tarefa estiver silenciada, os alunos não receberão novas notificações sobre ela, nem poderão ver:"}},"pt-BR":{mute_dialog:{curving_assignments:"Relativizando as tarefas",grade_change_notifications:"Notificações de alteração de nota",how_to_unmute:'Uma vez que silenciar esta tarefa, é possível começar a enviar notificações novamente clicando no link "Dessilenciar tarefa".',mute_assignment:"Silenciar tarefa",score_change_notifications:"Notificações de alteração de pontuação",see_grade:"Sua nota para a tarefa",students_will_see:"Os alunos poderão ver que esta tarefa foi silenciada.",submission_comments:"Comentários do envio",sure_you_want_to_mute:"Tem certeza que deseja silenciar esta tarefa? Enquanto esta tarefa estiver silenciada, os alunos não receberão novas notificações sobre ela, nem poderão ver:"}},ru:{mute_dialog:{curving_assignments:"Кривая оценок для заданий",grade_change_notifications:"Уведомления об изменении оценки",how_to_unmute:'После отключения звука данного задания можно начать снова отправлять уведомления, нажав на ссылку "Включить звук задания".',mute_assignment:"Отключить звук задания",score_change_notifications:"Уведомления об изменении оценки",see_grade:"Их оценка за это задание",students_will_see:"Студенты смогут видеть, что звук этого задания отключен.",submission_comments:"Комментарии отправки",sure_you_want_to_mute:"Действительно хотите отключить звук этого задания? Пока звук этого задания отключен, студенты не будут получать новые уведомления и не смогут просматривать:"}},tr:{mute_dialog:{curving_assignments:"Ödevlere çan eğrisi uygulama",grade_change_notifications:"Değerlendirme bildirimleri değişikliği",how_to_unmute:'Bu ödevi askıya aldıktan sonra  "Ödevi Etkinleştir" bağlantısına tıklayarak yeniden bildirim göndermeye başlayabilirsiniz.',mute_assignment:"Ödevi Beklet",score_change_notifications:"Puan değişikliği bildirimleri",see_grade:"Ödev için onların notu",students_will_see:"Öğrenciler bu ödevin askıya alındığını görebilecekler.",submission_comments:"Gönderim yorumları",sure_you_want_to_mute:"Bu ödevi askıya almak istediğinize emin misiniz? Bu ödev askıdayken öğenciler yeni bildirim almayacak ve şunları göremeyecekler:"}},zh:{mute_dialog:{curving_assignments:"曲线作业",grade_change_notifications:"评分更改通知",how_to_unmute:'一旦您取消静音此作业，即可通过单击"取消静音作业"链接再次开始发送通知。',mute_assignment:"屏蔽作业",score_change_notifications:"分数更改通知",see_grade:"其作业的评分",students_will_see:"学生将能够看到此作业已静音。",submission_comments:"提交评论",sure_you_want_to_mute:"是否确定要静音此作业?此作业静音时，学生将不会收到关于以下内容的新通知或无法看到:"}},zh_Hant:{mute_dialog:{curving_assignments:"繪製任務曲線",grade_change_notifications:"成績更改通知",how_to_unmute:"一旦靜音這個任務，就可以透過按一下『取消靜音任務』連結開始再次傳送通知。",mute_assignment:"靜音任務",score_change_notifications:"分數更改通知",see_grade:"他們對任務的評分",students_will_see:"學生將能夠看到這個任務是靜音的。",submission_comments:"提交件註解",sure_you_want_to_mute:"是否確定要靜音這項任務？當這項任務是靜音的時，學生將不會收到或看到相關的新通知："}}}})}),define("jst/mute_dialog",["compiled/handlebars_helpers","i18n!mute_dialog"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.mute_dialog=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r,a,l="",u=n.helperMissing;return l+='<div title="',r=n.t||t&&t.t,a={hash:{scope:"mute_dialog"},data:i},s=r?r.call(t,"mute_assignment","Mute Assignment",a):u.call(t,"t","mute_assignment","Mute Assignment",a),(s||0===s)&&(l+=s),l+='">\n  <div id="assignment_muter_content" tabindex="-1">\n    <p>\n      ',r=n.t||t&&t.t,a={hash:{scope:"mute_dialog"},data:i},s=r?r.call(t,"sure_you_want_to_mute","Are you sure you want to mute this assignment? While this assignment is muted, students will not receive new notifications about or be able to see:",a):u.call(t,"t","sure_you_want_to_mute","Are you sure you want to mute this assignment? While this assignment is muted, students will not receive new notifications about or be able to see:",a),(s||0===s)&&(l+=s),l+="\n    </p>\n    <ul>\n      <li>",r=n.t||t&&t.t,a={hash:{scope:"mute_dialog"},data:i},s=r?r.call(t,"see_grade","Their grade for the assignment",a):u.call(t,"t","see_grade","Their grade for the assignment",a),(s||0===s)&&(l+=s),l+="</li>\n      <li>",r=n.t||t&&t.t,a={hash:{scope:"mute_dialog"},data:i},s=r?r.call(t,"grade_change_notifications","Grade change notifications",a):u.call(t,"t","grade_change_notifications","Grade change notifications",a),(s||0===s)&&(l+=s),l+="</li>\n      <li>",r=n.t||t&&t.t,a={hash:{scope:"mute_dialog"},data:i},s=r?r.call(t,"submission_comments","Submission comments",a):u.call(t,"t","submission_comments","Submission comments",a),(s||0===s)&&(l+=s),l+="</li>\n      <li>",r=n.t||t&&t.t,a={hash:{scope:"mute_dialog"},data:i},s=r?r.call(t,"curving_assignments","Curving assignments",a):u.call(t,"t","curving_assignments","Curving assignments",a),(s||0===s)&&(l+=s),l+="</li>\n      <li>",r=n.t||t&&t.t,a={hash:{scope:"mute_dialog"},data:i},s=r?r.call(t,"score_change_notifications","Score change notifications",a):u.call(t,"t","score_change_notifications","Score change notifications",a),(s||0===s)&&(l+=s),l+="</li>\n    </ul>\n    <p>\n      ",r=n.t||t&&t.t,a={hash:{scope:"mute_dialog"},data:i},s=r?r.call(t,"students_will_see","Students will be able to see that this assignment is muted.",a):u.call(t,"t","students_will_see","Students will be able to see that this assignment is muted.",a),(s||0===s)&&(l+=s),l+="\n    </p>\n    <p>\n      ",r=n.t||t&&t.t,a={hash:{scope:"mute_dialog"},data:i},s=r?r.call(t,"how_to_unmute",'Once you have muted this assignment, you can begin sending notifications again by clicking the "Unmute Assignment" link.',a):u.call(t,"t","how_to_unmute",'Once you have muted this assignment, you can begin sending notifications again by clicking the "Unmute Assignment" link.',a),(s||0===s)&&(l+=s),l+="\n    </p>\n  </div>\n</div>\n"}),n.mute_dialog}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/AssignmentMuter",["i18n!assignment_muter","jquery","jst/mute_dialog","jquery.ajaxJSON","jquery.disableWhileLoading","jqueryui/dialog","vendor/jquery.ba-tinypubsub"],function(t,n,o){var i;return i=function(){function i(t,o,i,s){var r=this;this.$link=t,this.assignment=o,this.url=i,this.setter=s,this.confirmUnmute=e(this.confirmUnmute,this),this.afterUpdate=e(this.afterUpdate,this),this.showDialog=e(this.showDialog,this),this.updateLink=e(this.updateLink,this),this.$link=n(this.$link),this.updateLink(),this.$link.click(function(e){return e.preventDefault(),r.assignment.muted?r.confirmUnmute():r.showDialog()})}return i.prototype.updateLink=function(){return this.$link.text(this.assignment.muted?t.t("unmute_assignment","Unmute Assignment"):t.t("mute_assignment","Mute Assignment"))},i.prototype.showDialog=function(){var e=this;return this.$dialog=n(o()).dialog({buttons:[{text:t.t("mute_assignment","Mute Assignment"),"data-text-while-loading":t.t("muting_assignment","Muting Assignment..."),click:function(){return e.$dialog.disableWhileLoading(n.ajaxJSON(e.url,"put",{status:!0},e.afterUpdate))}}],open:function(){return setTimeout(function(){return e.$dialog.find("#assignment_muter_content").focus()},100)},close:function(){return e.$dialog.remove()},resizable:!1,width:400})},i.prototype.afterUpdate=function(e){return this.setter?this.setter(this.assignment,"muted",e.assignment.muted):this.assignment.muted=e.assignment.muted,this.updateLink(),this.$dialog.dialog("close"),n.publish("assignment_muting_toggled",[this.assignment])},i.prototype.confirmUnmute=function(){var e=this;return this.$dialog=n("<div />").text(t.t("unmute_dialog","This assignment is currently muted. That means students can't see their grades and feedback. Would you like to unmute now?")).dialog({buttons:[{text:t.t("unmute_button","Unmute Assignment"),"data-text-while-loading":t.t("unmuting_assignment","Unmuting Assignment..."),click:function(){return e.$dialog.disableWhileLoading(n.ajaxJSON(e.url,"put",{status:!1},e.afterUpdate))}}],close:function(){return e.$dialog.remove()},resizable:!1,title:t.t("unmute_assignment","Unmute Assignment"),width:400})},i}()})}.call(this),define("translations/set_default_grade_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{set_default_grade_dialog:{default_grades:"منح كافة الطلاب نفس الدرجة الخاصة بـ *%{assignment.name}* عن طريق إدخال قيمة درجة وإرسالها أدناه:",dialog_title:"الدرجة الافتراضية لـ %{assignment.name}",overwrite:"الكتابة فوق الدرجات التي تم إدخالها بالفعل",set_grades_button:"تعيين الدرجة الافتراضية",set_grades_button_loading:"جارٍ تعيين الدرجات..."}},de:{set_default_grade_dialog:{default_grades:"Vergeben Sie an alle Studenten die gleiche Note für *%{assignment.name}*, indem Sie unten eine Note eingeben und absenden:",dialog_title:"Standardnote für %{assignment.name}",overwrite:"Bereits eingegebene Noten überschreiben",set_grades_button:"Standardnote festlegen",set_grades_button_loading:"Noten werden vergeben..."}},"en-AU":{set_default_grade_dialog:{default_grades:"Give all students the same grade for *%{assignment.name}* by entering and submitting a grade value below:",dialog_title:"Default grade for %{assignment.name}",overwrite:"Overwrite already-entered grades",set_grades_button:"Set Default Grade",set_grades_button_loading:"Setting Grades..."}},"en-GB":{set_default_grade_dialog:{default_grades:"Give all students the same grade for *%{assignment.name}* by entering and submitting a grade value below:",dialog_title:"Default grade for %{assignment.name}",overwrite:"Overwrite already-entered grades",set_grades_button:"Set default grade",set_grades_button_loading:"Setting grades..."}},es:{set_default_grade_dialog:{default_grades:"Dar a todos los estudiantes la misma calificación para *%{assignment.name}* ingresando y enviando un valor de la calificación a continuación:",dialog_title:"Calificación Predeterminada para %{assignment.name}",overwrite:"Sobrescribir calificaciones que ya se han ingresado",set_grades_button:"Establecer una Calificación Predeterminada",set_grades_button_loading:"Estableciendo Calificaciones..."}},"fa-IR":{set_default_grade_dialog:{default_grades:"با وارد کردن و ارسال یک مقدار نمره در قسمت زیر، برای *%{assignment.name}* به همه دانشجویان نمره یکسان بدهید:",dialog_title:"نمره پیش فرض برای %{assignment.name}",overwrite:"رونویسی نمره هایی که وارد شده اند",set_grades_button:"تعیین نمره پیش فرض",set_grades_button_loading:"در حال تعیین نمره ها..."}},fr:{set_default_grade_dialog:{default_grades:"Donner à tous les étudiants la même note pour *%{assignment.name}* en entrant et en envoyant une valeur de note ci-dessous :",dialog_title:"Note par défaut pour %{assignment.name}",overwrite:"Remplacer les notes déjà entrées",set_grades_button:"Définir la note par défaut",set_grades_button_loading:"Configuration des notes..."}},ja:{set_default_grade_dialog:{default_grades:"以下に成績値を入力して送信することによって、*%{assignment.name}* については、すべての受講生に同じ成績を与える:",dialog_title:"%{assignment.name} の既定の成績",overwrite:"既に入力されている成績を上書き",set_grades_button:"既定の成績の設定",set_grades_button_loading:"成績を設定しています..."}},nb:{set_default_grade_dialog:{default_grades:"Gi alle studentene samme karakter for *%{assignment.name}* ved å skrive inn en karakterverdi nedenfor:",dialog_title:"Standardkarakter for %{assignment.name}",overwrite:"Overskriv karakterene som er lagt inn allerede",set_grades_button:"Sett standardkarakter",set_grades_button_loading:"Setter karakterer…"}},nl:{set_default_grade_dialog:{default_grades:"Aan alle cursisten hetzelfde cijfer geven voor *%{assignment.name}* door hieronder een cijfer in te voeren en in te zenden:",dialog_title:"Standaardcijfer voor %{assignment.name}",overwrite:"Reeds ingevoerde cijfers overschrijven",set_grades_button:"Standaardcijfer instellen",set_grades_button_loading:"Bezig met cijfers instellen..."}},pl:{set_default_grade_dialog:{default_grades:"Wystaw wszystkim uczestnikom tę samą ocenę za zadanie *%{assignment.name}*, wpisując i przesyłając ocenę podaną poniżej:",dialog_title:"Ocena domyślna za zadanie %{assignment.name}",overwrite:"Zastąp wprowadzone oceny",set_grades_button:"Ustaw ocenę domyślną",set_grades_button_loading:"Trwa ustawianie ocen..."}},pt:{set_default_grade_dialog:{default_grades:"Dar a todos os alunos a mesma nota para *%{assignment.name}*, inserindo e enviando um valor de nota abaixo:",dialog_title:"Nota padrão para %{assignment.name}",overwrite:"Sobrescrever notas já inseridas",set_grades_button:"Definir nota padrão",set_grades_button_loading:"Definindo notas..."}},"pt-BR":{set_default_grade_dialog:{default_grades:"Dar a todos os alunos a mesma nota para *%{assignment.name}*, inserindo e enviando um valor de nota abaixo:",dialog_title:"Nota padrão para %{assignment.name}",overwrite:"Sobrescrever notas já inseridas",set_grades_button:"Definir nota padrão",set_grades_button_loading:"Definindo notas..."}},ru:{set_default_grade_dialog:{default_grades:"Назначьте всем студентам одну оценку для *%{assignment.name}*, введя и отправив значение оценки ниже:",dialog_title:"Оценка по умолчанию для %{assignment.name}",overwrite:"Перезаписать уже существующие оценки",set_grades_button:"Установить оценку по умолчанию",set_grades_button_loading:"Установка оценок..."}},tr:{set_default_grade_dialog:{default_grades:"*%{assignment.name}* sınavında tüm öğrencilere aynı not verilecektir. Bunun için bir not değeri girin ve ardından notlandırın : ",dialog_title:"%{assignment.name} varsayılan notu",overwrite:"Önceden girilmiş notların üzerine yaz",set_grades_button:"Var Sayılan Notu Ayarla",set_grades_button_loading:"Notlar Ayarlanıyor..."}},zh:{set_default_grade_dialog:{default_grades:"通过输入并提交下面的评分值为所有学生给出相同的 *%{assignment.name}* 评分:",dialog_title:"%{assignment.name} 的默认评分",overwrite:"覆盖已输入的评分",set_grades_button:"设置默认评分",set_grades_button_loading:"正在设置评分..."}},zh_Hant:{set_default_grade_dialog:{default_grades:"透過输入并提交如下成績值给所有学生的*%{assignment.name}*相同的成績：",dialog_title:"%{assignment.name} 的預設成績",overwrite:"覆蓋已經輸入的成績",set_grades_button:"說定預設成績",set_grades_button_loading:"正在 成績..."}}}})}),define("jst/SetDefaultGradeDialog",["compiled/handlebars_helpers","i18n!set_default_grade_dialog","jst/_grading_box"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.SetDefaultGradeDialog=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=this.merge(o,e.partials),i=i||{};var s,r,a,l="",u="function",d=this.escapeExpression,c=n.helperMissing,g=this;return l+='<form action="',(r=n.url)?s=r.call(t,{hash:{},data:i}):(r=t&&t.url,s=typeof r===u?r.call(t,{hash:{},data:i}):r),l+=d(s)+'" method="POST" title="',r=n.t||t&&t.t,a={hash:{scope:"set_default_grade_dialog"},data:i},s=r?r.call(t,"dialog_title","Default grade for %{assignment.name}",a):c.call(t,"t","dialog_title","Default grade for %{assignment.name}",a),(s||0===s)&&(l+=s),l+='">\n  <input type="hidden" name="assignment_id" class="assignment_id" value="'+d((s=t&&t.assignment,s=null==s||s===!1?s:s.id,typeof s===u?s.apply(t):s))+'"/>\n  <div>\n    ',r=n.t||t&&t.t,a={hash:{scope:"set_default_grade_dialog",w0:"<b>$1</b>"},data:i},s=r?r.call(t,"default_grades","Give all students the same grade for *%{assignment.name}* by entering and submitting a grade value below:",a):c.call(t,"t","default_grades","Give all students the same grade for *%{assignment.name}* by entering and submitting a grade value below:",a),(s||0===s)&&(l+=s),l+='\n  </div>\n  <p style="text-align: center;" class="grading_box_holder">\n    ',s=g.invokePartial(o.grading_box,"grading_box",t,n,o,i),(s||0===s)&&(l+=s),l+='\n  </p>\n  <div>\n    <input type="checkbox" name="overwrite_existing_grades" id="overwrite_existing_grades_for_'+d((s=t&&t.assignment,s=null==s||s===!1?s:s.id,typeof s===u?s.apply(t):s))+'"/>\n    <label for="overwrite_existing_grades_for_'+d((s=t&&t.assignment,s=null==s||s===!1?s:s.id,typeof s===u?s.apply(t):s))+'">',r=n.t||t&&t.t,a={hash:{scope:"set_default_grade_dialog"},data:i},s=r?r.call(t,"overwrite","Overwrite already-entered grades",a):c.call(t,"t","overwrite","Overwrite already-entered grades",a),(s||0===s)&&(l+=s),l+='</label>\n  </div>\n  <button type="submit" class="btn" data-text-while-loading="',r=n.t||t&&t.t,a={hash:{scope:"set_default_grade_dialog"},data:i},s=r?r.call(t,"set_grades_button_loading","Setting Grades...",a):c.call(t,"t","set_grades_button_loading","Setting Grades...",a),(s||0===s)&&(l+=s),l+='">',r=n.t||t&&t.t,a={hash:{scope:"set_default_grade_dialog"},data:i},s=r?r.call(t,"set_grades_button","Set Default Grade",a):c.call(t,"t","set_grades_button","Set Default Grade",a),(s||0===s)&&(l+=s),l+="</button>\n</form>\n"
}),n.SetDefaultGradeDialog}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=[].slice;define("compiled/gradebook2/SetDefaultGradeDialog",["i18n!gradebook2","jquery","jst/SetDefaultGradeDialog","underscore","jquery.disableWhileLoading","jquery.instructure_forms","jqueryui/dialog","jquery.instructure_misc_plugins","vendor/jquery.ba-tinypubsub","compiled/jquery/fixDialogButtons","jst/_grading_box"],function(n,o,i,s){var r,a;return r=50,a=function(){function a(t){this.assignment=t.assignment,this.students=t.students,this.context_id=t.context_id,this.selected_section=t.selected_section,this.initDialog=e(this.initDialog,this),this.initDialog()}return a.prototype.initDialog=function(){var e,a,l,u,d,c=this;return d={assignment:this.assignment,showPointsPossible:(this.assignment.points_possible||"0"===this.assignment.points_possible)&&"gpa_scale"!==this.assignment.grading_type,url:"/courses/"+this.context_id+"/gradebook/update_submission",inputName:"default_grade"},d["assignment_grading_type_is_"+this.assignment.grading_type]=!0,this.$dialog=o(i(d)),this.$dialog.dialog({resizable:!1,width:350,open:function(){return c.$dialog.find(".grading_box").focus()},close:function(){return c.$dialog.remove()}}).fixDialogButtons(),e=this.$dialog,e.submit(function(i){var d,g,h,m,p;return i.preventDefault(),p=o.Deferred(),e.disableWhileLoading(p),d=e.getFormData(),m=l(),g=function(){var e;for(e=[];m.length;)e.push(m.splice(0,r));return e}(),h=g.map(function(t){var n,i;return i=a(t,d.default_grade),n=s.extend({},i,{dont_overwrite_grades:!d.overwrite_existing_grades}),o.ajaxJSON(e.attr("action"),"POST",n)}),o.when.apply(o,h).then(function(){var e,i;return e=1<=arguments.length?t.call(arguments,0):[],1===h.length&&(e=[e]),i=u(e),o.publish("submissions_updated",[i]),alert(n.t("alerts.scores_updated",{one:"1 Student score updated",other:"%{count} Student scores updated"},{count:i.length})),p.resolve(),c.$dialog.remove()})}),l=function(){return c.selected_section?s(c.students).filter(function(e){return s.include(e.sections,c.selected_section)}):s(c.students).values()},a=function(e,t){return s.chain(e).map(function(e){var n;return n="submissions[submission_"+e.id+"]",[[""+n+"[assignment_id]",c.assignment.id],[""+n+"[user_id]",e.id],[""+n+"[grade]",t]]}).flatten(!0).object().value()},u=function(e){return s.chain(e).map(function(e){var t,n,o;return t=e[0],o=e[1],[function(){var e,o,i;for(i=[],e=0,o=t.length;o>e;e++)n=t[e],i.push(n.submission);return i}()]}).flatten().value()}},a}()})}.call(this),define("translations/curve_grades_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{curve_grades_dialog:{average_score:"متوسط الدرجات",buttons:{curve_grades:"منحنى الدرجات",curving_grades:"منحنى الدرجات..."},curve_average:"أدخل متوسط الدرجات الخاص بمنحنى *%{assignment.name}*. يوضح المخطط أفضل محاولة لمنحنى الدرجات وفقًا لدرجات الطالب الحالية.",curve_grade_for_assignment:"منحنى الدرجات الخاص بـ %{assignment.name}",labels:{assign_blanks:"تخصيص الأصفار للطلاب الذين لم يتم إرسالهم"},out_of_points_possible:"من %{assignment.points_possible}",this_is_permanent:"لا يمكن التراجع عن إنشاء منحنى للدرجات. ستتوفر محفزظات الدرجة التي تم إنشاء منحنى لها مسبقًا، إلا أنه لا يمكن التراجع عن إجراء إنشاء منحنى."}},de:{curve_grades_dialog:{average_score:"Punktedurchschnitt",buttons:{curve_grades:"Noten anpassen",curving_grades:"Noten werden angepasst..."},curve_average:"Geben Sie die Durchschnittsnote für die Anpassung von *%{assignment.name}* ein. Die Grafik zeigt den besten Versuch der Anpassung auf der Basis der aktuellen Punktzahlen der Studenten.",curve_grade_for_assignment:"Noten für %{assignment.name} anpassen",labels:{assign_blanks:"Studenten ohne Einsendungen Ausfälle zuweisen"},out_of_points_possible:"von insgesamt %{assignment.points_possible}",this_is_permanent:"Anpassung von Noten kann nicht rückgängig gemacht werden. Die Verläufe zuvor angepasster Noten sind verfügbar, der Anpassungsvorgang kann jedoch nicht rückgängig gemacht werden."}},"en-AU":{curve_grades_dialog:{average_score:"Average Score",buttons:{curve_grades:"Curve Grades",curving_grades:"Curving Grades..."},curve_average:"Enter an average grade for the curve for *%{assignment.name}*. The chart shows a best attempt at curving the grades based on current student scores.",curve_grade_for_assignment:"Curve Grade for %{assignment.name}",labels:{assign_blanks:"Assign zeroes to unsubmitted students"},out_of_points_possible:"out of %{assignment.points_possible}",this_is_permanent:"Grade curving cannot be undone. Pre-curved grade histories will be available, but the curving action is irreversible."}},"en-GB":{curve_grades_dialog:{average_score:"Average score",buttons:{curve_grades:"Curve grades",curving_grades:"Curving grades..."},curve_average:"Enter an average grade for the curve for *%{assignment.name}*. The chart shows a best attempt at curving the grades based on current student scores.",curve_grade_for_assignment:"Curve grade for %{assignment.name}",labels:{assign_blanks:"Assign zeroes to unsubmitted students"},out_of_points_possible:"out of %{assignment.points_possible}",this_is_permanent:"Grade curving cannot be undone. Pre-curved grade histories will be available, but the curving action is irreversible."}},es:{curve_grades_dialog:{average_score:"Calificación Promedio",buttons:{curve_grades:"Aplicar Curva a Calificaciones",curving_grades:"Aplicando Curva a las Calificaciones..."},curve_average:"Ingrese una calificación promedio para *%{assignment.name}*. El cuadro muestra el mejor intento en aplicar la curva a las calificaciones basado en las calificaciones actuales.",curve_grade_for_assignment:"Aplique Curva para %{assignment.name}",labels:{assign_blanks:"Asignar cero a estudiantes que no han hecho envíos"},out_of_points_possible:"de %{assignment.points_possible}",this_is_permanent:"No se puede deshacer la aplicación de la curva a las calificaciones. Se proporcionarán los historiales de calificación previos a la curva, pero la aplicación de la curva es irreversible."}},"fa-IR":{curve_grades_dialog:{average_score:"میانگین نمره",buttons:{curve_grades:"روی منحنی بردن نمره ها",curving_grades:"در حال روی منحنی بردن نمره ها..."},curve_average:"یک میانگین نمره را برای منحنی مربوط به *%{assignment.name}* وارد کنید. نمودار بهترین اقدام را برای روی منحنی بردن نمره ها بر اساس نمره های فعلی دانشجو نشان می دهد.",curve_grade_for_assignment:"روی منحنی بردن نمره برای %{assignment.name}",labels:{assign_blanks:"تخصیص صفر به دانشجویانی که ارسال نکرده اند"},out_of_points_possible:"از %{assignment.points_possible}",this_is_permanent:"روی منحنی بردن نمره را نمی توان لغو کرد. تاریخچه نمره از پیش روی منحنی برده شده موجود خواهد بود، اما اقدام روی منحنی بردن غیر قابل برگشت است."}},fr:{curve_grades_dialog:{average_score:"Note moyenne",buttons:{curve_grades:"Courbe des notes",curving_grades:"Création de la courbe..."},curve_average:"Entrez une note moyenne pour la courbe pour *%{assignment.name}*. Le graphique affiche sa meilleure proposition de normalisation des notes en fonction des notes actuelles des étudiants.",curve_grade_for_assignment:"Courbe des notes pour %{assignment.name}",labels:{assign_blanks:"Attribuer un zéro aux tâches non envoyées"},out_of_points_possible:"sur %{assignment.points_possible}",this_is_permanent:"La courbe de notation ne peut pas être annulée. Les historiques restent disponibles, mais l’action relative à la courbe est irréversible."}},ja:{curve_grades_dialog:{average_score:"平均スコア",buttons:{curve_grades:"分布曲線に基づいた評価",curving_grades:"分布曲線に基づいて評価..."},curve_average:"*%{assignment.name}* の分布曲線について、平均の成績を入力します。グラフに、受講生の現在のスコアに基づいた採点の最適な試みが示されます。",curve_grade_for_assignment:"%{assignment.name} についての分布曲線評価",labels:{assign_blanks:"未提出の受講生にゼロを割り当てる"},out_of_points_possible:"配点: %{assignment.points_possible}",this_is_permanent:"分布曲線評価は取り消しできません。分布曲線評価を行う前の成績の履歴は利用できますが、分布曲線評価の処理は取り消すことができません。"}},nb:{curve_grades_dialog:{average_score:"Gjennomsnittlig resultat",buttons:{curve_grades:"Korriger karakterer",curving_grades:"Korrigerer karakterer…"},curve_average:"Skriv inn en gjennomsnittskarakter for korrigeringen til *%{assignment.name}*. Oversikten viser det beste forsøket på å korrigere karakterene basert på resultatene til de nåværende studentene.",curve_grade_for_assignment:"Korriger karakterer i %{assignment.name}",labels:{assign_blanks:"Gi nullkarakter til studenter som ikke har levert"},out_of_points_possible:"av %{assignment.points_possible}",this_is_permanent:"Korrigerte karakterer kan ikke gjøres om. Informasjon om karakterer før korrigeringen vil være tilgjengelig, men korrigeringen er ikke reversibel."}},nl:{curve_grades_dialog:{average_score:"Gemiddelde score",buttons:{curve_grades:"Cijfers bijstellen",curving_grades:"Bezig met bijstellen van cijfers..."},curve_average:"Een gemiddeld cijfer invoeren voor de verdeling voor *%{assignment.name}*. De grafiek toont een beste poging voor het bijstellen van de cijfers op basis van de huidige scores van cursisten.",curve_grade_for_assignment:"Cijfers bijstellen voor %{assignment.name}",labels:{assign_blanks:"Nullen toewijzen aan cursisten die geen opdracht ingeleverd hebben"},out_of_points_possible:"vanuit %{assignment.points_possible}",this_is_permanent:"Gewijzigde cijferverdeling kan niet ongedaan gemaakt worden. De cijfers van vóór de cijferverdeling zijn nog wel beschikbaar, maar de gewijzigde verdeling kan niet teruggedraaid worden."}},pl:{curve_grades_dialog:{average_score:"Średni wynik punktowy",buttons:{curve_grades:"Krzywa ocen",curving_grades:"Trwa wyznaczanie krzywej ocen..."},curve_average:"Wprowadź średnią ocenę dla krzywej dla zadania *%{assignment.name}*. Wykres przedstawia możliwie najlepiej wyznaczoną krzywą ocen na podstawie bieżących wyników uczestników.",curve_grade_for_assignment:"Wyznacz krzywą dla %{assignment.name}",labels:{assign_blanks:"Przydziel wartości zerowe studentom bez zadania"},out_of_points_possible:"na %{assignment.points_possible} możliwych",this_is_permanent:"Wyznaczania krzywej ocen nie można cofnąć. Wstępne krzywe ocen będą dostępne, jednak czynność wyznaczania krzywych jest nieodwracalna."}},pt:{curve_grades_dialog:{average_score:"Pontuação média",buttons:{curve_grades:"Relativizar as notas de acordo com a curva",curving_grades:"Relativizando as notas..."},curve_average:"Insira uma nota média para a curva de distribuição de *%{assignment.name}*. O gráfico mostra a melhor tentativa de distribuir relativamente as notas baseado na curva de pontos atual dos alunos.",curve_grade_for_assignment:"Relativizar as notas de acordo com a curva para %{assignment.name}",labels:{assign_blanks:"Atribuir zero aos alunos que não enviaram"},out_of_points_possible:"de %{assignment.points_possible}",this_is_permanent:"A atribuição de notas em curva não pode ser anulada. Os históricos de notas pré-curva estarão disponíveis, mas a ação de curva é irreversível."}},"pt-BR":{curve_grades_dialog:{average_score:"Pontuação média",buttons:{curve_grades:"Relativizar as notas de acordo com a curva",curving_grades:"Relativizando as notas..."},curve_average:"Insira uma nota média para a curva de distribuição de *%{assignment.name}*. O gráfico mostra a melhor tentativa de distribuir relativamente as notas baseado na curva de pontos atual dos alunos.",curve_grade_for_assignment:"Relativizar as notas de acordo com a curva para %{assignment.name}",labels:{assign_blanks:"Atribuir zero aos alunos que não enviaram"},out_of_points_possible:"de %{assignment.points_possible}",this_is_permanent:"Uma relativização de notas não pode ser desfeita. Históricos de notas relativizadas estarão disponíveis, mas a ação de relativização de notas é irreversível."}},ru:{curve_grades_dialog:{average_score:"Средний балл",buttons:{curve_grades:"Создание кривой оценок",curving_grades:"Создание кривой оценок..."},curve_average:"Введите среднюю оценку для кривой для *%{assignment.name}*. На рисунке отображается лучшая попытка на кривой оценок на основе текущих оценок студента.",curve_grade_for_assignment:"Кривая оценок для %{assignment.name}",labels:{assign_blanks:"Назначение нулей студентам, не отправившим задания"},out_of_points_possible:"из %{assignment.points_possible}",this_is_permanent:"Ранжирование оценок не может быть отменено. История оценок до ранжирования будет доступна, но ранжирование необратимо."}},tr:{curve_grades_dialog:{average_score:"Ortalama Puan",buttons:{curve_grades:"Çan Eğrisi Notları",curving_grades:"Notları Çan Eğrisine Ayarlıyor"},curve_average:"*%{assignment.name}* çan eğrisi için ortalama bir not girin. Tabloda mevcut öğrenci puanlarına göre notları çan eğrisine uyarlamada en iyi deneme görünüyor.",curve_grade_for_assignment:"%{assignment.name} için Çan Eğrisi Notu",labels:{assign_blanks:"Ödev göndermeyen öğrencilere sıfır ver"},out_of_points_possible:"%{assignment.points_possible} üzerinden",this_is_permanent:"Not çan eğrisi oluşturma geri alınamaz. Önceden çan eğrisi oluşturulmuş notların geçmişi kullanılabilir fakat çan eğrisi oluşturma geri alınamaz."}},zh:{curve_grades_dialog:{average_score:"平均分数",buttons:{curve_grades:"曲线评分",curving_grades:"正在计算曲线评分..."},curve_average:"输入 *%{assignment.name}* 的曲线平均评分。图表显示根据当前学生分数计算曲线评分的最佳方法。",curve_grade_for_assignment:"%{assignment.name} 的曲线评分",labels:{assign_blanks:"对未提交的学生分配零"},out_of_points_possible:"满分 %{assignment.points_possible} 分",this_is_permanent:"曲线评分无法撤消。将提供预先进行曲线计算的评分历史记录，但曲线计算操作不可逆。"}},zh_Hant:{curve_grades_dialog:{average_score:"平均分數",buttons:{curve_grades:"繪製成績曲線",curving_grades:"正在繪製成績曲線…"},curve_average:"輸入 *%{assignment.name}* 曲線的平均成績。下圖顯示了基於當前學生分數繪製成績曲線的最佳嘗試。",curve_grade_for_assignment:"繪製 %{assignment.name} 的成績曲線",labels:{assign_blanks:"將零分配至未提交的學生"},out_of_points_possible:"超出 %{assignment.points_possible}",this_is_permanent:"成績曲線繪製無法取消。先前繪製的曲線成績歷史可用，但繪製曲線的操作無法復原。"}}}})}),define("jst/CurveGradesDialog",["compiled/handlebars_helpers","i18n!curve_grades_dialog"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.CurveGradesDialog=t(function(e,t,n,o,i){function s(e,t){var o,i,s,r="";return r+="\n      ",i=n.t||e&&e.t,s={hash:{scope:"curve_grades_dialog"},data:t},o=i?i.call(e,"out_of_points_possible","out of %{assignment.points_possible}",s):d.call(e,"t","out_of_points_possible","out of %{assignment.points_possible}",s),(o||0===o)&&(r+=o),r+="\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var r,a,l,u="",d=n.helperMissing,c="function",g=this.escapeExpression,h=this;return u+='<form action="',(a=n.action)?r=a.call(t,{hash:{},data:i}):(a=t&&t.action,r=typeof a===c?a.call(t,{hash:{},data:i}):a),u+=g(r)+'" id="curve_grade_dialog" style="display: none;" title="',a=n.t||t&&t.t,l={hash:{scope:"curve_grades_dialog"},data:i},r=a?a.call(t,"curve_grade_for_assignment","Curve Grade for %{assignment.name}",l):d.call(t,"t","curve_grade_for_assignment","Curve Grade for %{assignment.name}",l),(r||0===r)&&(u+=r),u+='">\n  <input type="hidden" name="_method" value="POST"/>\n  <input type="hidden" name="assignment_id" class="assignment_id" value="'+g((r=t&&t.assignment,r=null==r||r===!1?r:r.id,typeof r===c?r.apply(t):r))+'" />\n  <p>\n    ',a=n.t||t&&t.t,l={hash:{scope:"curve_grades_dialog",w0:"<b>$1</b>"},data:i},r=a?a.call(t,"curve_average","Enter an average grade for the curve for *%{assignment.name}*. The chart shows a best attempt at curving the grades based on current student scores.",l):d.call(t,"t","curve_average","Enter an average grade for the curve for *%{assignment.name}*. The chart shows a best attempt at curving the grades based on current student scores.",l),(r||0===r)&&(u+=r),u+='\n  </p>\n  <div style="min-height: 100px;">\n    <table cellpadding="0" cellspacing="0">\n      <tr id="results_list"></tr>\n      <tr id="results_values"></tr>\n    </table>\n  </div>\n  <p style="text-align: center;">\n    ',a=n.t||t&&t.t,l={hash:{scope:"curve_grades_dialog"},data:i},r=a?a.call(t,"average_score","Average Score",l):d.call(t,"t","average_score","Average Score",l),(r||0===r)&&(u+=r),u+='\n    <input type="number" min="0" name="middle_score" id="middle_score" style="width: 45px;" value="',(a=n.middleScore)?r=a.call(t,{hash:{},data:i}):(a=t&&t.middleScore,r=typeof a===c?a.call(t,{hash:{},data:i}):a),u+=g(r)+'"/>\n    ',r=n["if"].call(t,t&&t.showOutOf,{hash:{},inverse:h.noop,fn:h.program(1,s,i),data:i}),(r||0===r)&&(u+=r),u+="\n  </p>\n  <p>\n    "+g((a=n.checkbox||t&&t.checkbox,l={hash:{},data:i},a?a.call(t,"assign_blanks",l):d.call(t,"checkbox","assign_blanks",l)))+'\n    <label for="assign_blanks">',a=n.t||t&&t.t,l={hash:{scope:"curve_grades_dialog"},data:i},r=a?a.call(t,"labels.assign_blanks","Assign zeroes to unsubmitted students",l):d.call(t,"t","labels.assign_blanks","Assign zeroes to unsubmitted students",l),(r||0===r)&&(u+=r),u+='</label>\n  </p>\n  <div class="alert alert-danger">\n    <p>\n      ',a=n.t||t&&t.t,l={hash:{scope:"curve_grades_dialog"},data:i},r=a?a.call(t,"this_is_permanent","Grade curving cannot be undone. Pre-curved grade histories will be available, but the curving action is irreversible.",l):d.call(t,"t","this_is_permanent","Grade curving cannot be undone. Pre-curved grade histories will be available, but the curving action is irreversible.",l),(r||0===r)&&(u+=r),u+='\n    </p>\n  </div>\n  <button data-text-while-loading="',a=n.t||t&&t.t,l={hash:{scope:"curve_grades_dialog"},data:i},r=a?a.call(t,"buttons.curving_grades","Curving Grades...",l):d.call(t,"t","buttons.curving_grades","Curving Grades...",l),(r||0===r)&&(u+=r),u+='" type="submit" class="btn btn-primary">\n    ',a=n.t||t&&t.t,l={hash:{scope:"curve_grades_dialog"},data:i},r=a?a.call(t,"buttons.curve_grades","Curve Grades",l):d.call(t,"t","buttons.curve_grades","Curve Grades",l),(r||0===r)&&(u+=r),u+="\n  </button>\n</form>\n"}),n.CurveGradesDialog}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/gradebook2/CurveGradesDialog",["i18n!gradebook2","jquery","jst/CurveGradesDialog","jquery.disableWhileLoading","jquery.instructure_forms","jqueryui/dialog","jquery.instructure_misc_plugins","compiled/jquery/fixDialogButtons","vendor/jquery.ba-tinypubsub"],function(t,n,o){var i;return i=function(){function i(i){var s,r,a=this;this.assignment=i.assignment,this.students=i.students,s=i.context_url,this.curve=e(this.curve,this),r={assignment:this.assignment,action:""+s+"/gradebook/update_submission",middleScore:parseInt(.6*(this.assignment.points_possible||0)),showOutOf:this.assignment.points_possible>=0},this.$dialog=n(o(r)),this.$dialog.formSubmit({disableWhileLoading:!0,processData:function(e){var n,o,i,s,r,l;if(!a.assignment.points_possible||"0"===a.assignment.points_possible)return i=a.$dialog.errorBox(t.t("errors.no_points_possible","Cannot curve without points possible")),setTimeout(function(){return i.fadeOut(function(){return i.remove()})},3500),!1;n=0,o=a.curve();for(s in o)l="submissions[submission_"+s+"]",e[l+"[assignment_id]"]=e.assignment_id,e[l+"[user_id]"]=s,"gpa_scale"===a.assignment.grading_type?(r=o[s]/a.assignment.points_possible*100,e[l+"[grade]"]=""+r+"%"):e[l+"[grade]"]=o[s],n++;return 0===n?(i=a.$dialog.errorBox(t.t("errors.none_to_update","None to Update")),setTimeout(function(){return i.fadeOut(function(){return i.remove()})},3500),!1):e},success:function(e){var o,i;return a.$dialog.dialog("close"),i=function(){var t,n,i;for(i=[],t=0,n=e.length;n>t;t++)o=e[t],i.push(o.submission);return i}(),n.publish("submissions_updated",[i]),alert(t.t("alerts.scores_updated",{one:"1 Student score updated",other:"%{count} Student scores updated"},{count:e.length}))}}).dialog({width:350,modal:!0,resizable:!1,open:this.curve,close:function(){return a.$dialog.remove()}}).fixDialogButtons(),this.$dialog.find("#middle_score").bind("blur change keyup focus",this.curve),this.$dialog.find("#assign_blanks").change(this.curve)}return i.prototype.curve=function(){var e,t,o,i,s,r,a,l,u,d,c,g,h,m,p,_,f,v,b,y,w,k,C,x,S,z,M,T,A,E;if(c=0,v={},a=this.$dialog.getFormData(),z=[],f=0,m=parseInt(n("#middle_score").val(),10),m/=this.assignment.points_possible,b=n("#assign_blanks").prop("checked"),!isNaN(m)){E=this.students;for(c in E)w=E[c],k=w["assignment_"+this.assignment.id],_=null!=k?k.score:void 0,_>this.assignment.points_possible&&(_=this.assignment.points_possible),(0>_||null==_&&b)&&(_=0),z[parseInt(_,10)]=z[parseInt(_,10)]||[],z[parseInt(_,10)].push([c,_||0]),f++;for(o=[.006,.012,.028,.04,.068,.106,.159,.227,.309,.401,.5,.599,.691,.773,.841,.894,.933,.96,.977,.988,1],g=(1-m)/Math.floor(o.length/2),t=[],e=[],c=0;c<o.length;)e.push(1-g*c),t.push(Math.round((1-g*c)*this.assignment.points_possible)),c++;for(C=0,u={},r=0,n("#results_list").empty(),n("#results_values").empty(),d=[],c=z.length-1;c>=0;){for(S=z[c]||[],_=Math.round(t[r]),T=0,A=S.length;A>T;T++)x=S[T],u[x[0]]=_,0===x[1]&&(u[x[0]]=0),l=u[x[0]],d[l]=d[l]||[],d[l].push(x[0]);for(C+=S.length;C>o[r]*f;)r++;c--}for(h=0,c=d.length-1;c>=0;)i=(d[c]||[]).length,i>h&&(h=i),c--;for(M=15,y=0,c=d.length-1;c>=0;)S=d[c],p=0,i=0,S||y>this.assignment.points_possible/10?(S&&(p=S.length/h,i=S.length),s=0===c?"#a03536":"#007ab8",n("#results_list").prepend("<td style='padding: 1px;'><div title='"+i+" student"+(1===i?"":"s")+" will get "+c+" points' style='border: 1px solid #888; background-color: "+s+"; width: "+M+"px; height: "+100*p+"px; margin-top: "+100*(1-p)+"px;'>&nbsp;</div></td>"),n("#results_values").prepend("<td style='text-align: center;'>"+c+"</td>"),y=0):y++,c--;return n("#results_list").prepend("<td><div style='height: 100px; position: relative; width: 30px; font-size: 0.8em;'><img src='/images/number_of_students.png' alt='# of students'/><div style='position: absolute; top: 0; right: 3px;'>"+h+"</div><div style='position: absolute; bottom: 0; right: 3px;'>0</div></div></td>"),n("#results_values").prepend("<td>&nbsp;</td>"),u}},i}()})}.call(this),define("translations/gradebook2.gradebook_header_menu",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{gradebook_header_menu:{assignment_details:"تفاصيل المهمة",curve_grades:"منحنى الدرجات",download_submissions:"تنزيل الإرسالات",message_students_who:"رسائل الطلاب الذين...",re_upload_submissions:"إعادة تحميل الإرسالات",set_default_grade:"ضبط الدرجة الافتراضية",speedgrader:"SpeedGrader"}}},de:{gradebook2:{gradebook_header_menu:{assignment_details:"Aufgabendetails",curve_grades:"Noten anpassen",download_submissions:"Einsendungen herunterladen",message_students_who:"Studenten benachrichtigen, auf die Folgendes zutrifft...",re_upload_submissions:"Einsendungen erneut hochladen",set_default_grade:"Standardnote festlegen",speedgrader:"SpeedGrader"}}},"en-AU":{gradebook2:{gradebook_header_menu:{assignment_details:"Assignment Details",curve_grades:"Curve Grades",download_submissions:"Download Submissions",message_students_who:"Message Students Who...",re_upload_submissions:"Re-Upload Submissions",set_default_grade:"Set Default Grade",speedgrader:"SpeedGrader"}}},"en-GB":{gradebook2:{gradebook_header_menu:{assignment_details:"Assignment details",curve_grades:"Curve grades",download_submissions:"Download submissions",message_students_who:"Message students who...",re_upload_submissions:"Reupload submissions",set_default_grade:"Set default grade",speedgrader:"SpeedGrader"}}},es:{gradebook2:{gradebook_header_menu:{assignment_details:"Detalles de la Tarea",curve_grades:"Aplicar Curva a Calificaciones",download_submissions:"Descargar Envios",message_students_who:"Enviar un Mensaje a Estudiantes que...",re_upload_submissions:"Re-Cargar Envios",set_default_grade:"Establecer Calificación Predeterminada",speedgrader:"Calificador Rápido"}}},"fa-IR":{gradebook2:{gradebook_header_menu:{assignment_details:"اطلاعات تکلیف",curve_grades:"روی منحنی بردن نمره ها",download_submissions:"بارگیری موردهای ارسالی",message_students_who:"ارسال پیام برای دانشجویانی که...",re_upload_submissions:" بارگذاری دوباره موردهای ارسالی",set_default_grade:"تعیین نمره پیش فرض",speedgrader:"برنامه نمره گذاری سریع"}}},fr:{gradebook2:{gradebook_header_menu:{assignment_details:"Informations sur la tâche",curve_grades:"Courbe des notes",download_submissions:"Télécharger les envois",message_students_who:"Envoyer un message aux étudiants qui...",re_upload_submissions:"Retélécharger les envois",set_default_grade:"Définir la note par défaut",speedgrader:"SpeedGrader™"}}},ja:{gradebook2:{gradebook_header_menu:{assignment_details:"課題の詳細",curve_grades:"分布曲線に基づいた評価",download_submissions:"提出物のダウンロード",message_students_who:"次の状態の受講生にメッセージを送る...",re_upload_submissions:"提出物の再アップロード",set_default_grade:"既定の成績の設定",speedgrader:"SpeedGrader"}}},nb:{gradebook2:{gradebook_header_menu:{assignment_details:"Oppgavedetaljer",curve_grades:"Korriger karakterer",download_submissions:"Last ned innleveringer",message_students_who:"Send beskjed til studenter som...",re_upload_submissions:"Last opp innleveringer på nytt",set_default_grade:"Sett standardkarakter",speedgrader:"SpeedGrader"}}},nl:{gradebook2:{gradebook_header_menu:{assignment_details:"Details van opdrachten",curve_grades:"Cijfers bijstellen",download_submissions:"Inzendingen downloaden",message_students_who:"Bericht naar cursisten sturen die...",re_upload_submissions:"Inzendingen opnieuw uploaden",set_default_grade:"Standaardcijfer instellen",speedgrader:"SpeedGrader"}}},pl:{gradebook2:{gradebook_header_menu:{assignment_details:"Szczegółowe informacje dot. zadania",curve_grades:"Krzywa ocen",download_submissions:"Pobierz przesłane zadania",message_students_who:"Wyślij wiadomość do uczestników, którzy...",re_upload_submissions:"Ponownie przekaż zadania",set_default_grade:"Ustaw ocenę domyślną",speedgrader:"SpeedGrader"}}},pt:{gradebook2:{gradebook_header_menu:{assignment_details:"Detalhes da tarefa",curve_grades:"Relativizar as notas de acordo com a curva",download_submissions:"Baixar envios",message_students_who:"Enviar mensagem aos alunos que...",re_upload_submissions:"Fazer novamente o upload dos envios",set_default_grade:"Definir nota padrão",speedgrader:"SpeedGrader"}}},"pt-BR":{gradebook2:{gradebook_header_menu:{assignment_details:"Detalhes da tarefa",curve_grades:"Relativizar as notas de acordo com a curva",download_submissions:"Baixar envios",message_students_who:"Enviar mensagem aos alunos que...",re_upload_submissions:"Fazer novamente o upload dos envios",set_default_grade:"Definir nota padrão",speedgrader:"SpeedGrader"}}},ru:{gradebook2:{gradebook_header_menu:{assignment_details:"Сведения о задании",curve_grades:"Создание кривой оценок",download_submissions:"Загрузить отправки",message_students_who:"Отправить сообщения студентов, которые...",re_upload_submissions:"Повторно загрузить отправки",set_default_grade:"Установить оценку по умолчанию",speedgrader:"SpeedGrader"}}},tr:{gradebook2:{gradebook_header_menu:{assignment_details:"Ödev Ayrıntıları",curve_grades:"Çan Eğrisi Notları",download_submissions:"Gönderileri İndir",message_students_who:"... Yapan Öğrencileri Göster",re_upload_submissions:"Gönderileri Yeniden Yükle",set_default_grade:"Var Sayılan Notu Ayarla",speedgrader:"SpeedGrader"}}},zh:{gradebook2:{gradebook_header_menu:{assignment_details:"作业详细信息",curve_grades:"曲线评分",download_submissions:"下载提交文件",message_students_who:"给相关学生发送信息",re_upload_submissions:"重新上传提交文件",set_default_grade:"设置默认评分",speedgrader:"快速评分器"}}},zh_Hant:{gradebook2:{gradebook_header_menu:{assignment_details:"任務詳細資料",curve_grades:"繪製成績曲線",download_submissions:"下載提交件",message_students_who:"通知學生們，這些學生們…",re_upload_submissions:"重新上傳提交件",set_default_grade:"說定預設成績",speedgrader:"SpeedGrader"}}}}})}),define("jst/gradebook2/GradebookHeaderMenu",["compiled/handlebars_helpers","i18n!gradebook2.gradebook_header_menu"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/GradebookHeaderMenu"]=t(function(e,t,n,o,i){function s(e,t){var o,i,s,r="";return r+='\n    <li><a href="',(i=n.speedGraderUrl)?o=i.call(e,{hash:{},data:t}):(i=e&&e.speedGraderUrl,o=typeof i===d?i.call(e,{hash:{},data:t}):i),r+=c(o)+'">',i=n.t||e&&e.t,s={hash:{scope:"gradebook2.gradebook_header_menu"},data:t},o=i?i.call(e,"speedgrader","SpeedGrader",s):g.call(e,"t","speedgrader","SpeedGrader",s),(o||0===o)&&(r+=o),r+="</a></li>\n  "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var r,a,l,u="",d="function",c=this.escapeExpression,g=n.helperMissing,h=this;return u+='<ul class="gradebook-header-menu">\n  <li><a data-action="showAssignmentDetails" href="',(a=n.assignmentUrl)?r=a.call(t,{hash:{},data:i}):(a=t&&t.assignmentUrl,r=typeof a===d?a.call(t,{hash:{},data:i}):a),u+=c(r)+'">',a=n.t||t&&t.t,l={hash:{scope:"gradebook2.gradebook_header_menu"},data:i},r=a?a.call(t,"assignment_details","Assignment Details",l):g.call(t,"t","assignment_details","Assignment Details",l),(r||0===r)&&(u+=r),u+="</a></li>\n  ",r=n["if"].call(t,t&&t.speedGraderUrl,{hash:{},inverse:h.noop,fn:h.program(1,s,i),data:i}),(r||0===r)&&(u+=r),u+='\n  <li><a data-action="messageStudentsWho" href="#">',a=n.t||t&&t.t,l={hash:{scope:"gradebook2.gradebook_header_menu"},data:i},r=a?a.call(t,"message_students_who","Message Students Who...",l):g.call(t,"t","message_students_who","Message Students Who...",l),(r||0===r)&&(u+=r),u+='</a></li>\n  <li><a data-action="setDefaultGrade" href="#">',a=n.t||t&&t.t,l={hash:{scope:"gradebook2.gradebook_header_menu"},data:i},r=a?a.call(t,"set_default_grade","Set Default Grade",l):g.call(t,"t","set_default_grade","Set Default Grade",l),(r||0===r)&&(u+=r),u+='</a></li>\n  <li><a data-action="curveGrades" href="#">',a=n.t||t&&t.t,l={hash:{scope:"gradebook2.gradebook_header_menu"},data:i},r=a?a.call(t,"curve_grades","Curve Grades",l):g.call(t,"t","curve_grades","Curve Grades",l),(r||0===r)&&(u+=r),u+='</a></li>\n  <li><a data-action="downloadSubmissions" href="#">',a=n.t||t&&t.t,l={hash:{scope:"gradebook2.gradebook_header_menu"},data:i},r=a?a.call(t,"download_submissions","Download Submissions",l):g.call(t,"t","download_submissions","Download Submissions",l),(r||0===r)&&(u+=r),u+='</a></li>\n  <li><a data-action="reuploadSubmissions" href="#">',a=n.t||t&&t.t,l={hash:{scope:"gradebook2.gradebook_header_menu"},data:i},r=a?a.call(t,"re_upload_submissions","Re-Upload Submissions",l):g.call(t,"t","re_upload_submissions","Re-Upload Submissions",l),(r||0===r)&&(u+=r),u+='</a></li>\n  <li><a data-action="toggleMuting" href="#"></a></li>\n</ul>\n'}),n["gradebook2/GradebookHeaderMenu"]}),define("translations/re_upload_submissions_form",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{re_upload_submissions_form:{buttons:{upload:"تحميل الملفات"},reupload_submission_files:"إعادة تحميل ملفات الإرسال",upload_info:"إذا أجريت تغييرات في ملفات إرسال الطلاب التي قمت بتنزيلها من قبل، فما عليك سوى ضغطها مرة أخرى وتحميل الملف المضغوط مع النموذج أدناه. وسيرى الطلاب الملفات المعدلة في تعليقاتهم للإرسال.",upload_warning:"تأكد من عدم تغيير أسماء ملفات الإرسال حتى نستطيع التعرف عليها."}},de:{re_upload_submissions_form:{buttons:{upload:"Dateien hochladen"},reupload_submission_files:"Einsendungsdateien erneut hochladen",upload_info:"Wenn Sie Änderungen an den heruntergeladenen Einsendungen der Studenten vorgenommen haben, komprimieren Sie die Einsendungen erneut und laden Sie die Zip-datei über das unten stehende Formular hoch. Die geänderten Dateien werden den Studenten in den Einsendungskommentaren angezeigt.",upload_warning:"Bitte achten Sie darauf, dass die Namen der eingesandten Dateien unverändert bleiben, sodass eine eindeutige Zuordnung möglich ist."}},"en-AU":{re_upload_submissions_form:{buttons:{upload:"Upload Files"},reupload_submission_files:"Re-Upload Submission Files",upload_info:"If you made changes to the student submission files you downloaded before, just zip them back up and upload the zip with the form below. Students will see the modified files in their comments for the submission.",upload_warning:"Make sure you don't change the names of the submission files so we can recognize them."}},"en-GB":{re_upload_submissions_form:{buttons:{upload:"Upload files"},reupload_submission_files:"Reupload submission files",upload_info:"If you made changes to the student submission files you downloaded before, just zip them back up and upload the zip with the form below. Students will see the modified files in their comments for the submission.",upload_warning:"Make sure you don't change the names of the submission files so we can recognise them."}},es:{re_upload_submissions_form:{buttons:{upload:"Cargar Archivos"},reupload_submission_files:"Volver a Cargar Archivos de los Envíos",upload_info:"Si hizo cambios a los archivos de envíos de estudiantes que descargó anteriormente, sólo comprímalos y cargue el archivo zip con el formulario a continuación. Los estudiantes verán los archivos modificados en sus comentarios para el envío.",upload_warning:"Asegurese que no cambie los nombres de los archivos de envío para poder reconocerlos."}},"fa-IR":{re_upload_submissions_form:{buttons:{upload:"بارگذاری فایل ها"},reupload_submission_files:"بارگذاری دوباره فایل های ارسالی",upload_info:"اگر در فایل های ارسالی دانشجو که قبلا بارگیری کرده اید، تغییراتی ایجاد کردید، آنها را دوباره فشرده کنید و فایل فشرده را با استفاده از فرم زیر بارگذاری نمایید. دانشجویان فایل های تغییر یافته را در نظرهای مربوط به مورد ارسالی خود مشاهده خواهند کرد.",upload_warning:"مطمئن شوید که نام فایل های ارسالی را تغییر ندهید تا بتوانیم آنها را شناسایی کنیم."}},fr:{re_upload_submissions_form:{buttons:{upload:"Charger des fichiers"},reupload_submission_files:"Retélécharger les fichiers d’envoi",upload_info:"Si vous avez apporté des modifications aux fichiers d’envois de l’étudiant que vous avez téléchargés , compressez-les puis téléchargez le fichier zip avec le formulaire ci-dessous. Les étudiants verront les fichiers modifiés dans les commentaires de leur envoi.",upload_warning:"Assurez-vous de ne pas modifier les noms des fichiers d’envoi afin que nous puissions les reconnaître."}},ja:{re_upload_submissions_form:{buttons:{upload:"ファイルのアップロード"},reupload_submission_files:"提出ファイルの再アップロード",upload_info:"以前にダウンロードした、その受講生からの提出ファイルに変更を加えた場合は、zip ファイルに圧縮しなおして、下のフォームと一緒にアップロードしてください。受講生には、提出用のコメント内に、修正済みのファイルが表示されます。",upload_warning:"ファイル名で区別しますので、提出ファイルのファイル名は変更しないでください。"}},nb:{re_upload_submissions_form:{buttons:{upload:"Last opp filer"},reupload_submission_files:"Last opp innleveringsfiler på nytt",upload_info:"Om du endret de innleverte filene du lastet ned, komprimer de til zip-format og last opp zip-filen med skjemaet nedenfor. Studentene vil se de modifiserte filene via kommentarfeltet for innleveringen. ",upload_warning:"Ikke endre navn på innleveringsfiler slik at vi kan gjenkjenne de."}},nl:{re_upload_submissions_form:{buttons:{upload:"Upload bestanden"},reupload_submission_files:"Ingestuurde bestanden opnieuw uploaden",upload_info:"Als u wijzigingen hebt aanbracht in bestanden die leerlingen hebben ingeleverd, zipt u ze opnieuw en uploadt u de zip met het onderstaande formulier. Leerlingen zullen dan de aangepaste bestanden ontvangen.",upload_warning:"Let op dat u de naam van de ingeleverde bestanden niet wijzigt. Hieraan kan Canvas de bestanden herkennen."}},pl:{re_upload_submissions_form:{buttons:{upload:"Przekaż pliki"},reupload_submission_files:"Ponownie przekaż pliki z zadaniem",upload_info:"W przypadku wprowadzenia zmian do pobranych wcześniej plików z zadaniami należy spakować je ponownie i przekazać paczkę wraz z poniższym formularzem. Uczestnicy będą widzieć zmodyfikowane pliki w komentarzach do przesłanego zadania.",upload_warning:"Upewnij się, że nazwy plików nie zostały zmienione, gdyż system może ich nie rozpoznać."}},pt:{re_upload_submissions_form:{buttons:{upload:"Enviar arquivos (upload)"},reupload_submission_files:"Fazer novamente o upload dos arquivos do envio",upload_info:"Se tiver efetuado alterações nos ficheiros enviados do aluno descarregados anteriormente, é só fazer novamente o zip e enviar o ficheiro zip com o formulário abaixo. Os alunos verão os ficheiros modificados nos seus comentários para o envio.",upload_warning:"Certifique-se de não alterar os nomes dos arquivos enviados, para que possamos reconhecê-los."}},"pt-BR":{re_upload_submissions_form:{buttons:{upload:"Enviar arquivos (upload)"},reupload_submission_files:"Fazer novamente o upload dos arquivos do envio",upload_info:"Se forem feitas alterações nos arquivos enviados pelo aluno que você baixou anteriormente, é só fazer novamente o zip e enviar este zip com o formulário abaixo. Os alunos verão os arquivos modificados em seus comentários para o envio.",upload_warning:"Certifique-se de não alterar os nomes dos arquivos enviados, para que possamos reconhecê-los."}},ru:{re_upload_submissions_form:{buttons:{upload:"Загрузить файлы"},reupload_submission_files:"Повторно загрузить файлы отправки",upload_info:"Если в файлы отправок студентов ранее вносились изменения, просто заархивируйте их и загрузите ZIP-файл, используя форму ниже. Студенты будут видеть измененные файлы в комментариях для отправки.",upload_warning:"Убедитесь, что имена файлов подписок не изменены, чтобы их можно было распознать."}},tr:{re_upload_submissions_form:{buttons:{upload:"Dosya Yükle"},reupload_submission_files:"Ödev Gönderilerini Yeniden Yükle",upload_info:"Daha önce indirdiğiniz öğrencilerin gönderdikleri dosyalarda değişiklik yaptıysanız bunları zip dosyası olarak sıkıştırıp aşağıdaki form ile birlikte bu zipli dosyayı yükleyin. Öğrenciler değiştirilmiş dosyaları gönderi yorumlarında görecekler.",upload_warning:"Gönderi dosyalarının adlarını değiştirmeyin ki bunları algılayabilelim."}},zh:{re_upload_submissions_form:{buttons:{upload:"上传文件"},reupload_submission_files:"重新上传提交文件",upload_info:"如果您对此前下载的学生提交文件作出了更改，只需压缩其备份并使用以下表单上传该压缩文件。学生将在其提交评论中看到修改的文件。",upload_warning:"确保不要更改提交文件的名称，以便我们组织。"}},zh_Hant:{re_upload_submissions_form:{buttons:{upload:"上傳檔案"},reupload_submission_files:"重新上傳提交檔案",upload_info:"如果您更改了之前下載的學生提交檔案，僅需對其進行壓縮，並上傳壓縮檔案以及以下的表格。學生們將在針對其提交件的註解中看到修改後的檔案。",upload_warning:"確保您沒有更改提交檔案的名稱，以便我們能夠識別它們。"}}}})
}),define("jst/re_upload_submissions_form",["compiled/handlebars_helpers","i18n!re_upload_submissions_form"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.re_upload_submissions_form=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r,a,l="",u=n.helperMissing,d="function",c=this.escapeExpression;return l+='<form action="." enctype="multipart/form-data" id="re_upload_submissions_form" method="post" style="display: none;" title="',r=n.t||t&&t.t,a={hash:{scope:"re_upload_submissions_form"},data:i},s=r?r.call(t,"reupload_submission_files","Re-Upload Submission Files",a):u.call(t,"t","reupload_submission_files","Re-Upload Submission Files",a),(s||0===s)&&(l+=s),l+='">\n  <input type="hidden" name=\'authenticity_token\' value="',(r=n.authenticityToken)?s=r.call(t,{hash:{},data:i}):(r=t&&t.authenticityToken,s=typeof r===d?r.call(t,{hash:{},data:i}):r),l+=c(s)+'">\n  <p>\n    ',r=n.t||t&&t.t,a={hash:{scope:"re_upload_submissions_form"},data:i},s=r?r.call(t,"upload_info","If you made changes to the student submission files you downloaded before, just zip them back up and upload the zip with the form below. Students will see the modified files in their comments for the submission.",a):u.call(t,"t","upload_info","If you made changes to the student submission files you downloaded before, just zip them back up and upload the zip with the form below. Students will see the modified files in their comments for the submission.",a),(s||0===s)&&(l+=s),l+="\n  </p>\n  <p>\n    <i>",r=n.t||t&&t.t,a={hash:{scope:"re_upload_submissions_form"},data:i},s=r?r.call(t,"upload_warning","Make sure you don't change the names of the submission files so we can recognize them.",a):u.call(t,"t","upload_warning","Make sure you don't change the names of the submission files so we can recognize them.",a),(s||0===s)&&(l+=s),l+='</i>\n  </p>\n  <input type="file" name="submissions_zip"/>\n  <button type="submit" class="btn">',r=n.t||t&&t.t,a={hash:{scope:"re_upload_submissions_form"},data:i},s=r?r.call(t,"buttons.upload","Upload Files",a):u.call(t,"t","buttons.upload","Upload Files",a),(s||0===s)&&(l+=s),l+="</button>\n</form>\n"}),n.re_upload_submissions_form}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/gradebook2/GradebookHeaderMenu",["i18n!gradebook2","jquery","message_students","compiled/AssignmentDetailsDialog","compiled/AssignmentMuter","compiled/gradebook2/SetDefaultGradeDialog","compiled/gradebook2/CurveGradesDialog","jst/gradebook2/GradebookHeaderMenu","jst/re_upload_submissions_form","underscore","compiled/behaviors/authenticity_token","jquery.instructure_forms","jqueryui/dialog","jquery.instructure_misc_helpers","jquery.instructure_misc_plugins","compiled/jquery.kylemenu"],function(t,n,o,i,s,r,a,l,u,d,c){var g;return g=function(){function o(t,o,i){var r,a=this;this.assignment=t,this.$trigger=o,this.gradebook=i,this.reuploadSubmissions=e(this.reuploadSubmissions,this),this.downloadSubmissions=e(this.downloadSubmissions,this),this.curveGrades=e(this.curveGrades,this),this.setDefaultGrade=e(this.setDefaultGrade,this),this.messageStudentsWho=e(this.messageStudentsWho,this),this.showAssignmentDetails=e(this.showAssignmentDetails,this),r={assignmentUrl:""+this.gradebook.options.context_url+"/assignments/"+this.assignment.id,speedGraderUrl:""+this.gradebook.options.context_url+"/gradebook/speed_grader?assignment_id="+this.assignment.id},this.gradebook.options.speed_grader_enabled||(r.speedGraderUrl=null),this.gradebook.allSubmissionsLoaded.done(function(){return a.allSubmissionsLoaded=!0}),this.$menu=n(l(r)).insertAfter(this.$trigger),this.$trigger.kyleMenu({noButton:!0}),this.$menu.appendTo("#gradebook_grid").delegate("a","click",function(e){var t;return t=a[n(e.target).data("action")],t?(t(),!1):void 0}).bind("popupopen popupclose",function(e){return a.$trigger.toggleClass("ui-menu-trigger-menu-is-open","popupopen"===e.type),"popupclose"===e.type&&null!=e.originalEvent&&"focusout"!==e.originalEvent.type?setTimeout(function(){return a.gradebook.grid.editActiveCell()},0):void 0}).bind("popupopen",function(){var e,t,n,o;n={showAssignmentDetails:a.allSubmissionsLoaded,messageStudentsWho:a.allSubmissionsLoaded,setDefaultGrade:a.allSubmissionsLoaded,curveGrades:a.allSubmissionsLoaded&&"pass_fail"!==a.assignment.grading_type&&a.assignment.points_possible,downloadSubmissions:(""+a.assignment.submission_types).match(/(online_upload|online_text_entry|online_url)/)&&a.assignment.has_submitted_submissions,reuploadSubmissions:a.assignment.submissions_downloads>0},o=[];for(e in n)t=n[e],o.push(a.$menu.find("[data-action="+e+"]").showIf(t));return o}).popup("open"),new s(this.$menu.find("[data-action=toggleMuting]"),this.assignment,""+this.gradebook.options.context_url+"/assignments/"+this.assignment.id+"/mute")}return o.prototype.showAssignmentDetails=function(e){return null==e&&(e={assignment:this.assignment,students:this.gradebook.studentsThatCanSeeAssignment(this.gradebook.students,this.assignment)}),new i(e)},o.prototype.messageStudentsWho=function(e){var o,i,s,r,a;return null==e&&(e={assignment:this.assignment,students:this.gradebook.studentsThatCanSeeAssignment(this.gradebook.students,this.assignment)}),r=e.students,o=e.assignment,r=d.map(r,function(e){var t;return t=e["assignment_"+o.id],{id:e.id,name:e.name,score:null!=t?t.score:void 0,submitted_at:null!=t?t.submitted_at:void 0}}),a=o.submission_types,i=!0,0===a.length?i=!1:1===a.length&&(i=!d.include(["none","on_paper"],a[0])),s=[{text:t.t("students_who.havent_submitted_yet","Haven't submitted yet")},{text:t.t("students_who.havent_been_graded","Haven't been graded")},{text:t.t("students_who.scored_less_than","Scored less than"),cutoff:!0},{text:t.t("students_who.scored_more_than","Scored more than"),cutoff:!0}],i||s.splice(0,1),window.messageStudents({options:s,title:o.name,points_possible:o.points_possible,students:r,context_code:"course_"+o.course_id,callback:function(e,o,i){return i=n.grep(i,function(n){var i;return i=n.user_data,e===t.t("students_who.havent_submitted_yet","Haven't submitted yet")?!i.submitted_at&&null==i.score:e===t.t("students_who.havent_been_graded","Haven't been graded")?null==i.score:e===t.t("students_who.scored_less_than","Scored less than")?null!=i.score&&""!==i.score&&null!=o&&i.score<o:e===t.t("students_who.scored_more_than","Scored more than")?null!=i.score&&""!==i.score&&null!=o&&i.score>o:void 0}),n.map(i,function(e){return e.user_data.id})},subjectCallback:function(e,n){return n=n||"",e===t.t("students_who.not_submitted_yet","Haven't submitted yet")?t.t("students_who.no_submission_for","No submission for %{assignment}",{assignment:o.name}):e===t.t("students_who.havent_been_graded","Haven't been graded")?t.t("students_who.no_grade_for","No grade for %{assignment}",{assignment:o.name}):e===t.t("students_who.scored_less_than","Scored less than")?t.t("students_who.scored_less_than_on","Scored less than %{cutoff} on %{assignment}",{assignment:o.name,cutoff:n}):e===t.t("students_who.scored_more_than","Scored more than")?t.t("students_who.scored_more_than_on","Scored more than %{cutoff} on %{assignment}",{assignment:o.name,cutoff:n}):void 0}})},o.prototype.setDefaultGrade=function(e){return null==e&&(e={assignment:this.assignment,students:this.gradebook.studentsThatCanSeeAssignment(this.gradebook.students,this.assignment),context_id:this.gradebook.options.context_id,selected_section:this.gradebook.sectionToShow}),new r(e)},o.prototype.curveGrades=function(e){return null==e&&(e={assignment:this.assignment,students:this.gradebook.studentsThatCanSeeAssignment(this.gradebook.students,this.assignment),context_url:this.gradebook.options.context_url}),new a(e)},o.prototype.downloadSubmissions=function(){var e,t,o;return e=n.replaceTags(this.gradebook.options.download_assignment_submissions_url,"assignment_id",this.assignment.id),INST.downloadSubmissions(e),this.assignment.submissions_downloads=(null!=(o=(t=this.assignment).submissions_downloads)?o:t.submissions_downloads=0)+1},o.prototype.reuploadSubmissions=function(){var e,i;return this.$re_upload_submissions_form||(e={authenticityToken:c()},o.prototype.$re_upload_submissions_form=n(u(e)).dialog({width:400,modal:!0,resizable:!1,autoOpen:!1}).submit(function(){var e;return e=n(this).getFormData(),e.submissions_zip?e.submissions_zip.match(/\.zip$/)?void 0:(n(this).formErrors({submissions_zip:t.t("errors.upload_as_zip","Please upload files as a .zip")}),!1):!1})),i=n.replaceTags(this.gradebook.options.re_upload_submissions_url,"assignment_id",this.assignment.id),this.$re_upload_submissions_form.attr("action",i).dialog("open")},o}()})}.call(this),function(){define("compiled/util/NumberCompare",["underscore"],function(e){return function(t,n,o){var i;return null==o&&(o={}),i=e.isNumber(t)?e.isNumber(n)?o.descending?n-t:t-n:-1:e.isNumber(n)?1:0}})}.call(this),define("translations/gradebook_uploads_form",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook_uploads_form:{buttons:{upload_data:"تحميل البيانات"},labels:{upload:"اختيار ملف CSV لتحميله:"},titles:{upload_form:"اختيار ملف CSV لتحميله"},what_should_csv_look_like:"ما الشكل الذي يجب أن يكون عليه ملف CSV؟"}},de:{gradebook_uploads_form:{buttons:{upload_data:"Daten hochladen"},labels:{upload:"Wählen Sie eine CSV-datei zum Hochladen aus:"},titles:{upload_form:"Wählen Sie eine CSV-Datei zum Hochladen aus"},what_should_csv_look_like:"Wie sollte diese CSV-Datei aussehen?"}},"en-AU":{gradebook_uploads_form:{buttons:{upload_data:"Upload Data"},labels:{upload:"Choose a CSV file to upload:"},titles:{upload_form:"Choose a CSV file to upload"},what_should_csv_look_like:"What should the CSV file look like?"}},"en-GB":{gradebook_uploads_form:{buttons:{upload_data:"Upload data"},labels:{upload:"Choose a CSV file to upload:"},titles:{upload_form:"Choose a CSV file to upload"},what_should_csv_look_like:"What should the CSV file look like?"}},es:{gradebook_uploads_form:{buttons:{upload_data:"Cargar la Información"},labels:{upload:"Escoger un archivo CSV para cargarlo:"},titles:{upload_form:"Escoger un archivo CSV para cargar"},what_should_csv_look_like:"¿Cómo se debería ver el archivo CSV?"}},"fa-IR":{gradebook_uploads_form:{buttons:{upload_data:"بارگذاری داده ها"},labels:{upload:"انتخاب یک فایل CSV برای بارگذاری:"},titles:{upload_form:"انتخاب یک فایل CSV برای بارگذاری"},what_should_csv_look_like:"فایل CSV باید چطور باشد؟"}},fr:{gradebook_uploads_form:{buttons:{upload_data:"Télécharger les données"},labels:{upload:"Choisissez un fichier CSV à télécharger :"},titles:{upload_form:"Choisissez un fichier CSV à télécharger"},what_should_csv_look_like:"À quoi ressemble le fichier CSV ?"}},ja:{gradebook_uploads_form:{buttons:{upload_data:"データのアップロード"},labels:{upload:"アップロードする CSV ファイルの選択:"},titles:{upload_form:"アップロードする CSV ファイルの選択"},what_should_csv_look_like:"CSV ファイルはどのような表示にしたいですか?"}},nb:{gradebook_uploads_form:{buttons:{upload_data:"Last opp data"},labels:{upload:"Velg en CSV-fil å laste opp:"},titles:{upload_form:"Velg en CSV for opplasting"},what_should_csv_look_like:"Hvordan bør en CSV fil se ut?"}},nl:{gradebook_uploads_form:{buttons:{upload_data:"Gegevens uploaden"},labels:{upload:"Een CSV-bestand kiezen om te uploaden:"},titles:{upload_form:"Een CSV-bestand kiezen om te uploaden"},what_should_csv_look_like:"Hoe zou het CSV-bestand er uit moeten zien?"}},pl:{gradebook_uploads_form:{buttons:{upload_data:"Przekaż dane"},labels:{upload:"Wybierz plik CSV, który chcesz przekazać:"},titles:{upload_form:"Wybierz plik CSV, który chcesz przekazać"},what_should_csv_look_like:"Jak powinien wyglądać plik CSV?"}},pt:{gradebook_uploads_form:{buttons:{upload_data:"Atualizar dados"},labels:{upload:"Selecione um arquivo CSV para fazer upload:"},titles:{upload_form:"Selecione um arquivo CSV para fazer upload"},what_should_csv_look_like:"Qual seria a aparência do arquivo CSV?"}},"pt-BR":{gradebook_uploads_form:{buttons:{upload_data:"Atualizar dados"},labels:{upload:"Selecione um arquivo CSV para fazer upload:"},titles:{upload_form:"Selecione um arquivo CSV para fazer upload"},what_should_csv_look_like:"Qual seria a aparência do arquivo CSV?"}},ru:{gradebook_uploads_form:{buttons:{upload_data:"Загрузка данных"},labels:{upload:"Выберите CSV-файл для отправки:"},titles:{upload_form:"Выберите CSV-файл для отправки"},what_should_csv_look_like:"Как должен быть выполнен CSV-файл?"}},tr:{gradebook_uploads_form:{buttons:{upload_data:"Veri Gönder"},labels:{upload:"Yüklencek bir CSV dosyası seçin:"},titles:{upload_form:"Yüklenecek bir CSV dosyası seçin"},what_should_csv_look_like:"CSV dosyası nasıl olmalı?"}},zh:{gradebook_uploads_form:{buttons:{upload_data:"上传数据"},labels:{upload:"选择要上传的 CSV 文件:"},titles:{upload_form:"选择要上传的 CSV 文件"},what_should_csv_look_like:"CSV 文件应该是什么样子?"}},zh_Hant:{gradebook_uploads_form:{buttons:{upload_data:"上傳資料"},labels:{upload:"選擇 CSV 檔案以上傳："},titles:{upload_form:"選擇 CSV 檔案以上傳"},what_should_csv_look_like:"CSV 檔案應該是什麼樣的？"}}}})}),define("jst/gradebook_uploads_form",["compiled/handlebars_helpers","i18n!gradebook_uploads_form"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.gradebook_uploads_form=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r,a,l="",u="function",d=this.escapeExpression,c=n.helperMissing;return l+='<form action="',(r=n.action)?s=r.call(t,{hash:{},data:i}):(r=t&&t.action,s=typeof r===u?r.call(t,{hash:{},data:i}):r),l+=d(s)+'" enctype="multipart/form-data" id="upload_modal" method="post" title="',r=n.t||t&&t.t,a={hash:{scope:"gradebook_uploads_form"},data:i},s=r?r.call(t,"titles.upload_form","Choose a CSV file to upload",a):c.call(t,"t","titles.upload_form","Choose a CSV file to upload",a),(s||0===s)&&(l+=s),l+='">\n  <input type="hidden" name=\'authenticity_token\' value="',(r=n.authenticityToken)?s=r.call(t,{hash:{},data:i}):(r=t&&t.authenticityToken,s=typeof r===u?r.call(t,{hash:{},data:i}):r),l+=d(s)+'">\n  <p aria-hidden="true">\n    <a class="icon-question"\n      target="_blank"\n      href="http://guides.instructure.com/m/4152/l/55013-how-do-i-upload-changes-to-the-gradebook">\n        ',r=n.t||t&&t.t,a={hash:{scope:"gradebook_uploads_form"},data:i},s=r?r.call(t,"what_should_csv_look_like","What should the CSV file look like?",a):c.call(t,"t","what_should_csv_look_like","What should the CSV file look like?",a),(s||0===s)&&(l+=s),l+='\n    </a>\n  </p>\n  <p style="font-size: 1.2em;">\n    <label for="gradebook_upload_uploaded_data">',r=n.t||t&&t.t,a={hash:{scope:"gradebook_uploads_form"},data:i},s=r?r.call(t,"labels.upload","Choose a CSV file to upload:",a):c.call(t,"t","labels.upload","Choose a CSV file to upload:",a),(s||0===s)&&(l+=s),l+='</label>\n    <input id="gradebook_upload_uploaded_data" name="gradebook_upload[uploaded_data]" type="file" />\n  </p>\n\n  <button class="btn btn-primary" type="submit">',r=n.t||t&&t.t,a={hash:{scope:"gradebook_uploads_form"},data:i},s=r?r.call(t,"buttons.upload_data","Upload Data",a):c.call(t,"t","buttons.upload_data","Upload Data",a),(s||0===s)&&(l+=s),l+="</button>\n</form>\n"}),n.gradebook_uploads_form}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/gradebook2/UploadDialog",["jquery","jst/gradebook_uploads_form","compiled/behaviors/authenticity_token","jqueryui/dialog"],function(t,n,o){var i;return i=function(){function i(t){this.context_url=t,this.init=e(this.init,this),this.init()}return i.prototype.init=function(e){var i,s;return null==e&&(e={context_url:this.context_url}),s={download_gradebook_csv_url:""+e.context_url+"/gradebook.csv",action:""+e.context_url+"/gradebook_uploads",authenticityToken:o()},i=t(n(s)),i.dialog({bgiframe:!0,modal:!0,width:720,resizable:!1,close:function(){return i.remove()}}).fixDialogButtons()},i}()})}.call(this),define("translations/modules",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{button:{go_back:"عودة للخلف",post:"نشر الدرجات"},buttons:{ignore_all:"تجاهل الكل"},modules:{dialog_title:"إضافة عنصر إلى %{moduleName}",post_grades_dialog_title:"نشر الدرجات في SIS"}},de:{button:{go_back:"Zurück",post:"Noten veröffentlichen"},buttons:{ignore_all:"Alle ignorieren"},modules:{dialog_title:"Element zu %{moduleName} hinzufügen",post_grades_dialog_title:"Noten in SIS veröffentlichen"}},"en-AU":{button:{go_back:"Go Back",post:"Post Grades"},buttons:{ignore_all:"Ignore All"},modules:{dialog_title:"Add item to %{moduleName}",post_grades_dialog_title:"Post Grades to SIS"}},"en-GB":{button:{go_back:"Go Back",post:"Post grades"},buttons:{ignore_all:"Ignore all"},modules:{dialog_title:"Add item to %{moduleName}",post_grades_dialog_title:"Post grades to SIS"}},es:{button:{go_back:"Volver",post:"Publicar calificaciones"},buttons:{ignore_all:"Ignorar todos"},modules:{dialog_title:"Agregar elemento a %{moduleName}",post_grades_dialog_title:"Publicar calificaciones en SIS"}},"fa-IR":{button:{go_back:"بازگشت",post:"ارسال نمره ها"},buttons:{ignore_all:"صرفنظر از همه"},modules:{post_grades_dialog_title:"ارسال نمره ها به سامانه اطلاعات دانشجو"}},fr:{button:{go_back:"Retour",post:"Publier les notes"},buttons:{ignore_all:"Ignorer tout"},modules:{dialog_title:"Ajouter un élément à %{moduleName}",post_grades_dialog_title:"Publier les notes sur SIS"}},ja:{button:{go_back:"戻る",post:"成績の投稿"},buttons:{ignore_all:"すべてを無視"},modules:{dialog_title:"%{moduleName} へのアイテムの追加",post_grades_dialog_title:"成績表を SIS に投稿"}},nb:{button:{go_back:"Tilbake",post:"Legg inn karakterer"},buttons:{ignore_all:"Ignorer alt"},modules:{dialog_title:"Legg til element til %{moduleName}",post_grades_dialog_title:"Send karakterer til SIS"}},nl:{button:{go_back:"Ga terug",post:"Eindcijfers bekend maken"},buttons:{ignore_all:"Alles negeren"},modules:{dialog_title:"Item toevoegen aan %{moduleName}",post_grades_dialog_title:"Eindcijfers op SIS posten"}},pl:{button:{go_back:"Przejdź wstecz",post:"Wyślij oceny"},buttons:{ignore_all:"Ignoruj wszystko"},modules:{dialog_title:"Dodaj element do modułu o nazwie %{moduleName}",post_grades_dialog_title:"Wyślij oceny do SIS"}},pt:{button:{go_back:"Retroceder",post:"Publicar notas"},buttons:{ignore_all:"Ignorar tudo"},modules:{dialog_title:"Adicionar item a %{moduleName}",post_grades_dialog_title:"Publicar notas em SIS"}},"pt-BR":{button:{go_back:"Voltar",post:"Postar notas"},buttons:{ignore_all:"Ignorar tudo"},modules:{dialog_title:"Adicionar item a %{moduleName}",post_grades_dialog_title:"Postar notas no SIS"}},ru:{button:{go_back:"Вернуться назад",post:"Опубликовать оценки"},buttons:{ignore_all:"Игнорировать все"},modules:{dialog_title:"Добавить элемент к %{moduleName}",post_grades_dialog_title:"Опубликовать оценки в SIS"}},tr:{button:{go_back:"Geri Git",post:"Notları Gönder"},buttons:{ignore_all:"Tümünü Yoksay"},modules:{dialog_title:"%{moduleName}'e öğe ekle",post_grades_dialog_title:"Notları ÖBS'ye Gönder"}},zh:{button:{go_back:"返回",post:"发布评分"},buttons:{ignore_all:"忽略全部"},modules:{dialog_title:"添加项目到 %{moduleName}",post_grades_dialog_title:"发布评分到 SIS"}},zh_Hant:{button:{go_back:"返回",post:"公佈成績"},buttons:{ignore_all:"忽略全部"},modules:{dialog_title:"新增項目至 %{moduleName}",post_grades_dialog_title:"公佈成績至 SIS"}}}})}),define("translations/dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{buttons:{cancel:"إلغاء",update:"تحديث"}},de:{buttons:{cancel:"Abbrechen",update:"Aktualisieren"}},"en-AU":{buttons:{cancel:"Cancel",update:"Update"}},"en-GB":{buttons:{cancel:"Cancel",update:"Update"}},es:{buttons:{cancel:"Cancelar",update:"Actualizar"}},"fa-IR":{buttons:{cancel:"لغو",update:"بهنگام سازی"}},fr:{buttons:{cancel:"Annuler",update:"Mettre à jour"}},ja:{buttons:{cancel:"キャンセル",update:"更新"}},nb:{buttons:{cancel:"Avbryt",update:"Oppdater"}},nl:{buttons:{cancel:"Annuleren",update:"Bijwerken"}},pl:{buttons:{cancel:"Anuluj",update:"Aktualizuj"}},pt:{buttons:{cancel:"Cancelar",update:"Atualizar"}},"pt-BR":{buttons:{cancel:"Cancelar",update:"Atualizar"}},ru:{buttons:{cancel:"Отменить",update:"Обновить"}},tr:{buttons:{cancel:"İptal",update:"Güncelle"}},zh:{buttons:{cancel:"取消",update:"更新"}},zh_Hant:{buttons:{cancel:"取消",update:"更新"}}}})}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("compiled/views/DialogBaseView",["i18n!dialog","jquery","underscore","Backbone","jqueryui/dialog"],function(t,o,i,s){var r,a;return r=function(s){function r(){return this.cancel=e(this.cancel,this),a=r.__super__.constructor.apply(this,arguments)}return n(r,s),r.prototype.initialize=function(){return r.__super__.initialize.apply(this,arguments),this.initDialog(),this.setElement(this.dialog)},r.prototype.defaultOptions=function(){return{autoOpen:!1,width:420,resizable:!1,buttons:[]}},r.prototype.initDialog=function(){var e;return e=i.extend({},this.defaultOptions(),{buttons:[{text:t.t("#buttons.cancel","Cancel"),"class":"cancel_button",click:this.cancel},{text:t.t("#buttons.update","Update"),"class":"btn-primary",click:this.update}]},i.result(this,"dialogOptions")),this.dialog=o('<div id="'+e.id+'"></div>').appendTo("body").dialog(e),e.containerId&&this.dialog.parent().attr("id",e.containerId),this.dialog},r.prototype.show=function(){return this.dialog.dialog("open")},r.prototype.close=function(){return this.dialog.dialog("close")},r.prototype.update=function(){throw"Not yet implemented"},r.prototype.cancel=function(e){return e.preventDefault(),this.close()},r}(s.View)})}.call(this),define("jst/gradebook2/post_grades_dialog",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/post_grades_dialog"]=t(function(e,t,n,o,i){function s(e,t){var o,i,s="";return s+='\n           <div class="row">\n               <div id="assignment-error-',(i=n.id)?o=i.call(e,{hash:{},data:t}):(i=e&&e.id,o=typeof i===m?i.call(e,{hash:{},data:t}):i),s+=h(o)+'">\n                   <form class="passback-form form-inline" data-assignment-id="',(i=n.id)?o=i.call(e,{hash:{},data:t}):(i=e&&e.id,o=typeof i===m?i.call(e,{hash:{},data:t}):i),s+=h(o)+'">\n                       <div class=',o=n["if"].call(e,e&&e.not_unique,{hash:{},inverse:p.program(4,a,t),fn:p.program(2,r,t),data:t}),(o||0===o)&&(s+=o),s+=' style="width: 4px"></div>\n                       <div class="span4 input-container">\n                           <input type="text" class="input-xlarge assignment-name" style="padding-right: 100px" placeholder="No Assignment Name" value="',(i=n.name)?o=i.call(e,{hash:{},data:t}):(i=e&&e.name,o=typeof i===m?i.call(e,{hash:{},data:t}):i),s+=h(o)+'">\n                       </div>\n\n                       ',o=n["if"].call(e,e&&e.due_at,{hash:{},inverse:p.program(8,u,t),fn:p.program(6,l,t),data:t}),(o||0===o)&&(s+=o),s+='\n                       </div>\n                       <button style="left: 0px;" class="btn ignore-assignment assignment-info">X</button>\n                   </form>\n               </div>\n           </div>\n       '}function r(){return'"span1 data-circle-error"'}function a(){return'"span1 data-circle-clean"'}function l(e,t){var o,i,s="";return s+='\n                           <div class="span1 data-circle-clean" style="width: 4px"></div>\n                           <div class="span2 date_field_container input-container">\n                           <input type="text" class="input-medium date_field assignment-info" value="'+h((o=n.datetimeFormatted||e&&e.datetimeFormatted,i={hash:{},data:t},o?o.call(e,e&&e.due_at,i):g.call(e,"datetimeFormatted",e&&e.due_at,i)))+'">\n                       '}function u(){return'\n                           <div class="span1 data-circle-error" style="width: 4px"></div>\n                           <div class="span2 date_field_container input-container">\n                           <input type="text" class="input-medium date_field assignment-info" placeholder="No Due Date">\n                       '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var d,c="",g=n.helperMissing,h=this.escapeExpression,m="function",p=this;return c+='<style>\n    .passback-form {\n        margin:0;\n        margin-bottom: 25px;\n        padding: 0;\n    }\n\n    .passback-form .assignment-info {\n        padding-right: 3px;\n        padding-right: 4px \\9;\n        padding-left: 3px;\n        padding-left: 4px \\9;\n        /* IE7-8 doesn\'t have border-radius, so don\'t indent the padding */\n\n        /*margin-bottom: 20px;*/\n        -webkit-border-radius: 3px;\n        -moz-border-radius: 3px;\n        border-radius: 3px;\n    }\n\n    .passback-form button {\n        border: 0;\n        background: none;\n        /** belows styles are working good */\n        padding: 2px 5px;\n        margin-top: 2px;\n        position: relative;\n        left: -28px;\n        /* IE7-8 doesn\'t have border-radius, so don\'t indent the padding */\n        margin-bottom: 0;\n        -webkit-border-radius: 3px;\n        -moz-border-radius: 3px;\n        border-radius: 3px;\n    }\n\n    .assignment-info:focus + button {\n        z-index: 3;\n    }\n\n    .data-circle-error{\n        margin-top: 12px;\n        margin-right: -20px;\n        border-radius: 50%;\n        width: 4px;\n        height: 4px;\n        background: #f00;\n        border: 1px solid #f00;\n    }\n    .data-circle-clean{\n        margin-top: 12px;\n        margin-right: -20px;\n        border-radius: 50%;\n        width: 4px;\n        height: 4px;\n        background: transparent;\n        border: 1px solid transparent;\n    }\n    .data-circle-success{\n        margin-top: 12px;\n        margin-right: -20px;\n        border-radius: 50%;\n        width: 4px;\n        height: 4px;\n        background: transparent;\n        border: 1px solid transparent;\n    }\n    .lead{\n        margin-bottom: 20px;\n        /*font-size: 21px;*/\n        font-weight: 200;\n        line-height: 30px;\n    }\n    @media (min-width: 0 ) {\n    .row {\n        margin-left: -30px;\n        overflow: hidden;\n        *zoom: 1; }\n\n    [class*="span"] {\n        float: left;\n        min-height: 1px;\n        margin-left: 30px; }\n\n    #post-grades-container .span4 {\n        width: 370px; }\n\n    #post-grades-container .span3 {\n        width: 270px; }\n\n    #post-grades-container .span2 {\n        width: 170px; }\n\n    #post-grades-container .span1 {\n        width: 70px; }\n</style>\n\n<div id="assignment-errors">\n   <legend class="lead" style><span class="assignment-error-count">'+h((d=t&&t.missing_not_unique,d=null==d||d===!1?d:d.length,typeof d===m?d.apply(t):d))+'</span> Assignments with Errors</legend>\n   <div class="assignment-errors-list">\n       <div class="row">\n           <h5 class="muted span4" style="margin-left: 50px">Assignment Name</h5>\n           <span class="span1"></span>\n           <h5 class="muted span2" style="margin-left: -60px;">Due Date</h5>\n       </div>\n       ',d=n.each.call(t,t&&t.missing_not_unique,{hash:{},inverse:p.noop,fn:p.program(1,s,i),data:i}),(d||0===d)&&(c+=d),c+="\n   </div>\n</div>"}),n["gradebook2/post_grades_dialog"]}),define("jst/gradebook2/post_grades_summary",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/post_grades_summary"]=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r="",a="function",l=this.escapeExpression;return r+='<style>\n    .post-summary-center {\n        margin-top: 120px\n    }\n</style>\n<div class="post-summary post-summary-center" style="margin-left: 75px">\n    <h1 class="lead text-left" style="color: #aaaaaa; font-size: 28px">You are ready to post <span class="assignments_to_post_count">'+l((s=t&&t.assignments_to_post,s=null==s||s===!1?s:s.length,typeof s===a?s.apply(t):s))+'</span> assignments.</h1>\n    <div id="ungraded_count"></div>\n</div>'}),n["gradebook2/post_grades_summary"]}),define("jst/gradebook2/post_grades_needs_grading",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/post_grades_needs_grading"]=t(function(e,t,n,o,i){function s(e,t){var o,i,s,r="";return r+='\n        <tr class="clickableRow" data-url="gradebook/speed_grader?assignment_id=',(i=n.id)?o=i.call(e,{hash:{},data:t}):(i=e&&e.id,o=typeof i===l?i.call(e,{hash:{},data:t}):i),r+=u(o)+'">\n            <td>',(i=n.name)?o=i.call(e,{hash:{},data:t}):(i=e&&e.name,o=typeof i===l?i.call(e,{hash:{},data:t}):i),r+=u(o)+"</td>\n            <td>"+u((i=n.datetimeFormatted||e&&e.datetimeFormatted,s={hash:{},data:t},i?i.call(e,e&&e.due_at,s):d.call(e,"datetimeFormatted",e&&e.due_at,s)))+"</td>\n            <td>",(i=n.needs_grading_count)?o=i.call(e,{hash:{},data:t}):(i=e&&e.needs_grading_count,o=typeof i===l?i.call(e,{hash:{},data:t}):i),r+=u(o)+"</td>\n        </tr>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var r,a="",l="function",u=this.escapeExpression,d=n.helperMissing,c=this;return a+='<div id="needs_grading" >\n    <small><em class="text-left" style="color: #555555">NOTE: Students have submitted work for these assignments that has not been graded. If you post these grades now, you will need to re-post their scores after grading their latest submissions. </em></small>\n    <br><br>\n    <table class="table table-hover table-condensed">\n       <tbody>\n        <thead>\n            <td>Assignment Name</td>\n            <td>Due Date</td>\n            <td>Ungraded Submissions</td>\n        </thead>\n    ',r=n.each.call(t,t&&t.needs_grading,{hash:{},inverse:c.noop,fn:c.program(1,s,i),data:i}),(r||0===r)&&(a+=r),a+="\n        </tbody>\n    </table>\n</div>"}),n["gradebook2/post_grades_needs_grading"]}),define("jst/gradebook2/post_grades_ungraded_count",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/post_grades_ungraded_count"]=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r,a="",l="function",u=this.escapeExpression;return a+='<h4 class="text-left" style="color: #AAAAAA"><a href="#" id="needs-grading">',(r=n.needs_grading_count)?s=r.call(t,{hash:{},data:i}):(r=t&&t.needs_grading_count,s=typeof r===l?r.call(t,{hash:{},data:i}):r),a+=u(s)+" assignments</a> have ungraded submissions.</h4>\n\n"}),n["gradebook2/post_grades_ungraded_count"]}),define("jqueryui/effects/slide",["jquery","jqueryui/effect"],function(e){e.effects.effect.slide=function(t,n){var o,i=e(this),s=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(i,t.mode||"show"),a="show"===r,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l,c={};e.effects.save(i,s),i.show(),o=t.distance||i["top"===u?"outerHeight":"outerWidth"]({margin:!0}),e.effects.createWrapper(i).css({overflow:"hidden"}),a&&i.css(u,d?isNaN(o)?"-"+o:-o:o),c[u]=(a?d?"+=":"-=":d?"-=":"+=")+o,i.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),n()}})}}),function(){define("compiled/jquery/serializeForm",["jquery"],function(e){var t,n,o,i,s,r,a;return a=/^(?:select|textarea)/i,i=/\r?\n/g,r=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week|file)$/i,t=function(){return this.elements?e.makeArray(this.elements):(t=e(this).find(":input"),t.length?t:this)},o=function(){return this.name&&!this.disabled&&(this.checked||a.test(this.nodeName)||r.test(this.type))},s=function(e,t){return"string"==typeof t&&(t=t.replace(i,"\r\n")),{name:e,value:t}},n=function(){var t,n,o,i,r,a;if(t=e(this),o="file"===this.type?t.val()?this:void 0:t.hasClass("datetime_field_enabled")?""===t.val()?null:t.data("date")||null:t.data("rich_text")?t.editorBox("get_code",!1):t.val(),e.isArray(o)){for(a=[],i=0,r=o.length;r>i;i++)n=o[i],a.push(s(this.name,n));
return a}return s(this.name,o)},e.fn.serializeForm=function(){return this.map(t).filter(o).map(n).get()}})}.call(this),define("jquery.toJSON",["jquery","compiled/jquery/serializeForm"],function(e){var t={validate:/^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,key:/[a-zA-Z0-9_]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_]+$/},n=function(e,t,n){return e[t]=n,e};e.fn.toJSON=function(){var o={},i={},s=function(e,t){return void 0===i[e]&&(i[e]=0),void 0===t?i[e]++:void 0!==t&&t>i[e]?i[e]=++t:void 0};return e.each(e(this).serializeForm(),function(){if(t.validate.test(this.name)){for(var i,r=this.name.match(t.key),a=this.value,l=this.name;void 0!==(i=r.pop());)l=l.replace(new RegExp("\\["+i+"\\]$"),""),i.match(t.push)?a=n([],s(l),a):i.match(t.fixed)?(s(l,i),a=n([],i,a)):i.match(t.named)&&(a=n({},i,a));o=e.extend(!0,o,a)}}),o}}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("compiled/gradebook2/PostGradesDialog",["i18n!modules","jquery","underscore","Backbone","timezone","compiled/views/DialogBaseView","jst/gradebook2/post_grades_dialog","jst/gradebook2/post_grades_summary","jst/gradebook2/post_grades_needs_grading","jst/gradebook2/post_grades_ungraded_count","compiled/handlebars_helpers","compiled/jquery.rails_flash_notifications","jqueryui/effects/slide","jquery.instructure_date_and_time","jquery.toJSON"],function(t,o,i,s,r,a,l,u,d,c){var g,h;return g=function(s){function r(){return this.sendGradesToSISApp=e(this.sendGradesToSISApp,this),this.needsGrading=e(this.needsGrading,this),h=r.__super__.constructor.apply(this,arguments)}return n(r,s),r.prototype.initialize=function(e,t,n){var i=this;return r.__super__.initialize.apply(this,arguments),e.bind("change:assignments_to_post",function(){return o(".assignments_to_post_count").html(e.assignments_to_post().length)}),e.bind("change:assignments_with_errors_count",function(){return o(".assignment-error-count").html(e.get("assignments_with_errors_count")),0===i.model.get("assignments_with_errors_count")?(o("#assignment-error-text").hide(),i.saveAssignments(),i.page="postSummary",i.render()):(o("#assignment-error-text").show(),o("#assignment-error-text").addClass("text-error"),o("#assignment-error-text").removeClass("text-info"))}),this.model=e,this.sis_app_url=t,this.sis_app_token=n,this.page=this.model.missing_and_not_unique().length>0?"assignmentErrors":"postSummary"},r.prototype.events={"click #needs-grading":"needsGrading","click .ignore-assignment":"ignoreAssignment","click .clickableRow":"goToUrl"},r.prototype.dialogOptions={id:"post-grades-container",title:t.t("post_grades_dialog_title","Post Grades to SIS"),maxHeight:450,maxWidth:650,minHeight:450,minWidth:650,width:650,height:450,resizable:!1,buttons:[]},r.prototype.initDialog=function(){return r.__super__.initDialog.apply(this,arguments)},r.prototype.render=function(){var e=this;switch(r.__super__.render.apply(this,arguments),this.model.assignments_with_errors_count()>0&&(this.page="assignmentErrors"),this.page){case"assignmentErrors":this.dialog.dialog({buttons:[{text:t.t("#buttons.ignore_all","Ignore All"),"class":"ignore_all",click:function(t){return t.preventDefault,e.model.ignore_all(),e.page="postSummary",e.render()}}]}),this.assignmentErrorsPage();break;case"postSummary":this.dialog.dialog({buttons:[{text:t.t("#button.post","Post Grades"),"class":"post_grades btn-primary",click:function(t){return t.preventDefault,e.postGrades()}}]}),this.postSummaryPage();break;case"needsGrading":this.dialog.dialog({buttons:[{text:t.t("#button.go_back","Go Back"),"class":"go_back",click:function(t){return t.preventDefault,e.page="postSummary",e.render()}}]}),this.needsGradingPage()}return this.datePicker(),this},r.prototype.ignoreAssignment=function(e){var t;return e.preventDefault(),t=""+o(e.target).closest("form").data("assignment-id"),this.model.ignore_assignment(t),o("#assignment-error-"+t).hide()},r.prototype.needsGrading=function(e){return e.preventDefault(),this.page="needsGrading",this.render()},r.prototype.needsGradingPage=function(){return this.$el.html(d({needs_grading:this.model.ungraded_submissions()}))},r.prototype.assignmentErrorsPage=function(){var e;return this.$el.html(l({assignments_to_post:this.model.assignments_to_post(),assignments:this.model.assignment_list(),missing_not_unique:this.model.missing_and_not_unique(),needs_grading:this.model.ungraded_submissions(),needs_grading_count:this.model.ungraded_submissions().length})),e=this,o(".assignment-name",this.$el).change(function(){var t,n,i,s;return n=o(this),t=n.closest(".input-container").prev(),s=n.val(),e.showErrorCircle(t,""===s),i=parseInt(n.closest("form.passback-form").data("assignment-id")),e.model.update_assignment(i,{name:s})})},r.prototype.postSummaryPage=function(){return this.$el.html(u({assignments_to_post:this.model.assignments_to_post(),needs_grading:this.model.ungraded_submissions(),needs_grading_count:this.model.ungraded_submissions().length})),this.postUngraded()},r.prototype.goToUrl=function(e){return e.preventDefault(),window.location=o(e.currentTarget).data("url")},r.prototype.postUngraded=function(){return this.model.ungraded_submissions().length>0?o("#ungraded_count",this.$el).html(c({needs_grading_count:this.model.ungraded_submissions().length})):void 0},r.prototype.showErrorCircle=function(e,t){return null==t&&(t=!0),t?e.addClass("data-circle-error").removeClass("data-circle-clean"):e.addClass("data-circle-clean").removeClass("data-circle-error")},r.prototype.datePicker=function(){var e;return e=this,o(".date_field",this.$el).datetime_field().change(function(){var t,n,i,s,r;return n=o(this),s=n.data("date"),r=!0,null!=s&&(s=o.unfudgeDateForProfileTimezone(s).toISOString(),r=!1),t=n.closest(".input-container").prev(),e.showErrorCircle(t,r),i=parseInt(n.closest("form.passback-form").data("assignment-id")),null!=i?e.model.update_assignment(i,{due_at:s}):o.flashError("Unable to save due date, assignment_id unavailable")})},r.prototype.saveAssignments=function(){var e,t,n,o,i;for(o=this.model.modified_assignments(),i=[],t=0,n=o.length;n>t;t++)e=o[t],i.push(this.saveAssignmentToCanvas(e));return i},r.prototype.saveAssignmentToCanvas=function(e){var t,n;return n="/api/v1/courses/"+this.model.get("course_id")+"/assignments/"+e.id,t={assignment:{name:e.name,due_at:e.due_at}},o.ajax(n,{type:"PUT",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",error:function(){return o.flashError("An error occurred saving assignment ("+e.id+"). HTTP Error "+t.status+" : "+t.statusText)}})},r.prototype.sendGradesToSISApp=function(e,t){return o.ajax(t,{type:"POST",data:JSON.stringify(e),headers:{Authorization:this.sis_app_token},contentType:"application/json; charset=utf-8",error:function(e){return o.flashError("An error occurred posting your grades. HTTP Error "+e.status+" : "+e.statusText)},success:function(){return o.flashMessage("Assignments are being posted.")}})},r.prototype.postGrades=function(){var e,t;return e={},e.canvas_domain=document.location.origin,e.assignments=i.map(this.model.get("assignments_to_post"),function(e){return e.id}),this.model.get("section_id")?(e.section_id=this.model.get("integration_section_id"),t=this.sis_app_url+"/grades/section/"+this.model.get("integration_section_id"),this.sendGradesToSISApp(e,t),this.close()):this.model.get("integration_course_id")?(e.course_id=this.model.get("integration_course_id"),t=this.sis_app_url+"/grades/course/"+this.model.get("integration_course_id"),this.sendGradesToSISApp(e,t),this.close()):(o.flashError("Grades can't be posted because this course or section was not imported from your SIS."),this.close())},r}(a)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("compiled/gradebook2/PostGradesModel",["i18n!modules","jquery","underscore","Backbone"],function(e,n,o,i){var s,r;return s=function(e){function n(){return r=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){return this.ignored_assignment_ids=[]},n.prototype.defaults=function(){return{assignments:{},course_id:null,integration_course_id:null,integration_section_id:null}},n.prototype.assignment_list=function(){return o.values(this.get("assignments"))},n.prototype.assignments_to_post=function(){var e,t=this;return e=function(e){return o.contains(t.ignored_assignment_ids,e.id)},o.reject(this.assignment_list(),e)},n.prototype.assignment_count=function(){return o.size(this.get("assignments"))},n.prototype.update_assignment=function(e,t){var n;return n=this.get("assignments")[e],n.modified=!0,o.extend(n,t),this.update_bound_attributes()},n.prototype.modified_assignments=function(){return o.filter(this.get("assignments"),function(e){return null!=e.modified})},n.prototype.assignments_with_errors_count=function(){return this.missing_and_not_unique().length-this.ignored_assignment_ids.length},n.prototype.update_bound_attributes=function(){return this.set({assignments_to_post:this.assignments_to_post()}),this.set({assignments_with_errors_count:this.assignments_with_errors_count()})},n.prototype.ignore_assignment=function(e){return this.ignored_assignment_ids.push(e),this.update_bound_attributes()},n.prototype.ignore_all=function(){return this.ignored_assignment_ids=o.map(this.missing_and_not_unique(),function(e){return e.id}),this.update_bound_attributes()},n.prototype.reset_ignored_assignments=function(){return this.ignored_assignment_ids=[],this.update_bound_attributes()},n.prototype.course_id=function(){return this.get("course_id")},n.prototype.integration_course_id=function(){return this.get("integration_course_id")},n.prototype.integration_section_id=function(){return this.get("integration_section_id")},n.prototype.not_unique_assignments=function(){var e,t;return t=function(e){return e.length>1},e=function(e){return o.extend({},e,{not_unique:!0})},o.chain(this.assignment_list()).groupBy("name").filter(t).flatten().map(e).value()},n.prototype.missing_due_date=function(){var e;return e=o.chain(this.assignment_list()).filter(function(e){return!e.due_at}).flatten().value()},n.prototype.missing_and_not_unique=function(){var e,t,n,i,s,r=this;return t=function(e){return e.id},i=o.map(this.missing_due_date(),t),s=o.map(this.not_unique_assignments,t),n=o.union(i,s),e=function(e){return o.find(r.assignment_list(),function(t){return e===t.id})},o.map(n,e)},n.prototype.ungraded_submissions=function(){return o.filter(this.assignment_list(),function(e){return e.needs_grading_count>0})},n}(i.Model)})}.call(this),define("translations/gradebook2.column_header",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{column_header:{assignment_options:"خيارات التعيين",points_out_of:"من %{assignment.points_possible}",this_assignment_is_muted:"تم إخفاء درجة هذا التعيين",zero_point_assignment:"المهام في هذه المجموعة ليس بها نقاط ممكنة ولا يمكن تضمينها في حساب الدرجات"}}},de:{gradebook2:{column_header:{assignment_options:"Aufgabenoptionen",points_out_of:"Von insgesamt %{assignment.points_possible}",this_assignment_is_muted:"Die Aufgabe ist stummgeschaltet",zero_point_assignment:"Für die Aufgaben in dieser Gruppe können keine Punkte vergeben werden, und sie können bei der Notenberechnung nicht berücksichtig werden"}}},"en-AU":{gradebook2:{column_header:{assignment_options:"Assignment Options",points_out_of:"Out of %{assignment.points_possible}",this_assignment_is_muted:"This assignment is muted",zero_point_assignment:"Assignments in this group have no points possible and cannot be included in grade calculation"}}},"en-GB":{gradebook2:{column_header:{assignment_options:"Assignment options",points_out_of:"Out of %{assignment.points_possible}",this_assignment_is_muted:"This assignment is muted",zero_point_assignment:"Assignments in this group have no points possible and cannot be included in grade calculation"}}},es:{gradebook2:{column_header:{assignment_options:"Opciones de tarea",points_out_of:"De %{assignment.points_possible}",this_assignment_is_muted:"Esta tarea está silenciada",zero_point_assignment:"Las tareas de este grupo no se pueden evaluar, por lo que no se pueden incluir en el cálculo de las calificaciones"}}},"fa-IR":{gradebook2:{column_header:{assignment_options:"گزینه های تکلیف",points_out_of:"از %{assignment.points_possible}",this_assignment_is_muted:"این تکلیف غیر فعال شده است",zero_point_assignment:"تکلیف های موجود در این گروه هیچ امتیاز ممکن ندارند و نمی توانند در محاسبه نمره لحاظ شوند"}}},fr:{gradebook2:{column_header:{assignment_options:"Options de la tâche",points_out_of:"Sur %{assignment.points_possible}",this_assignment_is_muted:"Cette tâche est silencieuse",zero_point_assignment:"Les tâches de ce groupe ne peuvent pas avoir de points et elles ne peuvent pas être incluses dans le calcul de la note."}}},ja:{gradebook2:{column_header:{assignment_options:"課題のオプション",points_out_of:"配点: %{assignment.points_possible}",this_assignment_is_muted:"この課題はミュートになっています",zero_point_assignment:"このグループの課題には配点がないので、採点の計算に含めることはできません"}}},nb:{gradebook2:{column_header:{assignment_options:"Oppgavevalg",points_out_of:"Utenfor %{assignment.points_possible}",this_assignment_is_muted:"Denne oppgaven er satt til passiv",zero_point_assignment:"Oppgaver i denne gruppen gir ingen poeng og kan ikke inkluderes i beregning av karakter"}}},nl:{gradebook2:{column_header:{assignment_options:"Opdrachtopties",points_out_of:"Van %{assignment.points_possible}",this_assignment_is_muted:"Deze opdracht is onzichtbaar",zero_point_assignment:"Met opdrachten in deze groep kunnen geen punten behaald worden en worden  in de cijferberekening niet meegenomen"}}},pl:{gradebook2:{column_header:{assignment_options:"Opcje zadania",points_out_of:"Na %{assignment.points_possible} możliwych",this_assignment_is_muted:"To zadanie jest wyłączone",zero_point_assignment:"Zadania w tej grupie nie mają przydzielonych punktów i nie można ich uwzględniać w obliczeniach ocen"}}},pt:{gradebook2:{column_header:{assignment_options:"Opções de tarefa",points_out_of:"em %{assignment.points_possible}",this_assignment_is_muted:"Esta tarefa está desativada",zero_point_assignment:"As tarefas incluídas neste grupo não têm pontos possíveis e não podem ser incluídas no cálculo das notas"}}},"pt-BR":{gradebook2:{column_header:{assignment_options:"Opções de tarefa",points_out_of:"De %{assignment.points_possible}",this_assignment_is_muted:"A tarefa está silenciada",zero_point_assignment:"As tarefas neste grupo não têm pontos possíveis e não podem ser incluídas no cáluco de notas"}}},ru:{gradebook2:{column_header:{assignment_options:"Опции задания",points_out_of:"Из %{assignment.points_possible}",this_assignment_is_muted:"Звук данного задания отключен",zero_point_assignment:"Задания в этой группе не имеют возможных баллов и не могут учитываться в расчете оценки"}}},tr:{gradebook2:{column_header:{assignment_options:"Ödev Seçenekleri",points_out_of:"%{assignment.points_possible} üzerinden",this_assignment_is_muted:"Bu ödev bekletiliyor",zero_point_assignment:"Bu gruptaki ödevlerin olası puanları yok ve not hesaplamasına dahil edilemezler"}}},zh:{gradebook2:{column_header:{assignment_options:"作业可选功能",points_out_of:"满分 %{assignment.points_possible} 分",this_assignment_is_muted:"作业已屏蔽",zero_point_assignment:"此小组中的作业没有可能的得分，不能包括在评分计算中"}}},zh_Hant:{gradebook2:{column_header:{assignment_options:"任務選項",points_out_of:"超出 %{assignment.points_possible}",this_assignment_is_muted:"此任務已靜音",zero_point_assignment:"此群組中的任務無可能的點，無法包含在成績計算中"}}}}})}),define("jst/gradebook2/column_header",["compiled/handlebars_helpers","i18n!gradebook2.column_header"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/column_header"]=t(function(e,t,n,o,i){function s(e,t){var o,i,s,r="";return r+='\n    title="',i=n.t||e&&e.t,s={hash:{scope:"gradebook2.column_header"},data:t},o=i?i.call(e,"this_assignment_is_muted","This assignment is muted",s):m.call(e,"t","this_assignment_is_muted","This assignment is muted",s),(o||0===o)&&(r+=o),r+='"\n  '}function r(e,t){var o,i,s,r="";return r+='\n    title="',i=n.t||e&&e.t,s={hash:{scope:"gradebook2.column_header"},data:t},o=i?i.call(e,"zero_point_assignment","Assignments in this group have no points possible and cannot be included in grade calculation",s):m.call(e,"t","zero_point_assignment","Assignments in this group have no points possible and cannot be included in grade calculation",s),(o||0===o)&&(r+=o),r+='"\n  '}function a(){return"muted"}function l(){return'\n    <i class="icon-warning"></i>\n  '}function u(e,t){var o,i,s,r="";return r+="\n  <div class='assignment-points-possible'>\n    ",i=n.t||e&&e.t,s={hash:{scope:"gradebook2.column_header"},data:t},o=i?i.call(e,"points_out_of","Out of %{assignment.points_possible}",s):m.call(e,"t","points_out_of","Out of %{assignment.points_possible}",s),(o||0===o)&&(r+=o),r+="\n  </div>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var d,c,g,h="",m=n.helperMissing,p=this,_="function",f=this.escapeExpression;return h+="<a\n  ",d=n["if"].call(t,(d=t&&t.assignment,null==d||d===!1?d:d.muted),{hash:{},inverse:p.noop,fn:p.program(1,s,i),data:i}),(d||0===d)&&(h+=d),h+="\n  ",d=n["if"].call(t,(d=t&&t.assignment,null==d||d===!1?d:d.invalid),{hash:{},inverse:p.noop,fn:p.program(3,r,i),data:i}),(d||0===d)&&(h+=d),h+='\n  class="assignment-name ',d=n["if"].call(t,(d=t&&t.assignment,null==d||d===!1?d:d.muted),{hash:{},inverse:p.noop,fn:p.program(5,a,i),data:i}),(d||0===d)&&(h+=d),h+='"\n  href="',(c=n.href)?d=c.call(t,{hash:{},data:i}):(c=t&&t.href,d=typeof c===_?c.call(t,{hash:{},data:i}):c),h+=f(d)+'"\n>\n  ',d=n["if"].call(t,(d=t&&t.assignment,null==d||d===!1?d:d.invalid),{hash:{},inverse:p.noop,fn:p.program(7,l,i),data:i}),(d||0===d)&&(h+=d),h+="\n  ",d=t&&t.assignment,d=null==d||d===!1?d:d.name,d=typeof d===_?d.apply(t):d,(d||0===d)&&(h+=d),h+='\n</a>\n<a class="gradebook-header-drop assignment_header_drop" data-assignment-id="'+f((d=t&&t.assignment,d=null==d||d===!1?d:d.id,typeof d===_?d.apply(t):d))+'" href="#" role="button">\n  ',c=n.t||t&&t.t,g={hash:{scope:"gradebook2.column_header"},data:i},d=c?c.call(t,"assignment_options","Assignment Options",g):m.call(t,"t","assignment_options","Assignment Options",g),(d||0===d)&&(h+=d),h+="\n</a>\n",d=n["if"].call(t,t&&t.showPointsPossible,{hash:{},inverse:p.noop,fn:p.program(9,u,i),data:i}),(d||0===d)&&(h+=d),h+="\n"}),n["gradebook2/column_header"]}),define("jst/gradebook2/group_total_cell",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/group_total_cell"]=t(function(e,t,n,o,i){function s(e,t){var o,i="";return i+='\n    <div class="gradebook-tooltip ',o=n["if"].call(e,e&&e.lastColumn,{hash:{},inverse:C.noop,fn:C.program(2,r,t),data:t}),(o||0===o)&&(i+=o),i+='">\n      ',o=n["if"].call(e,e&&e.warning,{hash:{},inverse:C.program(6,l,t),fn:C.program(4,a,t),data:t}),(o||0===o)&&(i+=o),i+="\n    </div>\n  "}function r(){return"gradebook-tooltip-last"}function a(e,t){var o,i,s="";return s+="\n        ",(i=n.warning)?o=i.call(e,{hash:{},data:t}):(i=e&&e.warning,o=typeof i===w?i.call(e,{hash:{},data:t}):i),s+=k(o)+"\n      "}function l(e,t){var o,i="";return i+="\n        ",o=n.unless.call(e,e&&e.showPointsNotPercent,{hash:{},inverse:C.program(9,d,t),fn:C.program(7,u,t),data:t}),(o||0===o)&&(i+=o),i+="\n      "}function u(e,t){var o,i,s="";return s+="\n          ",(i=n.score)?o=i.call(e,{hash:{},data:t}):(i=e&&e.score,o=typeof i===w?i.call(e,{hash:{},data:t}):i),s+=k(o)+" / ",(i=n.possible)?o=i.call(e,{hash:{},data:t}):(i=e&&e.possible,o=typeof i===w?i.call(e,{hash:{},data:t}):i),s+=k(o)+"\n        "}function d(e,t){var o,i="";return i+="\n          ",o=n["if"].call(e,e&&e.possible,{hash:{},inverse:C.program(12,g,t),fn:C.program(10,c,t),data:t}),(o||0===o)&&(i+=o),i+="\n        "}function c(e,t){var o,i,s="";return s+="\n            ",(i=n.percentage)?o=i.call(e,{hash:{},data:t}):(i=e&&e.percentage,o=typeof i===w?i.call(e,{hash:{},data:t}):i),s+=k(o)+"%\n          "}function g(){return"\n            -\n          "}function h(){return'\n      <i class="icon-warning final-warning"></i>\n    '}function m(e,t){var o,i,s="";return s+="\n      ",(i=n.score)?o=i.call(e,{hash:{},data:t}):(i=e&&e.score,o=typeof i===w?i.call(e,{hash:{},data:t}):i),s+=k(o)+"\n    "}function p(e,t){var o,i="";return i+="\n      ",o=n["if"].call(e,e&&e.possible,{hash:{},inverse:C.program(21,f,t),fn:C.program(19,_,t),data:t}),(o||0===o)&&(i+=o),i+="\n    "}function _(e,t){var o,i,s="";return s+="\n        ",(i=n.percentage)?o=i.call(e,{hash:{},data:t}):(i=e&&e.percentage,o=typeof i===w?i.call(e,{hash:{},data:t}):i),s+=k(o)+"%\n      "}function f(){return"\n        -\n      "}function v(e,t){var o,i,s="";return s+="\n    <span class='letter-grade-points'>",(i=n.letterGrade)?o=i.call(e,{hash:{},data:t}):(i=e&&e.letterGrade,o=typeof i===w?i.call(e,{hash:{},data:t}):i),s+=k(o)+"</span>\n  "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var b,y="",w="function",k=this.escapeExpression,C=this;return y+='<div class="gradebook-cell">\n  ',b=n.unless.call(t,t&&t.hideTooltip,{hash:{},inverse:C.noop,fn:C.program(1,s,i),data:i}),(b||0===b)&&(y+=b),y+='\n  <span class="percentage">\n    ',b=n["if"].call(t,t&&t.warning,{hash:{},inverse:C.noop,fn:C.program(14,h,i),data:i}),(b||0===b)&&(y+=b),y+="\n\n    ",b=n["if"].call(t,t&&t.showPointsNotPercent,{hash:{},inverse:C.program(18,p,i),fn:C.program(16,m,i),data:i}),(b||0===b)&&(y+=b),y+="\n  </span>\n   ",b=n["if"].call(t,t&&t.letterGrade,{hash:{},inverse:C.noop,fn:C.program(23,v,i),data:i}),(b||0===b)&&(y+=b),y+="\n</div>\n"}),n["gradebook2/group_total_cell"]}),define("translations/gradebook2.row_student_name",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{row_student_name:{student_placeholder:"الطالب"}}},de:{gradebook2:{row_student_name:{student_placeholder:"Student"}}},"en-AU":{gradebook2:{row_student_name:{student_placeholder:"Student"}}},"en-GB":{gradebook2:{row_student_name:{student_placeholder:"Student"}}},es:{gradebook2:{row_student_name:{student_placeholder:"Estudiante"}}},"fa-IR":{gradebook2:{row_student_name:{student_placeholder:"دانشجو"}}},fr:{gradebook2:{row_student_name:{student_placeholder:"Étudiant"}}},ja:{gradebook2:{row_student_name:{student_placeholder:"受講生"}}},nb:{gradebook2:{row_student_name:{student_placeholder:"Student"}}},nl:{gradebook2:{row_student_name:{student_placeholder:"Cursist"}}},pl:{gradebook2:{row_student_name:{student_placeholder:"Uczestnik"}}},pt:{gradebook2:{row_student_name:{student_placeholder:"Aluno"}}},"pt-BR":{gradebook2:{row_student_name:{student_placeholder:"Aluno"}}},ru:{gradebook2:{row_student_name:{student_placeholder:"Студент"}}},tr:{gradebook2:{row_student_name:{student_placeholder:"Öğrenci"}}},zh:{gradebook2:{row_student_name:{student_placeholder:"学生"}}},zh_Hant:{gradebook2:{row_student_name:{student_placeholder:"學生"}}}}})}),define("jst/gradebook2/row_student_name",["compiled/handlebars_helpers","i18n!gradebook2.row_student_name","jst/_avatar"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/row_student_name"]=t(function(e,t,n,o,i){function s(e,t){var o,i,s="";return s+="\n  <div class='student-section'>",(i=n.sectionNames)?o=i.call(e,{hash:{},data:t}):(i=e&&e.sectionNames,o=typeof i===d?i.call(e,{hash:{},data:t}):i),(o||0===o)&&(s+=o),s+="</div>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=this.merge(o,e.partials),i=i||{};var r,a,l,u="",d="function",c=this,g=this.escapeExpression,h=n.helperMissing;return r=c.invokePartial(o.avatar,"avatar",t,n,o,i),(r||0===r)&&(u+=r),u+="\n<div class='student-name'><a class='student-grades-link' href=\"",(a=n.url)?r=a.call(t,{hash:{},data:i}):(a=t&&t.url,r=typeof a===d?a.call(t,{hash:{},data:i}):a),u+=g(r)+'">',(a=n.display_name)?r=a.call(t,{hash:{},data:i}):(a=t&&t.display_name,r=typeof a===d?a.call(t,{hash:{},data:i}):a),(r||0===r)&&(u+=r),u+='</a></div>\n<div class="student-placeholder">\n  ',a=n.t||t&&t.t,l={hash:{scope:"gradebook2.row_student_name"},data:i},r=a?a.call(t,"student_placeholder","Student",l):h.call(t,"t","student_placeholder","Student",l),(r||0===r)&&(u+=r),u+="\n</div>\n",r=n["if"].call(t,t&&t.sectionNames,{hash:{},inverse:c.noop,fn:c.program(1,s,i),data:i}),(r||0===r)&&(u+=r),u+="\n"}),n["gradebook2/row_student_name"]}),define("translations/gradebook2.section_to_show_menu",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"اختيار قسم لعرضه",showing_sections:"جارٍ عرض *%{currentSection}*"}}},de:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Wählen Sie einen Kursabschnitt aus, der angezeigt werden soll",showing_sections:"*%{currentSection}* wird angezeigt"}}},"en-AU":{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Choose a section to show",showing_sections:"Showing *%{currentSection}*"}}},"en-GB":{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Choose a section to show",showing_sections:"Showing *%{currentSection}*"}}},es:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Elija una sección para mostrarla",showing_sections:"Mostrando *%{currentSection}*"}}},"fa-IR":{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"انتخاب یک بخش برای نمایش",showing_sections:"نمایش *%{currentSection}*"}}},fr:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Choisir une section à afficher",showing_sections:"Afficher *%{currentSection}*"}}},ja:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"表示するセクションを選択",showing_sections:"*%{currentSection}* の表示"}}},nb:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Velg en klasse å vise",showing_sections:"Viser *%{currentSection}*"}}},nl:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Een sectie kiezen om te tonen",showing_sections:"*%{currentSection}* tonen"}}},pl:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Wybierz sekcję, którą chcesz wyświetlić",showing_sections:"Wyświetlanie sekcji *%{currentSection}*"}}},pt:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Escolher uma seção para exibir",showing_sections:"A mostrar *%{currentSection}*"}}},"pt-BR":{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Escolher uma seção para exibir",showing_sections:"Exibindo *%{currentSection}*"}}},ru:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Выберите раздел для отображения",showing_sections:"Отображение *%{currentSection}*"}}},tr:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Gösterilecek bir bölüm seçin",showing_sections:"*%{currentSection}* Gösteriliyor"}}},zh:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"选择要显示的班级",showing_sections:"显示 *%{currentSection}*"}}},zh_Hant:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"選擇要顯示的章節",showing_sections:"顯示 *%{currentSection}*"}}}}})}),define("jst/gradebook2/section_to_show_menu",["compiled/handlebars_helpers","i18n!gradebook2.section_to_show_menu"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/section_to_show_menu"]=t(function(e,t,n,o,i){function s(e,t){var o,i,s="";return s+='\n    <li>\n      <a href="#">\n        <label for="section_option_',(i=n.id)?o=i.call(e,{hash:{},data:t}):(i=e&&e.id,o=typeof i===c?i.call(e,{hash:{},data:t}):i),s+=g(o)+'">',(i=n.name)?o=i.call(e,{hash:{},data:t}):(i=e&&e.name,o=typeof i===c?i.call(e,{hash:{},data:t}):i),(o||0===o)&&(s+=o),s+='</label>\n        <input id="section_option_',(i=n.id)?o=i.call(e,{hash:{},data:t}):(i=e&&e.id,o=typeof i===c?i.call(e,{hash:{},data:t}):i),s+=g(o)+'" type="radio" value="',(i=n.id)?o=i.call(e,{hash:{},data:t}):(i=e&&e.id,o=typeof i===c?i.call(e,{hash:{},data:t}):i),s+=g(o)+'" name="section_to_show_radio" ',o=n["if"].call(e,e&&e.checked,{hash:{},inverse:h.noop,fn:h.program(2,r,t),data:t}),(o||0===o)&&(s+=o),s+=" />\n      </a>\n    </li>\n  "}function r(){return" checked "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,l,u,d="",c="function",g=this.escapeExpression,h=this,m=n.helperMissing;return d+='<button type="button" class="section-select-button">\n  ',l=n.t||t&&t.t,u={hash:{scope:"gradebook2.section_to_show_menu",w0:'<span class="selected-section">$1</span>'},data:i},a=l?l.call(t,"showing_sections","Showing *%{currentSection}*",u):m.call(t,"t","showing_sections","Showing *%{currentSection}*",u),(a||0===a)&&(d+=a),d+='\n</button>\n\n<ul class="section-select-menu" id="section-to-show-menu">\n  <li>',l=n.t||t&&t.t,u={hash:{scope:"gradebook2.section_to_show_menu"},data:i},a=l?l.call(t,"choose_a_section_to_show","Choose a section to show",u):m.call(t,"t","choose_a_section_to_show","Choose a section to show",u),(a||0===a)&&(d+=a),d+="</li>\n  ",a=n.each.call(t,t&&t.sections,{hash:{},inverse:h.noop,fn:h.program(1,s,i),data:i}),(a||0===a)&&(d+=a),d+="\n</ul>\n"}),n["gradebook2/section_to_show_menu"]}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("compiled/views/gradebook/SectionMenuView",["i18n!gradebook2","jquery","underscore","Backbone","jst/gradebook2/section_to_show_menu","compiled/jquery.kylemenu","vendor/jquery.ba-tinypubsub"],function(t,o,i,s,r){var a,l;return l=s.View,a=function(s){function a(t){this.onSectionChange=e(this.onSectionChange,this),a.__super__.constructor.apply(this,arguments),this.sections.unshift({name:this.defaultSection,checked:!t.currentSection})}return n(a,s),a.optionProperty("sections"),a.optionProperty("currentSection"),a.prototype.template=r,a.prototype.defaultSection=t.t("all_sections","All Sections"),a.prototype.render=function(){return this.detachEvents(),a.__super__.render.apply(this,arguments),this.$("button").kyleMenu(),this.attachEvents()},a.prototype.detachEvents=function(){return o.unsubscribe("currentSection/change",this.onSectionChange),this.$(".section-select-menu").off("menuselect")},a.prototype.attachEvents=function(){var e=this;return o.subscribe("currentSection/change",this.onSectionChange),this.$(".section-select-menu").on("click",function(e){return e.preventDefault()}),this.$(".section-select-menu").on("menuselect",function(t,n){var i;return i=e.$("[aria-checked=true] input[name=section_to_show_radio]").val()||void 0,o.publish("currentSection/change",[i,e.cid]),e.trigger("menuselect",t,n,e.currentSection)})},a.prototype.onSectionChange=function(e){return this.currentSection=e,this.updateSections(),this.render()},a.prototype.updateSections=function(){var e=this;return i.map(this.sections,function(t){return t.checked=t.id===e.currentSection,t})},a.prototype.toJSON=function(){var e;return{sections:this.sections,currentSection:(null!=(e=i.findWhere(this.sections,{id:this.currentSection}))?e.name:void 0)||this.defaultSection}},a}(l)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/gradebook2/GradebookKeyboardNav",["i18n!gradebook2","compiled/gradebook2/GRADEBOOK_TRANSLATIONS","jquery.keycodes"],function(t){var n;return n=function(){function n(t,n){this.slickGrid=t,this.$grid=n,this.showToolTip=e(this.showToolTip,this),this.showCommentDialog=e(this.showCommentDialog,this),this.gotoAssignment=e(this.gotoAssignment,this),this.showAssignmentMenu=e(this.showAssignmentMenu,this),this.sortOnHeader=e(this.sortOnHeader,this),this.getHeaderFromActiveCell=e(this.getHeaderFromActiveCell,this)}return n.prototype.init=function(){var e,t,n,o,i;for(o=this.keyBindings,i=[],t=0,n=o.length;n>t;t++)e=o[t],i.push(null!=e.handler&&null!=e.key&&null!=this[e.handler]?this.$grid.keycodes(e.key,this[e.handler]):void 0);
return i},n.prototype.getHeaderFromActiveCell=function(){var e;return e=this.slickGrid.getActiveCell(),this.$grid.find(".slick-header-column").eq(e.cell)},n.prototype.sortOnHeader=function(){return this.getHeaderFromActiveCell().click()},n.prototype.showAssignmentMenu=function(){return this.getHeaderFromActiveCell().find(".gradebook-header-drop").click(),$(".gradebook-header-menu:visible").focus()},n.prototype.gotoAssignment=function(){var e;return e=this.getHeaderFromActiveCell().find(".assignment-name").attr("href"),window.location=e},n.prototype.showCommentDialog=function(){return $(this.slickGrid.getActiveCellNode()).find(".gradebook-cell-comment").click()},n.prototype.showToolTip=function(){var e;return e=$(this.slickGrid.getActiveCellNode()),"0px"===e.parent().css("top")?e.find("div.gradebook-tooltip").addClass("first-row"):e.find("div.gradebook-tooltip").removeClass("first-row"),e.toggleClass("hover")},n.prototype.keyBindings=[{handler:"sortOnHeader",key:t.t("keycodes.sort","s"),desc:t.t("keyboard_sort_desc","Sort the grid on the current active column")},{handler:"showAssignmentMenu",key:t.t("keycodes.menu","m"),desc:t.t("keyboard_menu_desc","Open the menu for active column's assignment")},{key:t.t("keycodes.close_menu","esc"),desc:t.t("keyboard_close_menu","Close the currently active assignment menu")},{handler:"gotoAssignment",key:t.t("keycodes.goto_assignment","g"),desc:t.t("keyboard_assignment_desc","Go to the current assignment's detail page")},{handler:"showCommentDialog",key:t.t("keycodes.comment","c"),desc:t.t("keyboard_comment_desc","Comment on the active submission")},{handler:"showToolTip",key:t.t("keycodes.tooltip","t"),desc:t.t("keyboard_tooltip_desc","Show the submission type of the active submission")}],n}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=[].slice,n=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};define("compiled/gradebook2/Gradebook",["slickgrid.long_text_editor","compiled/views/KeyboardNavDialog","jst/KeyboardNavDialog","vendor/slickgrid","compiled/gradebook2/TotalColumnHeaderView","compiled/util/round","compiled/views/InputFilterView","i18n!gradebook2","compiled/gradebook2/GRADEBOOK_TRANSLATIONS","jquery","underscore","Backbone","timezone","compiled/grade_calculator","compiled/userSettings","vendor/spin","compiled/SubmissionDetailsDialog","compiled/gradebook2/AssignmentGroupWeightsDialog","compiled/gradebook2/GradeDisplayWarningDialog","compiled/gradebook2/SubmissionCell","compiled/gradebook2/GradebookHeaderMenu","compiled/util/NumberCompare","str/htmlEscape","compiled/gradebook2/UploadDialog","compiled/gradebook2/PostGradesDialog","compiled/gradebook2/PostGradesModel","jst/gradebook2/column_header","jst/gradebook2/group_total_cell","jst/gradebook2/row_student_name","compiled/views/gradebook/SectionMenuView","compiled/gradebook2/GradebookKeyboardNav","jst/_avatar","jquery.ajaxJSON","jquery.instructure_date_and_time","jqueryui/dialog","jquery.instructure_misc_helpers","jquery.instructure_misc_plugins","vendor/jquery.ba-tinypubsub","jqueryui/mouse","jqueryui/position","jqueryui/sortable","compiled/jquery.kylemenu","compiled/jquery/fixDialogButtons"],function(o,i,s,r,a,l,u,d,c,g,h,m,p,_,f,v,b,y,w,k,C,x,S,z,M,T,A,E,R,N,j){var D;return D=function(){function m(n){var o,i,s,r=this;this.options=n,this.setAssignmentWarnings=e(this.setAssignmentWarnings,this),this.gradeSort=e(this.gradeSort,this),this.localeSort=e(this.localeSort,this),this.onCellChange=e(this.onCellChange,this),this.onBeforeEditCell=e(this.onBeforeEditCell,this),this.initGrid=e(this.initGrid,this),this.onUserFilterInput=e(this.onUserFilterInput,this),this.togglePointsOrPercentTotals=e(this.togglePointsOrPercentTotals,this),this.switch_total_display_and_mark_user_as_warned=e(this.switch_total_display_and_mark_user_as_warned,this),this.switch_total_display=e(this.switch_total_display,this),this.displayPointTotals=e(this.displayPointTotals,this),this.weightedGroups=e(this.weightedGroups,this),this.studentNamesToggle=e(this.studentNamesToggle,this),this.initHeader=e(this.initHeader,this),this.displayPostGradesButton=e(this.displayPostGradesButton,this),this.updateCurrentSection=e(this.updateCurrentSection,this),this.onGridBlur=e(this.onGridBlur,this),this.hoverMinimizedCell=e(this.hoverMinimizedCell,this),this.unminimizeColumn=e(this.unminimizeColumn,this),this.minimizeColumn=e(this.minimizeColumn,this),this.fixColumnReordering=e(this.fixColumnReordering,this),this.unhighlightColumns=e(this.unhighlightColumns,this),this.highlightColumn=e(this.highlightColumn,this),this.calculateStudentGrade=e(this.calculateStudentGrade,this),this.htmlContentFormatter=e(this.htmlContentFormatter,this),this.groupTotalFormatter=e(this.groupTotalFormatter,this),this.uneditableCellFormatter=e(this.uneditableCellFormatter,this),this.staticCellFormatter=e(this.staticCellFormatter,this),this.cellFormatter=e(this.cellFormatter,this),this.updateSubmissionsFromExternal=e(this.updateSubmissionsFromExternal,this),this.updateSubmission=e(this.updateSubmission,this),this.withAllStudents=e(this.withAllStudents,this),this.student=e(this.student,this),this.gotSubmissionsChunk=e(this.gotSubmissionsChunk,this),this.getSubmissionsChunks=e(this.getSubmissionsChunks,this),this.buildRows=e(this.buildRows,this),this.assignmentGroupHtml=e(this.assignmentGroupHtml,this),this.moveTotalColumn=e(this.moveTotalColumn,this),this.renderTotalHeader=e(this.renderTotalHeader,this),this.handleAssignmentGroupWeightChange=e(this.handleAssignmentGroupWeightChange,this),this.handleAssignmentMutingChange=e(this.handleAssignmentMutingChange,this),this.rowFilter=e(this.rowFilter,this),this.wrapColumnSortFn=e(this.wrapColumnSortFn,this),this.makeCompareAssignmentCustomOrderFn=e(this.makeCompareAssignmentCustomOrderFn,this),this.compareAssignmentDueDates=e(this.compareAssignmentDueDates,this),this.compareAssignmentPositions=e(this.compareAssignmentPositions,this),this.makeColumnSortFn=e(this.makeColumnSortFn,this),this.arrangeColumnsBy=e(this.arrangeColumnsBy,this),this.setArrangementTogglersVisibility=e(this.setArrangementTogglersVisibility,this),this.storeCustomColumnOrder=e(this.storeCustomColumnOrder,this),this.onColumnsReordered=e(this.onColumnsReordered,this),this.setStoredSortOrder=e(this.setStoredSortOrder,this),this.getStoredSortOrder=e(this.getStoredSortOrder,this),this.studentsThatCanSeeAssignment=e(this.studentsThatCanSeeAssignment,this),this.gotChunkOfStudents=e(this.gotChunkOfStudents,this),this.gotSections=e(this.gotSections,this),this.gotAssignmentGroups=e(this.gotAssignmentGroups,this),this.doSlickgridStuff=e(this.doSlickgridStuff,this),this.chunk_start=0,this.students={},this.studentViewStudents={},this.rows=[],this.assignmentsToHide=f.contextGet("hidden_columns")||[],this.sectionToShow=f.contextGet("grading_show_only_section"),this.sectionToShow=this.sectionToShow&&String(this.sectionToShow),this.show_attendance=f.contextGet("show_attendance"),this.include_ungraded_assignments=f.contextGet("include_ungraded_assignments"),this.userFilterRemovedRows=[],this.show_concluded_enrollments=f.contextGet("show_concluded_enrollments"),this.options.course_is_concluded&&(this.show_concluded_enrollments=!0),this.totalColumnInFront=f.contextGet("total_column_in_front"),this.numberOfFrozenCols=this.totalColumnInFront?3:2,g.subscribe("assignment_group_weights_changed",this.handleAssignmentGroupWeightChange),g.subscribe("assignment_muting_toggled",this.handleAssignmentMutingChange),g.subscribe("submissions_updated",this.updateSubmissionsFromExternal),g.subscribe("currentSection/change",this.updateCurrentSection),o=this.show_concluded_enrollments?"students_url_with_concluded_enrollments":"students_url",i=g.Deferred().done(function(){return r.gotAllStudents()}),this.alignCoursePreferencesWithLocalStorage(),g.when(g.ajaxJSON(this.options[o],"GET"),g.ajaxJSON(this.options.assignment_groups_url,"GET",{},this.gotAssignmentGroups),g.ajaxJSON(this.options.sections_url,"GET",{},this.gotSections)).then(function(e){var n,s,a,l,u,d,c,h,m;return h=e[0],c=e[1],m=e[2],r.gotChunkOfStudents(h),d=m.getResponseHeader("Link"),a=d.match(/<[^>]+>; *rel="last"/),null==a?void i.resolve():(l=a[0].match(/page=(\d+)/)[1],l=parseInt(l,10),1===l?void i.resolve():(s=function(e){return g.ajaxJSON(r.options[o],"GET",{page:e})},n=function(){var e,t;for(t=[],u=e=2;l>=2?l>=e:e>=l;u=l>=2?++e:--e)t.push(s(u));return t}(),g.when.apply(g,n).then(function(){var e,o,s,a,l,u;if(e=1<=arguments.length?t.call(arguments,0):[],1===n.length)r.gotChunkOfStudents(e[0]);else for(a=0,l=e.length;l>a;a++)u=e[a],h=u[0],o=u[1],s=u[2],r.gotChunkOfStudents(h);return i.resolve()})))}),s=this.getCustomColumns(),this.gotAllData=g.when(s,i),this.allSubmissionsLoaded.done(function(){var e,t,n,o,i;for(i=r.customColumns,n=0,o=i.length;o>n;n++)e=i[n],t=r.options.custom_column_data_url.replace(/:id/,e.id),r.getCustomColumnData(e.id);return ENV.GRADEBOOK_OPTIONS.differentiated_assignments_enabled?r.assignment_visibility():void 0}),this.showCustomColumnDropdownOption()}var D,P;return P={assignment:{min:10,default_max:200,max:400},assignmentGroup:{min:35,default_max:200,max:400},total:{min:85,max:100}},D=2,m.prototype.hasSections=g.Deferred(),m.prototype.allSubmissionsLoaded=g.Deferred(),m.prototype.assignment_visibility=function(){var e,t,n,o,i,s,r;t=h.keys(this.students),s=this.assignments,r=[];for(n in s)e=s[n],e.only_visible_to_overrides?(o=this.hiddenStudentIdsForAssignment(t,e),r.push(function(){var e,t,s;for(s=[],e=0,t=o.length;t>e;e++)i=o[e],s.push(this.updateSubmission({assignment_id:n,user_id:i,hidden:!0}));return s}.call(this))):r.push(void 0);return r},m.prototype.hiddenStudentIdsForAssignment=function(e,t){return h.difference(e,t.assignment_visibility.map(String))},m.prototype.onShow=function(){return this.startedInitializing?void 0:(this.startedInitializing=!0,this.spinner||(this.spinner=new v),g(this.spinner.spin().el).css({opacity:.5,top:"55px",left:"50%"}).addClass("use-css-transitions-for-show-hide").appendTo("#main"),g("#gradebook-grid-wrapper").hide(),this.gotAllData.done(this.doSlickgridStuff))},m.prototype.getCustomColumns=function(){var e=this;return g.getJSON(this.options.custom_columns_url).then(function(t){return e.numberOfFrozenCols+=t.length,e.customColumns=t})},m.prototype.getCustomColumnData=function(e,t){var n=this;return t||(t=this.options.custom_column_data_url.replace(/:id/,e)),g.getJSON(t).done(function(t,o,i){var s,r,a,l,u;for(r=i.getResponseHeader("Link").match(/<([^>]+)>; *rel="next"/),r&&n.getCustomColumnData(e,r[1]),l=0,u=t.length;u>l;l++)s=t[l],a=n.student(s.user_id),a["custom_col_"+e]=s.content,n.grid.invalidateRow(a.row);return n.grid.render()})},m.prototype.initPostGrades=function(){var e=this;return g("#post-grades-button").click(function(t){var n,o,i,s;return t.preventDefault(),o={assignments:e.assignments,course_id:ENV.GRADEBOOK_OPTIONS.context_id},e.sectionToShow?o.integration_section_id=e.sections[e.sectionToShow].integration_id:o.integration_course_id=ENV.GRADEBOOK_OPTIONS.context_integration_id,s=new T(o),i=new M(s,ENV.GRADEBOOK_OPTIONS.sis_app_url,ENV.GRADEBOOK_OPTIONS.sis_app_token),s.reset_ignored_assignments(),i.render().show(),n=g("#post-grades-container").dialog("isOpen")})},m.prototype.doSlickgridStuff=function(){return this.initGrid(),this.buildRows(),this.getSubmissionsChunks(),this.initHeader()},m.prototype.gotAssignmentGroups=function(e){var t,n,o,i,s;for(this.assignmentGroups={},this.assignments={},new y({context:this.options,assignmentGroups:e}),s=[],o=0,i=e.length;i>o;o++)n=e[o],this.assignmentGroups[n.id]=n,ENV.GRADEBOOK_OPTIONS.draft_state_enabled&&(n.assignments=h.select(n.assignments,function(e){return e.published})),s.push(function(){var e,o,i,s;for(i=n.assignments,s=[],e=0,o=i.length;o>e;e++)t=i[e],S(t),t.assignment_group=n,t.due_at=p.parse(t.due_at),s.push(this.assignments[t.id]=t);return s}.call(this));return s},m.prototype.gotSections=function(e){var t,n,o;for(this.sections={},n=0,o=e.length;o>n;n++)t=e[n],S(t),this.sections[t.id]=t;return this.displayPostGradesButton(this.sectionToShow),this.sections_enabled=e.length>1,this.hasSections.resolve()},m.prototype.gotChunkOfStudents=function(e){var t,n,o,i,s,r,a,l,u,d;for(d=[],r=0,a=e.length;a>r;r++)n=e[r],t=n.user,t.enrollment=n,"StudentViewEnrollment"===t.enrollment.role?(o=this.studentViewStudents)[l=t.id]||(o[l]=S(t)):(i=this.students)[u=t.id]||(i[u]=S(t)),(s=this.student(t.id)).sections||(s.sections=[]),d.push(this.student(t.id).sections.push(n.course_section_id));return d},m.prototype.gotAllStudents=function(){var e=this;return this.withAllStudents(function(t){var n,o,i,s,r,a,l,u,d,c;c=[];for(l in t){a=t[l],a.computed_current_score||(a.computed_current_score=0),a.computed_final_score||(a.computed_final_score=0),a.secondary_identifier=a.sis_login_id||a.login_id,e.sections_enabled&&(i=function(){var e,t,n,o;for(n=a.sections,o=[],e=0,t=n.length;t>e;e++)s=n[e],this.sections[s]&&o.push(this.sections[s].name);return o}.call(e),r=g.toSentence(i.sort())),a.display_name=R({avatar_url:a.avatar_url,display_name:a.name,url:a.enrollment.grades.html_url+"#tab-assignments",sectionNames:r,alreadyEscaped:!0}),d=e.assignments;for(o in d)n=d[o],a[u="assignment_"+o]||(a[u]={assignment_id:o,user_id:l});c.push(e.rows.push(a))}return c})},m.prototype.defaultSortType="assignment_group",m.prototype.studentsThatCanSeeAssignment=function(e,n){return ENV.GRADEBOOK_OPTIONS.differentiated_assignments_enabled?h.pick.apply(h,[e].concat(t.call(n.assignment_visibility))):e},m.prototype.getStoredSortOrder=function(){return f.contextGet("sort_grade_columns_by")||{sortType:this.defaultSortType}},m.prototype.setStoredSortOrder=function(e){return e.sortType===this.defaultSortType?f.contextRemove("sort_grade_columns_by"):f.contextSet("sort_grade_columns_by",e)},m.prototype.onColumnsReordered=function(){var e,t,n,o,i,s=this;return t=this.grid.getColumns(),n=h(this.customColumns).map(function(e){return e.id}),i=function(){var n,i,s;for(s=[],n=0,i=t.length;i>n;n++)e=t[n],(o=e.id.match(/^custom_col_(\d+)/))&&s.push(o[1]);return s}(),h.isEqual(i,n)?this.storeCustomColumnOrder():this.reorderCustomColumns(i).then(function(){var e;return e=h(s.customColumns).indexBy(function(e){return e.id}),s.customColumns=h(i).map(function(t){return e[t]})})},m.prototype.reorderCustomColumns=function(e){return g.ajaxJSON(this.options.reorder_custom_columns_url,"POST",{order:e})},m.prototype.storeCustomColumnOrder=function(){var e,t,n;return n={sortType:"custom",customOrder:[]},t=this.grid.getColumns(),e=h.filter(t,function(e){return"assignment"===e.type}),n.customOrder=h.map(e,function(e){return e.object.id}),this.setStoredSortOrder(n)},m.prototype.setArrangementTogglersVisibility=function(e){return this.$columnArrangementTogglers.each(function(){return g(this).closest("li").showIf(g(this).data("arrangeColumnsBy")!==e.sortType)})},m.prototype.arrangeColumnsBy=function(e){var n,o;return this.setArrangementTogglersVisibility(e),this.setStoredSortOrder(e),n=this.grid.getColumns(),o=n.splice(0,this.numberOfFrozenCols),n.sort(this.makeColumnSortFn(e)),n.splice.apply(n,[0,0].concat(t.call(o))),this.grid.setColumns(n),this.fixColumnReordering(),this.buildRows()},m.prototype.makeColumnSortFn=function(e){var t;return t=function(){switch(e.sortType){case"assignment_group":case"alpha":return this.compareAssignmentPositions;case"due_date":return this.compareAssignmentDueDates;case"custom":return this.makeCompareAssignmentCustomOrderFn(e);default:throw"unhandled column sort condition"}}.call(this),this.wrapColumnSortFn(t)},m.prototype.compareAssignmentPositions=function(e,t){var n,o;return n=e.object.assignment_group.position-t.object.assignment_group.position,o=e.object.position-t.object.position,1e6*n+o},m.prototype.compareAssignmentDueDates=function(e,t){var n,o;return n=e.object.due_at?+e.object.due_at/1e3:Number.MAX_VALUE,o=t.object.due_at?+t.object.due_at/1e3:Number.MAX_VALUE,n===o?e.object.name===t.object.name?0:e.object.name>t.object.name?1:-1:n-o},m.prototype.makeCompareAssignmentCustomOrderFn=function(e){var t,n,o,i,s,r,a=this;for(o={},n=0,r=e.customOrder,i=0,s=r.length;s>i;i++)t=r[i],o[String(t)]=n,n+=1;return function(e,t){var n,i;return n=o[String(e.object.id)],i=o[String(t.object.id)],null!=n&&null!=i?n-i:null!=n&&null==i?-1:null!=i?1:a.compareAssignmentPositions(e,t)}},m.prototype.wrapColumnSortFn=function(e){return function(t,n){return"total_grade"===n.type?-1:"total_grade"===t.type?1:"assignment_group"===n.type&&"assignment_group"!==t.type?-1:"assignment_group"===t.type&&"assignment_group"!==n.type?1:"assignment_group"===t.type&&"assignment_group"===n.type?t.object.position-n.object.position:e(t,n)}},m.prototype.rowFilter=function(e){var t;return!this.sectionToShow||(t=this.sectionToShow,n.call(e.sections,t)>=0)},m.prototype.handleAssignmentMutingChange=function(e){var t,n;return n=this.grid.getColumnIndex("assignment_"+e.id),t=this.grid.getColumns()[n],t.name=this.assignmentHeaderHtml(e),this.grid.setColumns(this.grid.getColumns()),this.fixColumnReordering(),this.buildRows()},m.prototype.handleAssignmentGroupWeightChange=function(e){var t,n,o,i,s,r;for(o=this.grid.getColumns(),r=e.assignmentGroups,i=0,s=r.length;s>i;i++)t=r[i],n=h.findWhere(o,{id:"assignment_group_"+t.id}),n.name=this.assignmentGroupHtml(n.object.name,n.object.group_weight);return this.setAssignmentWarnings(),this.grid.setColumns(o),this.renderTotalHeader(),this.buildRows()},m.prototype.renderTotalHeader=function(){return this.totalHeader=new a({showingPoints:this.displayPointTotals,toggleShowingPoints:this.togglePointsOrPercentTotals.bind(this),weightedGroups:this.weightedGroups,totalColumnInFront:this.totalColumnInFront,moveTotalColumn:this.moveTotalColumn.bind(this)}),this.totalHeader.render()},m.prototype.moveTotalColumn=function(){return this.totalColumnInFront=!this.totalColumnInFront,f.contextSet("total_column_in_front",this.totalColumnInFront),window.location.reload()},m.prototype.assignmentGroupHtml=function(e,t){var n,o;return n=S(e),this.weightedGroups()?(o=d.toPercentage(t,{precision:2}),""+n+"<div class='assignment-points-possible'>\n  "+d.t("percent_of_grade","%{percentage} of grade",{percentage:o})+"\n</div>"):""+n},m.prototype.buildRows=function(){var e,t,n,o,i=this;this.rows.length=0,n=this.grid.getColumns();for(t in n)e=n[t],""+(null!=(o=e.object)?o.submission_types:void 0)=="attendance"&&(e.unselectable=!this.show_attendance,e.cssClass=this.show_attendance?"":"completely-hidden",this.$grid.find("#"+this.uid+e.id).showIf(this.show_attendance));return this.withAllStudents(function(){var e,n,o;n=i.students,o=[];for(t in n)e=n[t],e.row=-1,i.rowFilter(e)?(i.rows.push(e),o.push(i.calculateStudentGrade(e))):o.push(void 0);return o}),this.sortRowsBy(function(e,t){return i.localeSort(e.sortable_name,t.sortable_name)})},m.prototype.getSubmissionsChunks=function(){var e=this;return this.withAllStudents(function(t){var n,o,i,s,r,a,l;for(n=function(){var e;e=[];for(o in t)s=t[o],e.push(s);return e}(),l=[];;){if(a=n.slice(e.chunk_start,e.chunk_start+e.options.chunk_size),!a.length){e.allSubmissionsLoaded.resolve();break}i={student_ids:function(){var e,t,n;for(n=[],e=0,t=a.length;t>e;e++)r=a[e],n.push(r.id);return n}(),response_fields:["id","user_id","url","score","grade","submission_type","submitted_at","assignment_id","grade_matches_current_submission","attachments","late","workflow_state"]},g.ajaxJSON(e.options.submissions_url,"GET",i,e.gotSubmissionsChunk),l.push(e.chunk_start+=e.options.chunk_size)}return l})},m.prototype.gotSubmissionsChunk=function(e){var t,n,o,i,s,r,a,l,u,d;for(r=0,l=e.length;l>r;r++){for(n=e[r],i=this.student(n.user_id),d=n.submissions,a=0,u=d.length;u>a;a++)s=d[a],t=i["assignment_"+s.assignment_id],null!=t&&(o=t.hidden),o||this.updateSubmission(s);i.loaded=!0,this.grid.invalidateRow(i.row),this.calculateStudentGrade(i)}return this.grid.render()},m.prototype.student=function(e){return this.students[e]||this.studentViewStudents[e]},m.prototype.withAllStudents=function(e){var t,n,o,i,s;o=this.studentViewStudents;for(t in o)n=o[t],this.students[t]=n;e(this.students),i=this.studentViewStudents,s=[];for(t in i)n=i[t],s.push(delete this.students[t]);return s},m.prototype.updateSubmission=function(e){var t;return t=this.student(e.user_id),e.submitted_at=p.parse(e.submitted_at),t["assignment_"+e.assignment_id]=e},m.prototype.updateSubmissionsFromExternal=function(e){var t,n,o,i,s,r,a,l,u,d,c,h,m,p,_;for(t=this.grid.getActiveCell(),s=g(this.grid.getActiveCellNode()).hasClass("editable"),i=this.grid.getColumns(),_=[],c=0,m=e.length;m>c;c++){for(u=e[c],l=this.student(u.user_id),r="assignment_"+u.assignment_id,a=h=0,p=i.length;p>h;a=++h)o=i[a],o.id===r&&(n=a);d=null!=t&&s&&t.row===l.row&&t.cell===n,this.updateSubmission(u),this.calculateStudentGrade(l),d||this.grid.updateCell(l.row,n),_.push(this.updateRowTotals(l.row))}return _},m.prototype.updateRowTotals=function(e){var t,n,o,i,s,r;for(o=this.grid.getColumns(),r=[],n=i=0,s=o.length;s>i;n=++i)t=o[n],r.push("assignment"!==t.type?this.grid.updateCell(e,n):void 0);return r},m.prototype.cellFormatter=function(e,t,n){var o;return this.rows[e].loaded?n.hidden?this.uneditableCellFormatter(e,t):null==n?this.staticCellFormatter(e,t,"-"):(o=this.assignments[n.assignment_id],null==o?this.staticCellFormatter(e,t,""):"points"===o.grading_type&&o.points_possible?k.out_of.formatter(e,t,n,o):(k[o.grading_type]||k).formatter(e,t,n,o)):this.staticCellFormatter(e,t,"")},m.prototype.staticCellFormatter=function(e,t,n){return"<div class='cell-content gradebook-cell'>"+n+"</div>"},m.prototype.uneditableCellFormatter=function(){return"<div class='cell-content gradebook-cell grayed-out'></div>"},m.prototype.groupTotalFormatter=function(e,t,n,o){var i,s,r;return null==n?"":(s=Math.round(n.score/n.possible*1e3)/10,isNaN(s)&&(s=0),n.possible&&this.options.grading_standard&&"total_grade"===o.type&&(i=_.letter_grade(this.options.grading_standard,s)),r={score:l(n.score,D),possible:l(n.possible,D),letterGrade:i,percentage:s},"total_grade"===o.type&&(r.warning=this.totalGradeWarning,r.lastColumn=!0,r.showPointsNotPercent=this.displayPointTotals(),r.hideTooltip=this.weightedGroups()&&!this.totalGradeWarning),E(r))},m.prototype.htmlContentFormatter=function(e,t,n){return null==n?"":n},m.prototype.calculateStudentGrade=function(e){var t,n,o,i,s,r,a,l,u,d,c,g,h;if(e.loaded){for(t=this.include_ungraded_assignments?"final":"current",r=function(){var t;t=[];for(o in e)a=e[o],o.match(/^assignment_(?!group)/)&&t.push(a);return t}(),i=_.calculate(r,this.assignmentGroups,this.options.group_weighting_scheme),g=i.group_sums,l=0,d=g.length;d>l;l++)for(n=g[l],e["assignment_group_"+n.group.id]=n[t],h=n[t].submissions,u=0,c=h.length;c>u;u++)s=h[u],s.submission.drop=s.drop;return e.total_grade=i[t],this.addDroppedClass(e)}},m.prototype.addDroppedClass=function(e){var t,n,o,i,s,r,a,l;for(o=function(){var t;t=[];for(s in e)n=e[s],s.match(/assignment_\d+/)&&null!=n.drop&&t.push(s);return t}(),i={},i[e.row]={},a=0,l=o.length;l>a;a++)t=o[a],i[e.row][t]="dropped";return r="dropsForRow"+e.row,this.grid.removeCellCssStyles(r),this.grid.addCellCssStyles(r,i)},m.prototype.highlightColumn=function(e){var t,n,o;return t=this.$grid.find(".slick-header-column"),t.filter(".slick-sortable-placeholder").length?void 0:(n=this.grid.getCellFromEvent(e),o=this.grid.getColumns()[n.cell],t.filter("#"+this.uid+o.id).addClass("hovered-column"))},m.prototype.unhighlightColumns=function(){return this.$grid.find(".hovered-column").removeClass("hovered-column")},m.prototype.fixColumnReordering=function(){var e,t,n,o,i,s,r,a=this;return e=g("#gradebook_grid .container_1").find(".slick-header-columns"),s=e.sortable("option","items"),i='> *:not([id*="assignment_group"]):not([id*="total_grade"])',(o=function(){var t;return e.sortable("option","items",i),t=g(s,e).not(g(i,e)),t.data("sortable-item",null)})(),(n=function(){return e.find(".assignment_header_drop").click(function(e){var t;return t=g(e.target),t.data("gradebookHeaderMenu")||t.data("gradebookHeaderMenu",new C(a.assignments[t.data("assignmentId")],t,a)),!1})})(),r=e.sortable("option","stop"),(t=function(){return e.sortable("option","stop",function(){var i;return e.sortable("option","items",s),i=r.apply(this,arguments),o(),n(),t(),i})})()},m.prototype.minimizeColumn=function(e){var t,n;return n=e.data("column"),t=this.grid.getColumnIndex(n.id),n.cssClass=(n.cssClass||"").replace(" minimized","")+" minimized",n.unselectable=!0,n.unminimizedName=n.name,n.name="",n.minimized=!0,this.$grid.find(".l"+t).add(e).addClass("minimized"),this.assignmentsToHide.push(n.id),f.contextSet("hidden_columns",h.uniq(this.assignmentsToHide))},m.prototype.unminimizeColumn=function(e){var t,n;return n=e.data("column"),t=this.grid.getColumnIndex(n.id),n.cssClass=(n.cssClass||"").replace(" minimized",""),n.unselectable=!1,n.name=n.unminimizedName,n.minimized=!1,this.$grid.find(".l"+t).add(e).removeClass("minimized"),e.find(".slick-column-name").html(n.name),this.assignmentsToHide=g.grep(this.assignmentsToHide,function(e){return e!==n.id}),f.contextSet("hidden_columns",h.uniq(this.assignmentsToHide))},m.prototype.hoverMinimizedCell=function(e){var t,n,o,i,s,r,a,l;return t=g(e.currentTarget).removeClass("hover"),(o=this.grid.getCellFromEvent(e))?(i=this.grid.getColumns()[o.cell],n=i.object,r=t.offset(),s=[n.name],t.hasClass("slick-cell")?(a=this.rows[o.row][i.id],null!=n.points_possible?s.push(""+(null!=(l=a.score)?l:"--")+" / "+n.points_possible):null!=a.score&&s.push(a.score),Array.prototype.push.apply(s,g.map(k.classesBasedOnSubmission(a,n),function(e){return c["#submission_tooltip_"+e]}))):null!=n.points_possible&&s.push(d.t("points_out_of","out of %{points_possible}",{points_possible:n.points_possible})),t.data("tooltip",g("<span />",{"class":"gradebook-tooltip",css:{left:r.left-15,top:r.top,zIndex:1e4,display:"block"},html:s.join("<br />")}).appendTo("body").css("top",function(e,t){return parseInt(t)-g(this).outerHeight()}))):void 0},m.prototype.unhoverMinimizedCell=function(e){var t;return(t=g(this).data("tooltip"))?e.toElement===t[0]?t.mouseleave(function(){return t.remove()}):t.remove():void 0},m.prototype.fixMaxHeaderWidth=function(){return this.$grid.find(".slick-header-columns").width(1e6)},m.prototype.onGridBlur=function(e){return e.target.className.match(/cell|slick/)||!this.grid.getActiveCell||"grade"===e.target.className&&this.grid.getCellEditor()instanceof k.out_of||g(e.target).is(".dontblur,.dontblur *")?void 0:this.grid.getEditorLock().commitCurrentEdit()},m.prototype.onGridInit=function(){var e,t,n,o=this;return n={},g(this.spinner.el).remove(),g("#gradebook-grid-wrapper").show(),this.uid=this.grid.getUID(),g("#content").focus(function(){return g("#accessibility_warning").removeClass("screenreader-only")}),g("#accessibility_warning").focus(function(){return g("#accessibility_warning").blur(function(){return g("#accessibility_warning").remove()})}),this.$grid=e=g("#gradebook_grid").fillWindowWithMe({onResize:function(){return o.grid.resizeCanvas()}}).delegate(".slick-cell",{"mouseenter.gradebook focusin.gradebook":this.highlightColumn,"mouseleave.gradebook focusout.gradebook":this.unhighlightColumns,"mouseenter focusin":function(t){return e.find(".hover, .focus").removeClass("hover focus"),"0px"===g(this).parent().css("top")&&g(this).find("div.gradebook-tooltip").addClass("first-row"),g(this).addClass("mouseenter"===t.type?"hover":"focus")},"mouseleave focusout":function(){return g(this).removeClass("hover focus"),g(this).find("div.gradebook-tooltip").removeClass("first-row")}}).delegate(".gradebook-cell-comment","click.gradebook",function(e){var t;return e.preventDefault(),t=g(e.currentTarget).data(),g(o.grid.getActiveCellNode()).removeClass("editable"),b.open(o.assignments[t.assignmentId],o.student(t.userId.toString()),o.options)}).delegate(".minimized",{mouseenter:this.hoverMinimizedCell,mouseleave:this.unhoverMinimizedCell}),this.options.gradebook_is_editable&&this.$grid.addClass("editable"),this.fixMaxHeaderWidth(),this.grid.onColumnsResized.subscribe(function(){return o.$grid.find(".slick-header-column").each(function(e,t){var n,i;if(n=g(t),i=n.data("column"),"assignment"===i.type)if(n.outerWidth()<=P.assignment.min){if(!i.minimized)return o.minimizeColumn(n)}else if(i.minimized)return o.unminimizeColumn(n)})}),this.keyboardNav=new j(this.grid,this.$grid),this.keyboardNav.init(),t=this.keyboardNav.keyBindings,this.kbDialog=(new i).render(s({keyBindings:t})),g(document).on("dialogclose",function(){return setTimeout(function(){return o.grid.editActiveCell()},0)}),g(document).trigger("gridready")},m.prototype.sectionList=function(){var e=this;return h.map(this.sections,function(t,n){return{name:t.name,id:n,checked:e.sectionToShow===n}})},m.prototype.drawSectionSelectButton=function(){return this.sectionMenu=new N({el:g(".section-button-placeholder"),sections:this.sectionList(),currentSection:this.sectionToShow}),this.sectionMenu.render()},m.prototype.updateCurrentSection=function(e){return this.sectionToShow=e,this.displayPostGradesButton(e),f[this.sectionToShow?"contextSet":"contextRemove"]("grading_show_only_section",this.sectionToShow),this.grid?this.buildRows():void 0},m.prototype.displayPostGradesButton=function(e){var t,n;return null!=e?n=this.sections[e]&&this.sections[e].integration_id:t=ENV.GRADEBOOK_OPTIONS.context_integration_id,n||t?this.showPostGradesButton():this.hidePostGradesButton()},m.prototype.hidePostGradesButton=function(){return g("#post-grades-button").closest(".gradebook-navigation").addClass("hidden")},m.prototype.showPostGradesButton=function(){return g("#post-grades-button").closest(".gradebook-navigation").removeClass("hidden")},m.prototype.initHeader=function(){var e,t=this;return this.sections_enabled&&this.drawSectionSelectButton(),e=g("#gradebook_settings").next(),g.each(["show_attendance","include_ungraded_assignments","show_concluded_enrollments"],function(n,o){return e.find("#"+o).prop("checked",!!t[o]).change(function(n){return"show_concluded_enrollments"===o&&t.options.course_is_concluded&&t.show_concluded_enrollments?(g("#"+o).prop("checked",!0),e.menu("refresh"),alert(d.t("concluded_course_error_message","This is a concluded course, so only concluded enrollments are available."))):(t[o]=g(n.target).is(":checked"),f.contextSet(o,t[o]),"show_concluded_enrollments"===o&&window.location.reload(),"show_attendance"===o&&t.grid.setColumns(t.getVisibleGradeGridColumns()),t.buildRows())})}),h.detect(this.assignments,function(e){return""+e.submission_types=="attendance"})||e.find("#show_attendance").closest("li").hide(),this.$columnArrangementTogglers=g("#gradebook-toolbar [data-arrange-columns-by]").bind("click",function(e){var n;return e.preventDefault(),n={sortType:g(e.currentTarget).data("arrangeColumnsBy")},t.arrangeColumnsBy(n)}),this.arrangeColumnsBy(this.getStoredSortOrder()),g("#gradebook_settings").show().kyleMenu(),e.find(".gradebook_upload_link").click(function(e){return e.preventDefault(),new z(t.options.context_url)}),e.find(".student_names_toggle").click(this.studentNamesToggle),this.userFilter=new u({el:".gradebook_filter input"}),this.userFilter.on("input",this.onUserFilterInput),this.initPostGrades(),this.setDownloadCsvUrl(),this.renderTotalHeader()},m.prototype.setDownloadCsvUrl=function(){return this.show_concluded_enrollments?g("#download_csv")[0].href+="?include_priors=true":void 0},m.prototype.studentNamesToggle=function(e){var t;return e.preventDefault(),t=this.$grid.find(".grid-canvas"),t.toggleClass("hide-students"),g(e.currentTarget).text(t.hasClass("hide-students")?d.t("show_student_names","Show Student Names"):d.t("hide_student_names","Hide Student Names"))},m.prototype.weightedGroups=function(){return"percent"===this.options.group_weighting_scheme},m.prototype.displayPointTotals=function(){return this.weightedGroups()?!1:this.options.show_total_grade_as_points},m.prototype.switch_total_display=function(){return this.options.show_total_grade_as_points=!this.options.show_total_grade_as_points,g.ajaxJSON(this.options.setting_update_url,"PUT",{show_total_grade_as_points:this.displayPointTotals()}),this.grid.invalidate(),this.totalHeader.render()
},m.prototype.switch_total_display_and_mark_user_as_warned=function(){return f.contextSet("warned_about_totals_display",!0),this.switch_total_display()},m.prototype.togglePointsOrPercentTotals=function(){var e;return f.contextGet("warned_about_totals_display")?this.switch_total_display():(e={showing_points:this.options.show_total_grade_as_points,unchecked_save:this.switch_total_display,checked_save:this.switch_total_display_and_mark_user_as_warned},new w(e))},m.prototype.onUserFilterInput=function(e){var t,n,o,i,s,r,a,l;if(t=this.grid.getData(),h.each(t,function(e){return null!=e.beforeFilteredRow?(e.row=e.beforeFilteredRow,delete e.beforeFilteredRow):void 0}),h.each(this.userFilterRemovedRows.reverse(),function(e){return t.splice(e.index,0,e.data)}),this.userFilterRemovedRows=[],""!==e)for(s=["name","login_id","short_name","sortable_name"],n=t.length;n--;)r=t[n],i=h.any(s,function(t){var n;return null!=(n=r[t])?n.match(new RegExp(e,"i")):void 0}),i||(o={index:n,data:t.splice(n,1)[0]},this.userFilterRemovedRows.push(o));for(n=a=0,l=t.length;l>a;n=++a)r=t[n],r.beforeFilteredRow=r.row,r.row=n;return this.grid.setData(t),this.grid.invalidate()},m.prototype.getVisibleGradeGridColumns=function(){var e,t,n,o,i,s;for(t=[].concat(this.parentColumns,this.customColumnDefinitions()),s=this.allAssignmentColumns,o=0,i=s.length;i>o;o++)e=s[o],n=""+e.object.submission_types,"not_graded"===n||"attendance"===n&&!this.show_attendance||t.push(e);return t.concat(this.aggregateColumns)},m.prototype.assignmentHeaderHtml=function(e){return A({assignment:e,href:e.html_url,showPointsPossible:null!=e.points_possible})},m.prototype.customColumnDefinitions=function(){return this.customColumns.map(function(e){return{id:"custom_col_"+e.id,name:S(e.title),field:"custom_col_"+e.id,width:100,cssClass:"meta-cell custom_column",resizable:!0,sortable:!0,editor:o,autoEdit:!1,maxLength:255}})},m.prototype.initGrid=function(){var e,t,o,i,s,a,l,u,c,h,m,p,_=this;return e=g('<span style="padding:10px" />').appendTo("#content"),h=function(t,n,o){var i;return i=Math.max(e.text(t).outerWidth(),n),Math.min(i,o)},this.setAssignmentWarnings(),this.parentColumns=[{id:"student",name:d.t("student_name","Student Name"),field:"display_name",width:150,cssClass:"meta-cell",resizable:!0,sortable:!0,formatter:this.htmlContentFormatter},{id:"secondary_identifier",name:d.t("secondary_id","Secondary ID"),field:"secondary_identifier",width:100,cssClass:"meta-cell secondary_identifier_cell",resizable:!0,sortable:!0,formatter:this.htmlContentFormatter}],this.allAssignmentColumns=function(){var e,s,r=this;e=this.assignments,s=[];for(a in e)t=e[a],c=t&&"points"===t.grading_type&&null!=t.points_possible&&k.out_of,l=c?70:90,i="assignment_"+a,o={id:i,field:i,name:this.assignmentHeaderHtml(t),object:t,formatter:this.cellFormatter,editor:c||k[t.grading_type]||k,minWidth:P.assignment.min,maxWidth:P.assignment.max,width:h(t.name,l,P.assignment.default_max),sortable:!0,toolTip:t.name,type:"assignment"},n.call(this.assignmentsToHide,i)>=0&&(o.width=10,function(e){return g(document).bind("gridready",function(){return r.minimizeColumn(r.$grid.find("#"+r.uid+e))}).unbind("gridready.render").bind("gridready.render",function(){return r.grid.invalidate()})}(i)),s.push(o);return s}.call(this),this.aggregateColumns=function(){var e,t;e=this.assignmentGroups,t=[];for(a in e)s=e[a],t.push({id:"assignment_group_"+a,field:"assignment_group_"+a,formatter:this.groupTotalFormatter,name:this.assignmentGroupHtml(s.name,s.group_weight),toolTip:s.name,object:s,minWidth:P.assignmentGroup.min,maxWidth:P.assignmentGroup.max,width:h(s.name,P.assignmentGroup.min,P.assignmentGroup.default_max),cssClass:"meta-cell assignment-group-cell",sortable:!0,type:"assignment_group"});return t}.call(this),m=d.t("total","Total"),p={id:"total_grade",field:"total_grade",formatter:this.groupTotalFormatter,name:""+m+"\n<div id=total_column_header></div>",toolTip:m,minWidth:P.total.min,maxWidth:P.total.max,width:h("Total",P.total.min,P.total.max),cssClass:this.totalColumnInFront?"meta-cell":"total-cell",sortable:!0,type:"total_grade"},(this.totalColumnInFront?this.parentColumns:this.aggregateColumns).push(p),e.remove(),u=g.extend({enableCellNavigation:!0,enableColumnReorder:!0,enableAsyncPostRender:!0,asyncPostRenderDelay:1,autoEdit:!0,editable:this.options.gradebook_is_editable,syncColumnCellResize:!0,rowHeight:35,headerHeight:38,numberOfColumnsToFreeze:this.numberOfFrozenCols},this.options),this.grid=new r.Grid("#gradebook_grid",this.rows,this.getVisibleGradeGridColumns(),u),this.grid.setSortColumn("student"),this.grid.onCellChange.subscribe(this.onCellChange),g("body").on("click",this.onGridBlur),this.grid.onSort.subscribe(function(e,t){var n;return"display_name"===t.sortCol.field||"secondary_identifier"===t.sortCol.field||t.sortCol.field.match(/^custom_col/)?(n="display_name"===t.sortCol.field?"sortable_name":t.sortCol.field,_.sortRowsBy(function(e,o){var i;return t.sortAsc||(i=[e,o],o=i[0],e=i[1]),_.localeSort(e[n],o[n])})):_.sortRowsBy(function(e,n){return _.gradeSort(e,n,t.sortCol.field,t.sortAsc)})}),this.grid.onKeyDown.subscribe(function(){return!1}),this.grid.onColumnsReordered.subscribe(this.onColumnsReordered),this.grid.onBeforeEditCell.subscribe(this.onBeforeEditCell),this.onGridInit()},m.prototype.onBeforeEditCell=function(e,t){var n,o,i;return i=t.row,o=t.cell,n=this.grid.getCellNode(i,o),g(n).find(".gradebook-cell").hasClass("grayed-out")?!1:void 0},m.prototype.onCellChange=function(e,t){var n,o,i,s;return i=t.item,o=t.column,(n=o.field.match(/^custom_col_(\d+)/))?(s=this.options.custom_column_datum_url.replace(/:id/,n[1]).replace(/:user_id/,i.id),g.ajaxJSON(s,"PUT",{"column_data[content]":i[o.field]})):(this.calculateStudentGrade(i),this.grid.invalidate())},m.prototype.sortRowsBy=function(e){var t,n,o,i,s,r,a=this;for(n=function(){return h(a.studentViewStudents).size()?function(t,n){return a.studentViewStudents[t.id]?1:a.studentViewStudents[n.id]?-1:e(t,n)}:e},this.rows.sort(n()),r=this.rows,t=i=0,s=r.length;s>i;t=++i)o=r[t],o.row=t,this.addDroppedClass(o);return this.grid.invalidate()},m.prototype.localeSort=function(e,t){return(e||"").localeCompare(t||"",window.I18n.locale,{sensitivity:"accent",numeric:!0})},m.prototype.gradeSort=function(e,t,n,o){var i,s=this;return i=function(e){var t;switch(t=function(e){return e[n].possible>0?e[n].score/e[n].possible:null},!1){case"total_grade"!==n:return s.options.show_total_grade_as_points?e[n].score:t(e);case!n.match(/^assignment_group/):return t(e);default:return e[n].score}},x(i(e),i(t),{descending:!o})},m.prototype.setAssignmentWarnings=function(){var e,t,n,o,i,s,r,a,l,u;if(!this.weightedGroups())return i=h.inject(this.assignments,function(e,t){return e+(t.points_possible||0)},0),this.totalGradeWarning=0===i?d.t("no_assignments_have_points_warning","Can't compute score until an assignment has points possible"):null;for(o=h.filter(this.assignmentGroups,function(e){var t;return t=h.inject(e.assignments,function(e,t){return e+(t.points_possible||0)},0),0===t}),s=0,a=o.length;a>s;s++)for(t=o[s],u=t.assignments,r=0,l=u.length;l>r;r++)e=u[r],e.invalid=!0;return o.length>0?(n=function(){var e,n,i;for(i=[],e=0,n=o.length;n>e;e++)t=o[e],i.push(t.name);return i}(),this.totalGradeWarning=d.t("invalid_assignment_groups_warning",{one:"Score does not include %{groups} because it has                  no points possible",other:"Score does not include %{groups} because they have                    no points possible"},{groups:g.toSentence(n),count:n.length})):void 0},m.prototype.showCustomColumnDropdownOption=function(){var e,n,o,i,s,r,a,l,u,c,h,m,p,_=this;return r=g("<li>").appendTo(".gradebook_drop_down"),l=d.t("show_notes","Show Notes Column"),o=d.t("hide_notes","Hide Notes Column"),m=function(){return _.options.custom_column_url.replace(/:id/,_.options.teacher_notes.id)},e=g("<a>",{href:this.options.custom_columns_url,"class":"create",text:l}),u=function(){return g("<a>",{href:m(),"class":"show",text:l})},i=function(){return g("<a>",{href:m(),"class":"hide",text:o})},n=function(e,t,n){return g.ajaxJSON(e.target.href,t,n)},p=function(e){var n,o;return o=_.numberOfFrozenCols,e(),n=_.grid.getColumns(),n.splice.apply(n,[0,o].concat(t.call(_.parentColumns),t.call(_.customColumnDefinitions()))),_.grid.setColumns(n),_.grid.invalidate()},h=!1,c=function(){return h||_.getCustomColumnData(_.options.teacher_notes.id),p(function(){return _.customColumns.splice(0,0,_.options.teacher_notes),_.grid.setNumberOfColumnsToFreeze(++_.numberOfFrozenCols)}),r.html(i())},s=function(){return p(function(){var e,t,n,o,i;for(i=_.customColumns,t=n=0,o=i.length;o>n;t=++n)if(e=i[t],e.teacher_notes){_.customColumns.splice(t,1),_.numberOfFrozenCols-=1;break}return _.grid.setNumberOfColumnsToFreeze(_.numberOfFrozenCols)}),r.html(u())},r.click(function(e){var t;return e.preventDefault(),t=g(e.target),t.hasClass("show")&&n(e,"PUT",{"column[hidden]":!1}).then(function(){return c(),_.reorderCustomColumns(_.customColumns.map(function(e){return e.id}))}),t.hasClass("hide")&&n(e,"PUT",{"column[hidden]":!0}).then(s()),t.hasClass("create")?n(e,"POST",{"column[title]":d.t("notes","Notes"),"column[position]":1,"column[teacher_notes]":!0}).then(function(e){return _.options.teacher_notes=e,c()}):void 0}),a=this.options.teacher_notes,r.html(a?a.hidden?u():i():e)},m.prototype.alignCoursePreferencesWithLocalStorage=function(){var e;return e=f.contextGet("show_point_totals"),e&&e!==this.options.show_total_grade_as_points?(this.options.show_total_grade_as_points=e,f.contextRemove("show_point_totals"),g.ajaxJSON(this.options.setting_update_url,"PUT",{show_total_grade_as_points:this.options.show_total_grade_as_points})):void 0},m}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("compiled/views/gradebook/NavigationPillView",["jquery","Backbone"],function(e,n){var o,i,s;return i=n.View,o=function(n){function o(){return s=o.__super__.constructor.apply(this,arguments)}return t(o,n),o.prototype.events={"click a":"onToggle"},o.prototype.onToggle=function(e){return e.preventDefault(),this.setActiveTab(e.target)},o.prototype.setActiveTab=function(t){return this.$("li").removeClass("active"),e(t).parent().addClass("active"),this.trigger("pillchange",e(t).data("id"))},o.prototype.setActiveView=function(e){return this.setActiveTab(this.$("[data-id="+e+"]"))},o}(i)})}.call(this),define("translations/gradebook2.header_filter",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{header_filter:{course_average:"معدل المساق",course_median:"متوسط المساق",course_mode:"وضع المساق"}}},de:{gradebook2:{header_filter:{course_average:"Kursdurchschnitt",course_median:"Mittlerer Wert für Kurs",course_mode:"Kursmodus"}}},"en-AU":{gradebook2:{header_filter:{course_average:"Course average",course_median:"Course median",course_mode:"Course mode"}}},"en-GB":{gradebook2:{header_filter:{course_average:"Course average",course_median:"Course median",course_mode:"Course mode"}}},es:{gradebook2:{header_filter:{course_average:"Media del curso",course_median:"Mediana del curso",course_mode:"Moda del curso"}}},"fa-IR":{gradebook2:{header_filter:{course_average:"میانگین درس",course_median:"میانه درس",course_mode:"مد درس"}}},fr:{gradebook2:{header_filter:{course_average:"Moyenne du cours",course_median:"Médiane du cours",course_mode:"Mode du cours"}}},ja:{gradebook2:{header_filter:{course_average:"コース平均値",course_median:"コース中央値",course_mode:"コース モード"}}},nb:{gradebook2:{header_filter:{course_average:"Gjennomsnitt i kurset",course_median:"Median i kurset",course_mode:"Kursmodus"}}},nl:{gradebook2:{header_filter:{course_average:"Cursus gemiddelde",course_median:"Cursus mediaan",course_mode:"Cursus modus"}}},pl:{gradebook2:{header_filter:{course_average:"Średnia kursu",course_median:"Mediana kursu",course_mode:"Tryb kursu"}}},pt:{gradebook2:{header_filter:{course_average:"Média da disciplina",course_median:"Mediana da disciplina",course_mode:"Modo da disciplina"}}},"pt-BR":{gradebook2:{header_filter:{course_average:"Média do curso",course_median:"Média do curso",course_mode:"Modo de curso"}}},ru:{gradebook2:{header_filter:{course_average:"Средняя оценка курса",course_median:"Медиана курса",course_mode:"Режим курса"}}},tr:{gradebook2:{header_filter:{course_average:"Dersin ortalaması",course_median:"Dersin medyanı",course_mode:"Dersin modu"}}},zh:{gradebook2:{header_filter:{course_average:"课程平均分数",course_median:"课程中值分数",course_mode:"课程模式"}}},zh_Hant:{gradebook2:{header_filter:{course_average:"課程平均值",course_median:"課程中值",course_mode:"課程模式"}}}}})}),define("jst/gradebook2/header_filter",["compiled/handlebars_helpers","i18n!gradebook2.header_filter"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/header_filter"]=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r,a,l="",u=n.helperMissing;return l+='<div class="inline-block">\n  <a class="al-trigger" href="#" data-append-to-body="true" role="button">\n    <span class="current-label">',r=n.t||t&&t.t,a={hash:{scope:"gradebook2.header_filter"},data:i},s=r?r.call(t,"course_average","Course average",a):u.call(t,"t","course_average","Course average",a),(s||0===s)&&(l+=s),l+='</span>\n    <i class="icon-mini-arrow-down"></i>\n  </a>\n\n  <ul class="al-options">\n    <li><a href="#" data-method="average">',r=n.t||t&&t.t,a={hash:{scope:"gradebook2.header_filter"},data:i},s=r?r.call(t,"course_average","Course average",a):u.call(t,"t","course_average","Course average",a),(s||0===s)&&(l+=s),l+='</a></li>\n    <li><a href="#" data-method="median">',r=n.t||t&&t.t,a={hash:{scope:"gradebook2.header_filter"},data:i},s=r?r.call(t,"course_median","Course median",a):u.call(t,"t","course_median","Course median",a),(s||0===s)&&(l+=s),l+='</a></li>\n    <li><a href="#" data-method="mode">',r=n.t||t&&t.t,a={hash:{scope:"gradebook2.header_filter"},data:i},s=r?r.call(t,"course_mode","Course mode",a):u.call(t,"t","course_mode","Course mode",a),(s||0===s)&&(l+=s),l+="</a></li>\n  </ul>\n</div>\n"}),n["gradebook2/header_filter"]}),function(){var e={}.hasOwnProperty,t=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("compiled/views/gradebook/HeaderFilterView",["i18n!gradebook2","Backbone","compiled/gradebook2/OutcomeGradebookGrid","jst/gradebook2/header_filter"],function(e,n,o,i){var s,r,a;return r=n.View,s=function(n){function o(){return a=o.__super__.constructor.apply(this,arguments)}return t(o,n),o.prototype.className="text-right",o.prototype.template=i,o.prototype.labels={average:e.t("course_average","Course average"),median:e.t("course_median","Course median"),mode:e.t("course_mode","Course mode")},o.prototype.events={"click li a":"onClick"},o.optionProperty("grid"),o.optionProperty("redrawFn"),o.prototype.onClick=function(e){var t;return e.preventDefault(),e.stopPropagation(),t=e.target.getAttribute("data-method"),this.closeMenu(),this.updateLabel(t),this.recalculateHeader(t)},o.prototype.closeMenu=function(){return this.$el.find(".al-trigger").data("kyleMenu").close()},o.prototype.updateLabel=function(e){return this.$(".current-label").text(this.labels[e])},o.prototype.recalculateHeader=function(e){return"average"===e&&(e="mean"),this.redrawFn(this.grid,e)},o}(r)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/util/Popover",["jquery"],function(t){var n,o,i,s;return s=function(e,n){return t(this).css(e).toggleClass("carat-bottom","bottom"===n.vertical)},i=0,o=[],n=function(){function n(n,o,i){var s=this;this.content=o,this.options=null!=i?i:{},this.position=e(this.position,this),this.outsideClickHandler=e(this.outsideClickHandler,this),this.trigger=t(n.currentTarget),this.el=t(this.content).addClass("carat-bottom").data("popover",this).keydown(function(e){var n,o;if(e.keyCode===t.ui.keyCode.ESCAPE&&(s.hide(),s.previousTarget&&s.previousTarget.is(":visible")&&s.previousTarget.focus()),e.keyCode===t.ui.keyCode.TAB&&(o=t(":tabbable",s.el),n=t.inArray(e.target,o),-1!==n))if(e.shiftKey){if(0===n)return s.hide()}else if(n===o.length-1)return s.hide()}),this.el.delegate(".popover_close","click",function(e){return e.preventDefault(),s.hide(),s.previousTarget&&s.previousTarget.is(":visible")?s.previousTarget.focus():void 0}),this.show(n)}return n.prototype.show=function(e){for(var n,s,r,a,l,u,d,c=this;u=o.pop();)u.hide();return o.push(this),a="popover-"+i++,this.trigger.attr({"aria-expanded":!0,"aria-controls":a}),this.previousTarget=e.currentTarget,this.el.attr({id:a}).appendTo(document.body).show(),this.position(),this.el.find(":tabbable").first().focus(),setTimeout(function(){return c.el.find(":tabbable").first().focus()},100),this.el.find(".ui-menu-carat").remove(),r=this.trigger.offset().left-this.el.offset().left,n=e.pageX-this.trigger.offset().left,l=Math.max(0,this.trigger.width()/2-this.el.width()/2)+20,d=this.trigger.width()-l,s=Math.min(Math.max(l,n),d)+r,t('<span class="ui-menu-carat"><span /></span>').css("left",s).prependTo(this.el),this.positionInterval=setInterval(this.position,200),t(window).click(this.outsideClickHandler)},n.prototype.hide=function(){var e,n,i,s;for(e=i=0,s=o.length;s>i;e=++i)n=o[e],this===n&&o.splice(e,1);return this.el.detach(),this.trigger.attr("aria-expanded",!1),clearInterval(this.positionInterval),t(window).unbind("click",this.outsideClickHandler)},n.prototype.ignoreOutsideClickSelector=".ui-dialog",n.prototype.outsideClickHandler=function(e){return t(e.target).closest(this.el.add(this.trigger).add(this.ignoreOutsideClickSelector)).length?void 0:this.hide()},n.prototype.position=function(){return this.el.position({my:"center "+("bottom"===this.options.verticalSide?"top":"bottom"),at:"center "+(this.options.verticalSide||"top"),of:this.trigger,offset:"0 -10px",within:"body",collision:"flipfit "+(this.options.verticalSide?"none":"flipfit"),using:s})},n}()})}.call(this),!function(){function e(e){return null!=e&&!isNaN(e)}function t(e){return e.length}function n(e){for(var t=1;e*t%1;)t*=10;return t}function o(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(o){e.prototype=t}}function i(){}function s(e){return la+e in this}function r(e){return e=la+e,e in this&&delete this[e]}function a(){var e=[];return this.forEach(function(t){e.push(t)}),e}function l(){var e=0;for(var t in this)t.charCodeAt(0)===ua&&++e;return e}function u(){for(var e in this)if(e.charCodeAt(0)===ua)return!1;return!0}function d(){}function c(e,t,n){return function(){var o=n.apply(t,arguments);return o===t?e:o}}function g(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var n=0,o=da.length;o>n;++n){var i=da[n]+t;if(i in e)return i}}function h(){}function m(){}function p(e){function t(){for(var t,o=n,i=-1,s=o.length;++i<s;)(t=o[i].on)&&t.apply(this,arguments);return e}var n=[],o=new i;return t.on=function(t,i){var s,r=o.get(t);return arguments.length<2?r&&r.on:(r&&(r.on=null,n=n.slice(0,s=n.indexOf(r)).concat(n.slice(s+1)),o.remove(t)),i&&n.push(o.set(t,{on:i})),e)},t}function _(){Ur.event.preventDefault()}function f(){for(var e,t=Ur.event;e=t.sourceEvent;)t=e;return t}function v(e){for(var t=new m,n=0,o=arguments.length;++n<o;)t[arguments[n]]=p(t);return t.of=function(n,o){return function(i){try{var s=i.sourceEvent=Ur.event;i.target=e,Ur.event=i,t[i.type].apply(n,o)}finally{Ur.event=s}}},t}function b(e){return ga(e,fa),e}function y(e){return"function"==typeof e?e:function(){return ha(e,this)}}function w(e){return"function"==typeof e?e:function(){return ma(e,this)}}function k(e,t){function n(){this.removeAttribute(e)}function o(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function s(){this.setAttributeNS(e.space,e.local,t)}function r(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=Ur.ns.qualify(e),null==t?e.local?o:n:"function"==typeof t?e.local?a:r:e.local?s:i}function C(e){return e.trim().replace(/\s+/g," ")}function x(e){return new RegExp("(?:^|\\s+)"+Ur.requote(e)+"(?:\\s+|$)","g")}function S(e){return e.trim().split(/^|\s+/)}function z(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function o(){for(var n=-1,o=t.apply(this,arguments);++n<i;)e[n](this,o)}e=S(e).map(M);var i=e.length;return"function"==typeof t?o:n}function M(e){var t=x(e);return function(n,o){if(i=n.classList)return o?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";o?(t.lastIndex=0,t.test(i)||n.setAttribute("class",C(i+" "+e))):n.setAttribute("class",C(i.replace(t," ")))}}function T(e,t,n){function o(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var o=t.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}return null==t?o:"function"==typeof t?s:i}function A(e,t){function n(){delete this[e]}function o(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:o}function E(e){return"function"==typeof e?e:(e=Ur.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,e)}}function R(e){return{__data__:e}}function N(e){return function(){return _a(this,e)}}function j(e){return arguments.length||(e=Ur.ascending),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function D(e,t){for(var n=0,o=e.length;o>n;n++)for(var i,s=e[n],r=0,a=s.length;a>r;r++)(i=s[r])&&t(i,r,n);return e}function P(e){return ga(e,ba),e}function O(e){var t,n;return function(o,i,s){var r,a=e[s].update,l=a.length;for(s!=n&&(n=s,t=0),i>=t&&(t=i+1);!(r=a[t])&&++t<l;);return r}}function I(){var e=this.__transition__;e&&++e.active}function $(e,t,n){function o(){var t=this[r];t&&(this.removeEventListener(e,t,t.$),delete this[r])}function i(){var i=l(t,Yr(arguments));o.call(this),this.addEventListener(e,this[r]=i,i.$=n),i._=t}function s(){var t,n=new RegExp("^__on([^.]+)"+Ur.requote(e)+"$");for(var o in this)if(t=o.match(n)){var i=this[o];this.removeEventListener(t[1],i,i.$),delete this[o]}}var r="__on"+e,a=e.indexOf("."),l=L;a>0&&(e=e.substring(0,a));var u=wa.get(e);return u&&(e=u,l=G),a?t?i:o:t?h:s}function L(e,t){return function(n){var o=Ur.event;Ur.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{Ur.event=o}}}function G(e,t){var n=L(e,t);return function(e){var t=this,o=e.relatedTarget;o&&(o===t||8&o.compareDocumentPosition(t))||n.call(t,e)}}function F(){var e=".dragsuppress-"+ ++Ca,t="click"+e,n=Ur.select(Jr).on("touchmove"+e,_).on("dragstart"+e,_).on("selectstart"+e,_);if(ka){var o=Xr.style,i=o[ka];o[ka]="none"}return function(s){function r(){n.on(t,null)}n.on(e,null),ka&&(o[ka]=i),s&&(n.on(t,function(){_(),r()},!0),setTimeout(r,0))}}function q(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var o=n.createSVGPoint();if(0>xa&&(Jr.scrollX||Jr.scrollY)){n=Ur.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();xa=!(i.f||i.e),n.remove()}return xa?(o.x=t.pageX,o.y=t.pageY):(o.x=t.clientX,o.y=t.clientY),o=o.matrixTransform(e.getScreenCTM().inverse()),[o.x,o.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function H(e){return e>0?1:0>e?-1:0}function V(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function W(e){return e>1?0:-1>e?Sa:Math.acos(e)}function B(e){return e>1?Ma:-1>e?-Ma:Math.asin(e)}function U(e){return((e=Math.exp(e))-1/e)/2}function K(e){return((e=Math.exp(e))+1/e)/2}function Y(e){return((e=Math.exp(2*e))-1)/(e+1)}function Z(e){return(e=Math.sin(e/2))*e}function X(){}function J(e,t,n){return new Q(e,t,n)}function Q(e,t,n){this.h=e,this.s=t,this.l=n}function et(e,t,n){function o(e){return e>360?e-=360:0>e&&(e+=360),60>e?s+(r-s)*e/60:180>e?r:240>e?s+(r-s)*(240-e)/60:s}function i(e){return Math.round(255*o(e))}var s,r;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,r=.5>=n?n*(1+t):n+t-n*t,s=2*n-r,ht(i(e+120),i(e),i(e-120))}function tt(e,t,n){return new nt(e,t,n)}function nt(e,t,n){this.h=e,this.c=t,this.l=n}function ot(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),it(n,Math.cos(e*=Ea)*t,Math.sin(e)*t)}function it(e,t,n){return new st(e,t,n)}function st(e,t,n){this.l=e,this.a=t,this.b=n}function rt(e,t,n){var o=(e+16)/116,i=o+t/500,s=o-n/200;return i=lt(i)*Fa,o=lt(o)*qa,s=lt(s)*Ha,ht(dt(3.2404542*i-1.5371385*o-.4985314*s),dt(-.969266*i+1.8760108*o+.041556*s),dt(.0556434*i-.2040259*o+1.0572252*s))}function at(e,t,n){return e>0?tt(Math.atan2(n,t)*Ra,Math.sqrt(t*t+n*n),e):tt(0/0,0/0,e)}function lt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ut(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function dt(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ct(e){return ht(e>>16,e>>8&255,255&e)}function gt(e){return ct(e)+""}function ht(e,t,n){return new mt(e,t,n)}function mt(e,t,n){this.r=e,this.g=t,this.b=n}function pt(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function _t(e,t,n){var o,i,s,r=0,a=0,l=0;if(o=/([a-z]+)\((.*)\)/i.exec(e))switch(i=o[2].split(","),o[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(yt(i[0]),yt(i[1]),yt(i[2]))}return(s=Ba.get(e))?t(s.r,s.g,s.b):(null!=e&&"#"===e.charAt(0)&&(4===e.length?(r=e.charAt(1),r+=r,a=e.charAt(2),a+=a,l=e.charAt(3),l+=l):7===e.length&&(r=e.substring(1,3),a=e.substring(3,5),l=e.substring(5,7)),r=parseInt(r,16),a=parseInt(a,16),l=parseInt(l,16)),t(r,a,l))}function ft(e,t,n){var o,i,s=Math.min(e/=255,t/=255,n/=255),r=Math.max(e,t,n),a=r-s,l=(r+s)/2;return a?(i=.5>l?a/(r+s):a/(2-r-s),o=e==r?(t-n)/a+(n>t?6:0):t==r?(n-e)/a+2:(e-t)/a+4,o*=60):(o=0/0,i=l>0&&1>l?0:o),J(o,i,l)}function vt(e,t,n){e=bt(e),t=bt(t),n=bt(n);var o=ut((.4124564*e+.3575761*t+.1804375*n)/Fa),i=ut((.2126729*e+.7151522*t+.072175*n)/qa),s=ut((.0193339*e+.119192*t+.9503041*n)/Ha);return it(116*i-16,500*(o-i),200*(i-s))}function bt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function yt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function wt(e){return"function"==typeof e?e:function(){return e}}function kt(e){return e}function Ct(e){return function(t,n,o){return 2===arguments.length&&"function"==typeof n&&(o=n,n=null),xt(t,n,e,o)}}function xt(e,t,n,o){function i(){var e,t=l.status;if(!t&&l.responseText||t>=200&&300>t||304===t){try{e=n.call(s,l)}catch(o){return void r.error.call(s,o)}r.load.call(s,e)}else r.error.call(s,l)}var s={},r=Ur.dispatch("beforesend","progress","load","error"),a={},l=new XMLHttpRequest,u=null;return!Jr.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(e){var t=Ur.event;Ur.event=e;try{r.progress.call(s,l)}finally{Ur.event=t}},s.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?a[e]:(null==t?delete a[e]:a[e]=t+"",s)},s.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",s):t},s.responseType=function(e){return arguments.length?(u=e,s):u},s.response=function(e){return n=e,s},["get","post"].forEach(function(e){s[e]=function(){return s.send.apply(s,[e].concat(Yr(arguments)))}}),s.send=function(n,o,i){if(2===arguments.length&&"function"==typeof o&&(i=o,o=null),l.open(n,e,!0),null==t||"accept"in a||(a.accept=t+",*/*"),l.setRequestHeader)for(var d in a)l.setRequestHeader(d,a[d]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=u&&(l.responseType=u),null!=i&&s.on("error",i).on("load",function(e){i(null,e)}),r.beforesend.call(s,l),l.send(null==o?null:o),s},s.abort=function(){return l.abort(),s},Ur.rebind(s,r,"on"),null==o?s:s.get(St(o))}function St(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function zt(){var e=Mt(),t=Tt()-e;t>24?(isFinite(t)&&(clearTimeout(Za),Za=setTimeout(zt,t)),Ya=0):(Ya=1,Ja(zt))}function Mt(){var e=Date.now();for(Xa=Ua;Xa;)e>=Xa.t&&(Xa.f=Xa.c(e-Xa.t)),Xa=Xa.n;return e}function Tt(){for(var e,t=Ua,n=1/0;t;)t.f?t=e?e.n=t.n:Ua=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return Ka=e,n}function At(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Et(e,t){var n=Math.pow(10,3*aa(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Rt(e){var t=e.decimal,n=e.thousands,o=e.grouping,i=e.currency,s=o?function(e){for(var t=e.length,i=[],s=0,r=o[0];t>0&&r>0;)i.push(e.substring(t-=r,t+r)),r=o[s=(s+1)%o.length];return i.reverse().join(n)}:kt;return function(e){var n=el.exec(e),o=n[1]||" ",r=n[2]||">",a=n[3]||"",l=n[4]||"",u=n[5],d=+n[6],c=n[7],g=n[8],h=n[9],m=1,p="",_="",f=!1;switch(g&&(g=+g.substring(1)),(u||"0"===o&&"="===r)&&(u=o="0",r="=",c&&(d-=Math.floor((d-1)/4))),h){case"n":c=!0,h="g";break;case"%":m=100,_="%",h="f";break;case"p":m=100,_="%",h="r";break;case"b":case"o":case"x":case"X":"#"===l&&(p="0"+h.toLowerCase());case"c":case"d":f=!0,g=0;break;case"s":m=-1,h="r"}"$"===l&&(p=i[0],_=i[1]),"r"!=h||g||(h="g"),null!=g&&("g"==h?g=Math.max(1,Math.min(21,g)):("e"==h||"f"==h)&&(g=Math.max(0,Math.min(20,g)))),h=tl.get(h)||Nt;var v=u&&c;return function(e){if(f&&e%1)return"";var n=0>e||0===e&&0>1/e?(e=-e,"-"):a;if(0>m){var i=Ur.formatPrefix(e,g);e=i.scale(e),_=i.symbol}else e*=m;e=h(e,g);var l=e.lastIndexOf("."),b=0>l?e:e.substring(0,l),y=0>l?"":t+e.substring(l+1);!u&&c&&(b=s(b));var w=p.length+b.length+y.length+(v?0:n.length),k=d>w?new Array(w=d-w+1).join(o):"";return v&&(b=s(k+b)),n+=p,e=b+y,("<"===r?n+e+k:">"===r?k+n+e:"^"===r?k.substring(0,w>>=1)+n+e+k.substring(w):n+(v?e:k+e))+_}}}function Nt(e){return e+""}function jt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Dt(e,t,n){function o(t){var n=e(t),o=s(n,1);return o-t>t-n?n:o}function i(n){return t(n=e(new ol(n-1)),1),n}function s(e,n){return t(e=new ol(+e),n),e}function r(e,o,s){var r=i(e),a=[];if(s>1)for(;o>r;)n(r)%s||a.push(new Date(+r)),t(r,1);else for(;o>r;)a.push(new Date(+r)),t(r,1);return a}function a(e,t,n){try{ol=jt;var o=new jt;return o._=e,r(o,t,n)}finally{ol=Date}}e.floor=e,e.round=o,e.ceil=i,e.offset=s,e.range=r;var l=e.utc=Pt(e);return l.floor=l,l.round=Pt(o),l.ceil=Pt(i),l.offset=Pt(s),l.range=a,e}function Pt(e){return function(t,n){try{ol=jt;var o=new jt;return o._=t,e(o,n)._}finally{ol=Date}}}function Ot(e){function t(e){function t(t){for(var n,i,s,r=[],a=-1,l=0;++a<o;)37===e.charCodeAt(a)&&(r.push(e.substring(l,a)),null!=(i=sl[n=e.charAt(++a)])&&(n=e.charAt(++a)),(s=T[n])&&(n=s(t,null==i?"e"===n?" ":"0":i)),r.push(n),l=a+1);return r.push(e.substring(l,a)),r.join("")}var o=e.length;return t.parse=function(t){var o={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(o,e,t,0);if(i!=t.length)return null;"p"in o&&(o.H=o.H%12+12*o.p);var s=null!=o.Z&&ol!==jt,r=new(s?jt:ol);return"j"in o?r.setFullYear(o.y,0,o.j):"w"in o&&("W"in o||"U"in o)?(r.setFullYear(o.y,0,1),r.setFullYear(o.y,0,"W"in o?(o.w+6)%7+7*o.W-(r.getDay()+5)%7:o.w+7*o.U-(r.getDay()+6)%7)):r.setFullYear(o.y,o.m,o.d),r.setHours(o.H+Math.floor(o.Z/100),o.M+o.Z%100,o.S,o.L),s?r._:r},t.toString=function(){return e},t}function n(e,t,n,o){for(var i,s,r,a=0,l=t.length,u=n.length;l>a;){if(o>=u)return-1;if(i=t.charCodeAt(a++),37===i){if(r=t.charAt(a++),s=A[r in sl?t.charAt(a++):r],!s||(o=s(e,n,o))<0)return-1}else if(i!=n.charCodeAt(o++))return-1}return o}function o(e,t,n){k.lastIndex=0;var o=k.exec(t.substring(n));return o?(e.w=C.get(o[0].toLowerCase()),n+o[0].length):-1
}function i(e,t,n){y.lastIndex=0;var o=y.exec(t.substring(n));return o?(e.w=w.get(o[0].toLowerCase()),n+o[0].length):-1}function s(e,t,n){z.lastIndex=0;var o=z.exec(t.substring(n));return o?(e.m=M.get(o[0].toLowerCase()),n+o[0].length):-1}function r(e,t,n){x.lastIndex=0;var o=x.exec(t.substring(n));return o?(e.m=S.get(o[0].toLowerCase()),n+o[0].length):-1}function a(e,t,o){return n(e,T.c.toString(),t,o)}function l(e,t,o){return n(e,T.x.toString(),t,o)}function u(e,t,o){return n(e,T.X.toString(),t,o)}function d(e,t,n){var o=b.get(t.substring(n,n+=2).toLowerCase());return null==o?-1:(e.p=o,n)}var c=e.dateTime,g=e.date,h=e.time,m=e.periods,p=e.days,_=e.shortDays,f=e.months,v=e.shortMonths;t.utc=function(e){function n(e){try{ol=jt;var t=new ol;return t._=e,o(t)}finally{ol=Date}}var o=t(e);return n.parse=function(e){try{ol=jt;var t=o.parse(e);return t&&t._}finally{ol=Date}},n.toString=o.toString,n},t.multi=t.utc.multi=nn;var b=Ur.map(),y=$t(p),w=Lt(p),k=$t(_),C=Lt(_),x=$t(f),S=Lt(f),z=$t(v),M=Lt(v);m.forEach(function(e,t){b.set(e.toLowerCase(),t)});var T={a:function(e){return _[e.getDay()]},A:function(e){return p[e.getDay()]},b:function(e){return v[e.getMonth()]},B:function(e){return f[e.getMonth()]},c:t(c),d:function(e,t){return It(e.getDate(),t,2)},e:function(e,t){return It(e.getDate(),t,2)},H:function(e,t){return It(e.getHours(),t,2)},I:function(e,t){return It(e.getHours()%12||12,t,2)},j:function(e,t){return It(1+nl.dayOfYear(e),t,3)},L:function(e,t){return It(e.getMilliseconds(),t,3)},m:function(e,t){return It(e.getMonth()+1,t,2)},M:function(e,t){return It(e.getMinutes(),t,2)},p:function(e){return m[+(e.getHours()>=12)]},S:function(e,t){return It(e.getSeconds(),t,2)},U:function(e,t){return It(nl.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return It(nl.mondayOfYear(e),t,2)},x:t(g),X:t(h),y:function(e,t){return It(e.getFullYear()%100,t,2)},Y:function(e,t){return It(e.getFullYear()%1e4,t,4)},Z:en,"%":function(){return"%"}},A={a:o,A:i,b:s,B:r,c:a,d:Kt,e:Kt,H:Zt,I:Zt,j:Yt,L:Qt,m:Ut,M:Xt,p:d,S:Jt,U:Ft,w:Gt,W:qt,x:l,X:u,y:Vt,Y:Ht,Z:Wt,"%":tn};return t}function It(e,t,n){var o=0>e?"-":"",i=(o?-e:e)+"",s=i.length;return o+(n>s?new Array(n-s+1).join(t)+i:i)}function $t(e){return new RegExp("^(?:"+e.map(Ur.requote).join("|")+")","i")}function Lt(e){for(var t=new i,n=-1,o=e.length;++n<o;)t.set(e[n].toLowerCase(),n);return t}function Gt(e,t,n){rl.lastIndex=0;var o=rl.exec(t.substring(n,n+1));return o?(e.w=+o[0],n+o[0].length):-1}function Ft(e,t,n){rl.lastIndex=0;var o=rl.exec(t.substring(n));return o?(e.U=+o[0],n+o[0].length):-1}function qt(e,t,n){rl.lastIndex=0;var o=rl.exec(t.substring(n));return o?(e.W=+o[0],n+o[0].length):-1}function Ht(e,t,n){rl.lastIndex=0;var o=rl.exec(t.substring(n,n+4));return o?(e.y=+o[0],n+o[0].length):-1}function Vt(e,t,n){rl.lastIndex=0;var o=rl.exec(t.substring(n,n+2));return o?(e.y=Bt(+o[0]),n+o[0].length):-1}function Wt(e,t,n){return/^[+-]\d{4}$/.test(t=t.substring(n,n+5))?(e.Z=+t,n+5):-1}function Bt(e){return e+(e>68?1900:2e3)}function Ut(e,t,n){rl.lastIndex=0;var o=rl.exec(t.substring(n,n+2));return o?(e.m=o[0]-1,n+o[0].length):-1}function Kt(e,t,n){rl.lastIndex=0;var o=rl.exec(t.substring(n,n+2));return o?(e.d=+o[0],n+o[0].length):-1}function Yt(e,t,n){rl.lastIndex=0;var o=rl.exec(t.substring(n,n+3));return o?(e.j=+o[0],n+o[0].length):-1}function Zt(e,t,n){rl.lastIndex=0;var o=rl.exec(t.substring(n,n+2));return o?(e.H=+o[0],n+o[0].length):-1}function Xt(e,t,n){rl.lastIndex=0;var o=rl.exec(t.substring(n,n+2));return o?(e.M=+o[0],n+o[0].length):-1}function Jt(e,t,n){rl.lastIndex=0;var o=rl.exec(t.substring(n,n+2));return o?(e.S=+o[0],n+o[0].length):-1}function Qt(e,t,n){rl.lastIndex=0;var o=rl.exec(t.substring(n,n+3));return o?(e.L=+o[0],n+o[0].length):-1}function en(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",o=~~(aa(t)/60),i=aa(t)%60;return n+It(o,"0",2)+It(i,"0",2)}function tn(e,t,n){al.lastIndex=0;var o=al.exec(t.substring(n,n+1));return o?n+o[0].length:-1}function nn(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,o=e[n];!o[1](t);)o=e[++n];return o[0](t)}}function on(){}function sn(e,t,n){var o=n.s=e+t,i=o-e,s=o-i;n.t=e-s+(t-i)}function rn(e,t){e&&cl.hasOwnProperty(e.type)&&cl[e.type](e,t)}function an(e,t,n){var o,i=-1,s=e.length-n;for(t.lineStart();++i<s;)o=e[i],t.point(o[0],o[1],o[2]);t.lineEnd()}function ln(e,t){var n=-1,o=e.length;for(t.polygonStart();++n<o;)an(e[n],t,1);t.polygonEnd()}function un(){function e(e,t){e*=Ea,t=t*Ea/2+Sa/4;var n=e-o,r=Math.cos(t),a=Math.sin(t),l=s*a,u=i*r+l*Math.cos(n),d=l*Math.sin(n);hl.add(Math.atan2(d,u)),o=e,i=r,s=a}var t,n,o,i,s;ml.point=function(r,a){ml.point=e,o=(t=r)*Ea,i=Math.cos(a=(n=a)*Ea/2+Sa/4),s=Math.sin(a)},ml.lineEnd=function(){e(t,n)}}function dn(e){var t=e[0],n=e[1],o=Math.cos(n);return[o*Math.cos(t),o*Math.sin(t),Math.sin(n)]}function cn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function gn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function hn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function mn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function pn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function _n(e){return[Math.atan2(e[1],e[0]),B(e[2])]}function fn(e,t){return aa(e[0]-t[0])<Ta&&aa(e[1]-t[1])<Ta}function vn(e,t){e*=Ea;var n=Math.cos(t*=Ea);bn(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function bn(e,t,n){++pl,fl+=(e-fl)/pl,vl+=(t-vl)/pl,bl+=(n-bl)/pl}function yn(){function e(e,i){e*=Ea;var s=Math.cos(i*=Ea),r=s*Math.cos(e),a=s*Math.sin(e),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=n*l-o*a)*u+(u=o*r-t*l)*u+(u=t*a-n*r)*u),t*r+n*a+o*l);_l+=u,yl+=u*(t+(t=r)),wl+=u*(n+(n=a)),kl+=u*(o+(o=l)),bn(t,n,o)}var t,n,o;zl.point=function(i,s){i*=Ea;var r=Math.cos(s*=Ea);t=r*Math.cos(i),n=r*Math.sin(i),o=Math.sin(s),zl.point=e,bn(t,n,o)}}function wn(){zl.point=vn}function kn(){function e(e,t){e*=Ea;var n=Math.cos(t*=Ea),r=n*Math.cos(e),a=n*Math.sin(e),l=Math.sin(t),u=i*l-s*a,d=s*r-o*l,c=o*a-i*r,g=Math.sqrt(u*u+d*d+c*c),h=o*r+i*a+s*l,m=g&&-W(h)/g,p=Math.atan2(g,h);Cl+=m*u,xl+=m*d,Sl+=m*c,_l+=p,yl+=p*(o+(o=r)),wl+=p*(i+(i=a)),kl+=p*(s+(s=l)),bn(o,i,s)}var t,n,o,i,s;zl.point=function(r,a){t=r,n=a,zl.point=e,r*=Ea;var l=Math.cos(a*=Ea);o=l*Math.cos(r),i=l*Math.sin(r),s=Math.sin(a),bn(o,i,s)},zl.lineEnd=function(){e(t,n),zl.lineEnd=wn,zl.point=vn}}function Cn(){return!0}function xn(e,t,n,o,i){var s=[],r=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],o=e[t];if(fn(n,o)){i.lineStart();for(var a=0;t>a;++a)i.point((n=e[a])[0],n[1]);return void i.lineEnd()}var l=new zn(n,e,null,!0),u=new zn(n,null,l,!1);l.o=u,s.push(l),r.push(u),l=new zn(o,e,null,!1),u=new zn(o,null,l,!0),l.o=u,s.push(l),r.push(u)}}),r.sort(t),Sn(s),Sn(r),s.length){for(var a=0,l=n,u=r.length;u>a;++a)r[a].e=l=!l;for(var d,c,g=s[0];;){for(var h=g,m=!0;h.v;)if((h=h.n)===g)return;d=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(m)for(var a=0,u=d.length;u>a;++a)i.point((c=d[a])[0],c[1]);else o(h.x,h.n.x,1,i);h=h.n}else{if(m){d=h.p.z;for(var a=d.length-1;a>=0;--a)i.point((c=d[a])[0],c[1])}else o(h.x,h.p.x,-1,i);h=h.p}h=h.o,d=h.z,m=!m}while(!h.v);i.lineEnd()}}}function Sn(e){if(t=e.length){for(var t,n,o=0,i=e[0];++o<t;)i.n=n=e[o],n.p=i,i=n;i.n=n=e[0],n.p=i}}function zn(e,t,n,o){this.x=e,this.z=t,this.o=n,this.e=o,this.v=!1,this.n=this.p=null}function Mn(e,t,n,o){return function(i,s){function r(t,n){var o=i(t,n);e(t=o[0],n=o[1])&&s.point(t,n)}function a(e,t){var n=i(e,t);_.point(n[0],n[1])}function l(){v.point=a,_.lineStart()}function u(){v.point=r,_.lineEnd()}function d(e,t){p.push([e,t]);var n=i(e,t);y.point(n[0],n[1])}function c(){y.lineStart(),p=[]}function g(){d(p[0][0],p[0][1]),y.lineEnd();var e,t=y.clean(),n=b.buffer(),o=n.length;if(p.pop(),m.push(p),p=null,o){if(1&t){e=n[0];var i,o=e.length-1,r=-1;for(s.lineStart();++r<o;)s.point((i=e[r])[0],i[1]);return void s.lineEnd()}o>1&&2&t&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Tn))}}var h,m,p,_=t(s),f=i.invert(o[0],o[1]),v={point:r,lineStart:l,lineEnd:u,polygonStart:function(){v.point=d,v.lineStart=c,v.lineEnd=g,h=[],m=[],s.polygonStart()},polygonEnd:function(){v.point=r,v.lineStart=l,v.lineEnd=u,h=Ur.merge(h);var e=Rn(f,m);h.length?xn(h,En,e,n,s):e&&(s.lineStart(),n(null,null,1,s),s.lineEnd()),s.polygonEnd(),h=m=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}},b=An(),y=t(b);return v}}function Tn(e){return e.length>1}function An(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:h,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function En(e,t){return((e=e.x)[0]<0?e[1]-Ma-Ta:Ma-e[1])-((t=t.x)[0]<0?t[1]-Ma-Ta:Ma-t[1])}function Rn(e,t){var n=e[0],o=e[1],i=[Math.sin(n),-Math.cos(n),0],s=0,r=0;hl.reset();for(var a=0,l=t.length;l>a;++a){var u=t[a],d=u.length;if(d)for(var c=u[0],g=c[0],h=c[1]/2+Sa/4,m=Math.sin(h),p=Math.cos(h),_=1;;){_===d&&(_=0),e=u[_];var f=e[0],v=e[1]/2+Sa/4,b=Math.sin(v),y=Math.cos(v),w=f-g,k=aa(w)>Sa,C=m*b;if(hl.add(Math.atan2(C*Math.sin(w),p*y+C*Math.cos(w))),s+=k?w+(w>=0?za:-za):w,k^g>=n^f>=n){var x=gn(dn(c),dn(e));pn(x);var S=gn(i,x);pn(S);var z=(k^w>=0?-1:1)*B(S[2]);(o>z||o===z&&(x[0]||x[1]))&&(r+=k^w>=0?1:-1)}if(!_++)break;g=f,m=b,p=y,c=e}}return(-Ta>s||Ta>s&&0>hl)^1&r}function Nn(e){var t,n=0/0,o=0/0,i=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(s,r){var a=s>0?Sa:-Sa,l=aa(s-n);aa(l-Sa)<Ta?(e.point(n,o=(o+r)/2>0?Ma:-Ma),e.point(i,o),e.lineEnd(),e.lineStart(),e.point(a,o),e.point(s,o),t=0):i!==a&&l>=Sa&&(aa(n-i)<Ta&&(n-=i*Ta),aa(s-a)<Ta&&(s-=a*Ta),o=jn(n,o,s,r),e.point(i,o),e.lineEnd(),e.lineStart(),e.point(a,o),t=0),e.point(n=s,o=r),i=a},lineEnd:function(){e.lineEnd(),n=o=0/0},clean:function(){return 2-t}}}function jn(e,t,n,o){var i,s,r=Math.sin(e-n);return aa(r)>Ta?Math.atan((Math.sin(t)*(s=Math.cos(o))*Math.sin(n)-Math.sin(o)*(i=Math.cos(t))*Math.sin(e))/(i*s*r)):(t+o)/2}function Dn(e,t,n,o){var i;if(null==e)i=n*Ma,o.point(-Sa,i),o.point(0,i),o.point(Sa,i),o.point(Sa,0),o.point(Sa,-i),o.point(0,-i),o.point(-Sa,-i),o.point(-Sa,0),o.point(-Sa,i);else if(aa(e[0]-t[0])>Ta){var s=e[0]<t[0]?Sa:-Sa;i=n*s/2,o.point(-s,i),o.point(0,i),o.point(s,i)}else o.point(t[0],t[1])}function Pn(e){function t(e,t){return Math.cos(e)*Math.cos(t)>s}function n(e){var n,s,l,u,d;return{lineStart:function(){u=l=!1,d=1},point:function(c,g){var h,m=[c,g],p=t(c,g),_=r?p?0:i(c,g):p?i(c+(0>c?Sa:-Sa),g):0;if(!n&&(u=l=p)&&e.lineStart(),p!==l&&(h=o(n,m),(fn(n,h)||fn(m,h))&&(m[0]+=Ta,m[1]+=Ta,p=t(m[0],m[1]))),p!==l)d=0,p?(e.lineStart(),h=o(m,n),e.point(h[0],h[1])):(h=o(n,m),e.point(h[0],h[1]),e.lineEnd()),n=h;else if(a&&n&&r^p){var f;_&s||!(f=o(m,n,!0))||(d=0,r?(e.lineStart(),e.point(f[0][0],f[0][1]),e.point(f[1][0],f[1][1]),e.lineEnd()):(e.point(f[1][0],f[1][1]),e.lineEnd(),e.lineStart(),e.point(f[0][0],f[0][1])))}!p||n&&fn(n,m)||e.point(m[0],m[1]),n=m,l=p,s=_},lineEnd:function(){l&&e.lineEnd(),n=null},clean:function(){return d|(u&&l)<<1}}}function o(e,t,n){var o=dn(e),i=dn(t),r=[1,0,0],a=gn(o,i),l=cn(a,a),u=a[0],d=l-u*u;if(!d)return!n&&e;var c=s*l/d,g=-s*u/d,h=gn(r,a),m=mn(r,c),p=mn(a,g);hn(m,p);var _=h,f=cn(m,_),v=cn(_,_),b=f*f-v*(cn(m,m)-1);if(!(0>b)){var y=Math.sqrt(b),w=mn(_,(-f-y)/v);if(hn(w,m),w=_n(w),!n)return w;var k,C=e[0],x=t[0],S=e[1],z=t[1];C>x&&(k=C,C=x,x=k);var M=x-C,T=aa(M-Sa)<Ta,A=T||Ta>M;if(!T&&S>z&&(k=S,S=z,z=k),A?T?S+z>0^w[1]<(aa(w[0]-C)<Ta?S:z):S<=w[1]&&w[1]<=z:M>Sa^(C<=w[0]&&w[0]<=x)){var E=mn(_,(-f+y)/v);return hn(E,m),[w,_n(E)]}}}function i(t,n){var o=r?e:Sa-e,i=0;return-o>t?i|=1:t>o&&(i|=2),-o>n?i|=4:n>o&&(i|=8),i}var s=Math.cos(e),r=s>0,a=aa(s)>Ta,l=uo(e,6*Ea);return Mn(t,n,l,r?[0,-e]:[-Sa,e-Sa])}function On(e,t,n,o){return function(i){var s,r=i.a,a=i.b,l=r.x,u=r.y,d=a.x,c=a.y,g=0,h=1,m=d-l,p=c-u;if(s=e-l,m||!(s>0)){if(s/=m,0>m){if(g>s)return;h>s&&(h=s)}else if(m>0){if(s>h)return;s>g&&(g=s)}if(s=n-l,m||!(0>s)){if(s/=m,0>m){if(s>h)return;s>g&&(g=s)}else if(m>0){if(g>s)return;h>s&&(h=s)}if(s=t-u,p||!(s>0)){if(s/=p,0>p){if(g>s)return;h>s&&(h=s)}else if(p>0){if(s>h)return;s>g&&(g=s)}if(s=o-u,p||!(0>s)){if(s/=p,0>p){if(s>h)return;s>g&&(g=s)}else if(p>0){if(g>s)return;h>s&&(h=s)}return g>0&&(i.a={x:l+g*m,y:u+g*p}),1>h&&(i.b={x:l+h*m,y:u+h*p}),i}}}}}}function In(e,t,n,o){function i(o,i){return aa(o[0]-e)<Ta?i>0?0:3:aa(o[0]-n)<Ta?i>0?2:1:aa(o[1]-t)<Ta?i>0?1:0:i>0?3:2}function s(e,t){return r(e.x,t.x)}function r(e,t){var n=i(e,1),o=i(t,1);return n!==o?n-o:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){function l(e){for(var t=0,n=_.length,o=e[1],i=0;n>i;++i)for(var s,r=1,a=_[i],l=a.length,u=a[0];l>r;++r)s=a[r],u[1]<=o?s[1]>o&&V(u,s,e)>0&&++t:s[1]<=o&&V(u,s,e)<0&&--t,u=s;return 0!==t}function u(s,a,l,u){var d=0,c=0;if(null==s||(d=i(s,l))!==(c=i(a,l))||r(s,a)<0^l>0){do u.point(0===d||3===d?e:n,d>1?o:t);while((d=(d+l+4)%4)!==c)}else u.point(a[0],a[1])}function d(i,s){return i>=e&&n>=i&&s>=t&&o>=s}function c(e,t){d(e,t)&&a.point(e,t)}function g(){A.point=m,_&&_.push(f=[]),x=!0,C=!1,w=k=0/0}function h(){p&&(m(v,b),y&&C&&M.rejoin(),p.push(M.buffer())),A.point=c,C&&a.lineEnd()}function m(e,t){e=Math.max(-Tl,Math.min(Tl,e)),t=Math.max(-Tl,Math.min(Tl,t));var n=d(e,t);if(_&&f.push([e,t]),x)v=e,b=t,y=n,x=!1,n&&(a.lineStart(),a.point(e,t));else if(n&&C)a.point(e,t);else{var o={a:{x:w,y:k},b:{x:e,y:t}};T(o)?(C||(a.lineStart(),a.point(o.a.x,o.a.y)),a.point(o.b.x,o.b.y),n||a.lineEnd(),S=!1):n&&(a.lineStart(),a.point(e,t),S=!1)}w=e,k=t,C=n}var p,_,f,v,b,y,w,k,C,x,S,z=a,M=An(),T=On(e,t,n,o),A={point:c,lineStart:g,lineEnd:h,polygonStart:function(){a=M,p=[],_=[],S=!0},polygonEnd:function(){a=z,p=Ur.merge(p);var t=l([e,o]),n=S&&t,i=p.length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),u(null,null,1,a),a.lineEnd()),i&&xn(p,s,t,u,a),a.polygonEnd()),p=_=f=null}};return A}}function $n(e,t){function n(n,o){return n=e(n,o),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,o){return n=t.invert(n,o),n&&e.invert(n[0],n[1])}),n}function Ln(e){var t=0,n=Sa/3,o=to(e),i=o(t,n);return i.parallels=function(e){return arguments.length?o(t=e[0]*Sa/180,n=e[1]*Sa/180):[t/Sa*180,n/Sa*180]},i}function Gn(e,t){function n(e,t){var n=Math.sqrt(s-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),r-n*Math.cos(e)]}var o=Math.sin(e),i=(o+Math.sin(t))/2,s=1+o*(2*i-o),r=Math.sqrt(s)/i;return n.invert=function(e,t){var n=r-t;return[Math.atan2(e,n)/i,B((s-(e*e+n*n)*i*i)/(2*i))]},n}function Fn(){function e(e,t){El+=i*e-o*t,o=e,i=t}var t,n,o,i;Pl.point=function(s,r){Pl.point=e,t=o=s,n=i=r},Pl.lineEnd=function(){e(t,n)}}function qn(e,t){Rl>e&&(Rl=e),e>jl&&(jl=e),Nl>t&&(Nl=t),t>Dl&&(Dl=t)}function Hn(){function e(e,t){r.push("M",e,",",t,s)}function t(e,t){r.push("M",e,",",t),a.point=n}function n(e,t){r.push("L",e,",",t)}function o(){a.point=e}function i(){r.push("Z")}var s=Vn(4.5),r=[],a={point:e,lineStart:function(){a.point=t},lineEnd:o,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=o,a.point=e},pointRadius:function(e){return s=Vn(e),a},result:function(){if(r.length){var e=r.join("");return r=[],e}}};return a}function Vn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Wn(e,t){fl+=e,vl+=t,++bl}function Bn(){function e(e,o){var i=e-t,s=o-n,r=Math.sqrt(i*i+s*s);yl+=r*(t+e)/2,wl+=r*(n+o)/2,kl+=r,Wn(t=e,n=o)}var t,n;Il.point=function(o,i){Il.point=e,Wn(t=o,n=i)}}function Un(){Il.point=Wn}function Kn(){function e(e,t){var n=e-o,s=t-i,r=Math.sqrt(n*n+s*s);yl+=r*(o+e)/2,wl+=r*(i+t)/2,kl+=r,r=i*e-o*t,Cl+=r*(o+e),xl+=r*(i+t),Sl+=3*r,Wn(o=e,i=t)}var t,n,o,i;Il.point=function(s,r){Il.point=e,Wn(t=o=s,n=i=r)},Il.lineEnd=function(){e(t,n)}}function Yn(e){function t(t,n){e.moveTo(t,n),e.arc(t,n,r,0,za)}function n(t,n){e.moveTo(t,n),a.point=o}function o(t,n){e.lineTo(t,n)}function i(){a.point=t}function s(){e.closePath()}var r=4.5,a={point:t,lineStart:function(){a.point=n},lineEnd:i,polygonStart:function(){a.lineEnd=s},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(e){return r=e,a},result:h};return a}function Zn(e){function t(e){return(a?o:n)(e)}function n(t){return Qn(t,function(n,o){n=e(n,o),t.point(n[0],n[1])})}function o(t){function n(n,o){n=e(n,o),t.point(n[0],n[1])}function o(){b=0/0,x.point=s,t.lineStart()}function s(n,o){var s=dn([n,o]),r=e(n,o);i(b,y,v,w,k,C,b=r[0],y=r[1],v=n,w=s[0],k=s[1],C=s[2],a,t),t.point(b,y)}function r(){x.point=n,t.lineEnd()}function l(){o(),x.point=u,x.lineEnd=d}function u(e,t){s(c=e,g=t),h=b,m=y,p=w,_=k,f=C,x.point=s}function d(){i(b,y,v,w,k,C,h,m,c,p,_,f,a,t),x.lineEnd=r,r()}var c,g,h,m,p,_,f,v,b,y,w,k,C,x={point:n,lineStart:o,lineEnd:r,polygonStart:function(){t.polygonStart(),x.lineStart=l},polygonEnd:function(){t.polygonEnd(),x.lineStart=o}};return x}function i(t,n,o,a,l,u,d,c,g,h,m,p,_,f){var v=d-t,b=c-n,y=v*v+b*b;if(y>4*s&&_--){var w=a+h,k=l+m,C=u+p,x=Math.sqrt(w*w+k*k+C*C),S=Math.asin(C/=x),z=aa(aa(C)-1)<Ta||aa(o-g)<Ta?(o+g)/2:Math.atan2(k,w),M=e(z,S),T=M[0],A=M[1],E=T-t,R=A-n,N=b*E-v*R;(N*N/y>s||aa((v*E+b*R)/y-.5)>.3||r>a*h+l*m+u*p)&&(i(t,n,o,a,l,u,T,A,z,w/=x,k/=x,C,_,f),f.point(T,A),i(T,A,z,w,k,C,d,c,g,h,m,p,_,f))}}var s=.5,r=Math.cos(30*Ea),a=16;return t.precision=function(e){return arguments.length?(a=(s=e*e)>0&&16,t):Math.sqrt(s)},t}function Xn(e){var t=Zn(function(t,n){return e([t*Ra,n*Ra])});return function(e){return no(t(e))}}function Jn(e){this.stream=e}function Qn(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function eo(e){return to(function(){return e})()}function to(e){function t(e){return e=a(e[0]*Ea,e[1]*Ea),[e[0]*g+l,u-e[1]*g]}function n(e){return e=a.invert((e[0]-l)/g,(u-e[1])/g),e&&[e[0]*Ra,e[1]*Ra]}function o(){a=$n(r=so(f,v,b),s);var e=s(p,_);return l=h-e[0]*g,u=m+e[1]*g,i()}function i(){return d&&(d.valid=!1,d=null),t}var s,r,a,l,u,d,c=Zn(function(e,t){return e=s(e,t),[e[0]*g+l,u-e[1]*g]}),g=150,h=480,m=250,p=0,_=0,f=0,v=0,b=0,y=Ml,w=kt,k=null,C=null;return t.stream=function(e){return d&&(d.valid=!1),d=no(y(r,c(w(e)))),d.valid=!0,d},t.clipAngle=function(e){return arguments.length?(y=null==e?(k=e,Ml):Pn((k=+e)*Ea),i()):k},t.clipExtent=function(e){return arguments.length?(C=e,w=e?In(e[0][0],e[0][1],e[1][0],e[1][1]):kt,i()):C},t.scale=function(e){return arguments.length?(g=+e,o()):g},t.translate=function(e){return arguments.length?(h=+e[0],m=+e[1],o()):[h,m]},t.center=function(e){return arguments.length?(p=e[0]%360*Ea,_=e[1]%360*Ea,o()):[p*Ra,_*Ra]},t.rotate=function(e){return arguments.length?(f=e[0]%360*Ea,v=e[1]%360*Ea,b=e.length>2?e[2]%360*Ea:0,o()):[f*Ra,v*Ra,b*Ra]},Ur.rebind(t,c,"precision"),function(){return s=e.apply(this,arguments),t.invert=s.invert&&n,o()}}function no(e){return Qn(e,function(t,n){e.point(t*Ea,n*Ea)})}function oo(e,t){return[e,t]}function io(e,t){return[e>Sa?e-za:-Sa>e?e+za:e,t]}function so(e,t,n){return e?t||n?$n(ao(e),lo(t,n)):ao(e):t||n?lo(t,n):io}function ro(e){return function(t,n){return t+=e,[t>Sa?t-za:-Sa>t?t+za:t,n]}}function ao(e){var t=ro(e);return t.invert=ro(-e),t}function lo(e,t){function n(e,t){var n=Math.cos(t),a=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),d=u*o+a*i;return[Math.atan2(l*s-d*r,a*o-u*i),B(d*s+l*r)]}var o=Math.cos(e),i=Math.sin(e),s=Math.cos(t),r=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),a=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),d=u*s-l*r;return[Math.atan2(l*s+u*r,a*o+d*i),B(d*o-a*i)]},n}function uo(e,t){var n=Math.cos(e),o=Math.sin(e);return function(i,s,r,a){var l=r*t;null!=i?(i=co(n,i),s=co(n,s),(r>0?s>i:i>s)&&(i+=r*za)):(i=e+r*za,s=e-.5*l);for(var u,d=i;r>0?d>s:s>d;d-=l)a.point((u=_n([n,-o*Math.cos(d),-o*Math.sin(d)]))[0],u[1])}}function co(e,t){var n=dn(t);n[0]-=e,pn(n);var o=W(-n[1]);return((-n[2]<0?-o:o)+2*Math.PI-Ta)%(2*Math.PI)}function go(e,t,n){var o=Ur.range(e,t-Ta,n).concat(t);return function(e){return o.map(function(t){return[e,t]})}}function ho(e,t,n){var o=Ur.range(e,t-Ta,n).concat(t);return function(e){return o.map(function(t){return[t,e]})}}function mo(e){return e.source}function po(e){return e.target}function _o(e,t,n,o){var i=Math.cos(t),s=Math.sin(t),r=Math.cos(o),a=Math.sin(o),l=i*Math.cos(e),u=i*Math.sin(e),d=r*Math.cos(n),c=r*Math.sin(n),g=2*Math.asin(Math.sqrt(Z(o-t)+i*r*Z(n-e))),h=1/Math.sin(g),m=g?function(e){var t=Math.sin(e*=g)*h,n=Math.sin(g-e)*h,o=n*l+t*d,i=n*u+t*c,r=n*s+t*a;return[Math.atan2(i,o)*Ra,Math.atan2(r,Math.sqrt(o*o+i*i))*Ra]}:function(){return[e*Ra,t*Ra]};return m.distance=g,m}function fo(){function e(e,i){var s=Math.sin(i*=Ea),r=Math.cos(i),a=aa((e*=Ea)-t),l=Math.cos(a);$l+=Math.atan2(Math.sqrt((a=r*Math.sin(a))*a+(a=o*s-n*r*l)*a),n*s+o*r*l),t=e,n=s,o=r}var t,n,o;Ll.point=function(i,s){t=i*Ea,n=Math.sin(s*=Ea),o=Math.cos(s),Ll.point=e},Ll.lineEnd=function(){Ll.point=Ll.lineEnd=h}}function vo(e,t){function n(t,n){var o=Math.cos(t),i=Math.cos(n),s=e(o*i);return[s*i*Math.sin(t),s*Math.sin(n)]}return n.invert=function(e,n){var o=Math.sqrt(e*e+n*n),i=t(o),s=Math.sin(i),r=Math.cos(i);return[Math.atan2(e*s,o*r),Math.asin(o&&n*s/o)]},n}function bo(e,t){function n(e,t){var n=aa(aa(t)-Ma)<Ta?0:r/Math.pow(i(t),s);return[n*Math.sin(s*e),r-n*Math.cos(s*e)]}var o=Math.cos(e),i=function(e){return Math.tan(Sa/4+e/2)},s=e===t?Math.sin(e):Math.log(o/Math.cos(t))/Math.log(i(t)/i(e)),r=o*Math.pow(i(e),s)/s;return s?(n.invert=function(e,t){var n=r-t,o=H(s)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/s,2*Math.atan(Math.pow(r/o,1/s))-Ma]},n):wo}function yo(e,t){function n(e,t){var n=s-t;return[n*Math.sin(i*e),s-n*Math.cos(i*e)]}var o=Math.cos(e),i=e===t?Math.sin(e):(o-Math.cos(t))/(t-e),s=o/i+e;return aa(i)<Ta?oo:(n.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/i,s-H(i)*Math.sqrt(e*e+n*n)]},n)}function wo(e,t){return[e,Math.log(Math.tan(Sa/4+t/2))]}function ko(e){var t,n=eo(e),o=n.scale,i=n.translate,s=n.clipExtent;return n.scale=function(){var e=o.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var r=s.apply(n,arguments);if(r===n){if(t=null==e){var a=Sa*o(),l=i();s([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else t&&(r=null);return r},n.clipExtent(null)}function Co(e,t){return[Math.log(Math.tan(Sa/4+t/2)),-e]}function xo(e){return e[0]}function So(e){return e[1]}function zo(e){for(var t=e.length,n=[0,1],o=2,i=2;t>i;i++){for(;o>1&&V(e[n[o-2]],e[n[o-1]],e[i])<=0;)--o;n[o++]=i}return n.slice(0,o)}function Mo(e,t){return e[0]-t[0]||e[1]-t[1]}function To(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Ao(e,t,n,o){var i=e[0],s=n[0],r=t[0]-i,a=o[0]-s,l=e[1],u=n[1],d=t[1]-l,c=o[1]-u,g=(a*(l-u)-c*(i-s))/(c*r-a*d);return[i+g*r,l+g*d]}function Eo(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Ro(){Jo(this),this.edge=this.site=this.circle=null}function No(e){var t=Xl.pop()||new Ro;return t.site=e,t}function jo(e){Ho(e),Kl.remove(e),Xl.push(e),Jo(e)}function Do(e){var t=e.circle,n=t.x,o=t.cy,i={x:n,y:o},s=e.P,r=e.N,a=[e];jo(e);for(var l=s;l.circle&&aa(n-l.circle.x)<Ta&&aa(o-l.circle.cy)<Ta;)s=l.P,a.unshift(l),jo(l),l=s;a.unshift(l),Ho(l);for(var u=r;u.circle&&aa(n-u.circle.x)<Ta&&aa(o-u.circle.cy)<Ta;)r=u.N,a.push(u),jo(u),u=r;a.push(u),Ho(u);var d,c=a.length;for(d=1;c>d;++d)u=a[d],l=a[d-1],Yo(u.edge,l.site,u.site,i);l=a[0],u=a[c-1],u.edge=Uo(l.site,u.site,null,i),qo(l),qo(u)}function Po(e){for(var t,n,o,i,s=e.x,r=e.y,a=Kl._;a;)if(o=Oo(a,r)-s,o>Ta)a=a.L;else{if(i=s-Io(a,r),!(i>Ta)){o>-Ta?(t=a.P,n=a):i>-Ta?(t=a,n=a.N):t=n=a;break}if(!a.R){t=a;break}a=a.R}var l=No(e);if(Kl.insert(t,l),t||n){if(t===n)return Ho(t),n=No(t.site),Kl.insert(l,n),l.edge=n.edge=Uo(t.site,l.site),qo(t),void qo(n);if(!n)return void(l.edge=Uo(t.site,l.site));Ho(t),Ho(n);var u=t.site,d=u.x,c=u.y,g=e.x-d,h=e.y-c,m=n.site,p=m.x-d,_=m.y-c,f=2*(g*_-h*p),v=g*g+h*h,b=p*p+_*_,y={x:(_*v-h*b)/f+d,y:(g*b-p*v)/f+c};Yo(n.edge,u,m,y),l.edge=Uo(u,e,null,y),n.edge=Uo(e,m,null,y),qo(t),qo(n)}}function Oo(e,t){var n=e.site,o=n.x,i=n.y,s=i-t;if(!s)return o;var r=e.P;if(!r)return-1/0;n=r.site;var a=n.x,l=n.y,u=l-t;if(!u)return a;var d=a-o,c=1/s-1/u,g=d/u;return c?(-g+Math.sqrt(g*g-2*c*(d*d/(-2*u)-l+u/2+i-s/2)))/c+o:(o+a)/2}function Io(e,t){var n=e.N;if(n)return Oo(n,t);var o=e.site;return o.y===t?o.x:1/0}function $o(e){this.site=e,this.edges=[]}function Lo(e){for(var t,n,o,i,s,r,a,l,u,d,c=e[0][0],g=e[1][0],h=e[0][1],m=e[1][1],p=Ul,_=p.length;_--;)if(s=p[_],s&&s.prepare())for(a=s.edges,l=a.length,r=0;l>r;)d=a[r].end(),o=d.x,i=d.y,u=a[++r%l].start(),t=u.x,n=u.y,(aa(o-t)>Ta||aa(i-n)>Ta)&&(a.splice(r,0,new Zo(Ko(s.site,d,aa(o-c)<Ta&&m-i>Ta?{x:c,y:aa(t-c)<Ta?n:m}:aa(i-m)<Ta&&g-o>Ta?{x:aa(n-m)<Ta?t:g,y:m}:aa(o-g)<Ta&&i-h>Ta?{x:g,y:aa(t-g)<Ta?n:h}:aa(i-h)<Ta&&o-c>Ta?{x:aa(n-h)<Ta?t:c,y:h}:null),s.site,null)),++l)}function Go(e,t){return t.angle-e.angle}function Fo(){Jo(this),this.x=this.y=this.arc=this.site=this.cy=null}function qo(e){var t=e.P,n=e.N;if(t&&n){var o=t.site,i=e.site,s=n.site;if(o!==s){var r=i.x,a=i.y,l=o.x-r,u=o.y-a,d=s.x-r,c=s.y-a,g=2*(l*c-u*d);if(!(g>=-Aa)){var h=l*l+u*u,m=d*d+c*c,p=(c*h-u*m)/g,_=(l*m-d*h)/g,c=_+a,f=Jl.pop()||new Fo;f.arc=e,f.site=i,f.x=p+r,f.y=c+Math.sqrt(p*p+_*_),f.cy=c,e.circle=f;for(var v=null,b=Zl._;b;)if(f.y<b.y||f.y===b.y&&f.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}Zl.insert(v,f),v||(Yl=f)}}}}function Ho(e){var t=e.circle;t&&(t.P||(Yl=t.N),Zl.remove(t),Jl.push(t),Jo(t),e.circle=null)}function Vo(e){for(var t,n=Bl,o=On(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!Wo(t,e)||!o(t)||aa(t.a.x-t.b.x)<Ta&&aa(t.a.y-t.b.y)<Ta)&&(t.a=t.b=null,n.splice(i,1))}function Wo(e,t){var n=e.b;if(n)return!0;var o,i,s=e.a,r=t[0][0],a=t[1][0],l=t[0][1],u=t[1][1],d=e.l,c=e.r,g=d.x,h=d.y,m=c.x,p=c.y,_=(g+m)/2,f=(h+p)/2;if(p===h){if(r>_||_>=a)return;if(g>m){if(s){if(s.y>=u)return}else s={x:_,y:l};n={x:_,y:u}}else{if(s){if(s.y<l)return}else s={x:_,y:u};n={x:_,y:l}}}else if(o=(g-m)/(p-h),i=f-o*_,-1>o||o>1)if(g>m){if(s){if(s.y>=u)return}else s={x:(l-i)/o,y:l};n={x:(u-i)/o,y:u}}else{if(s){if(s.y<l)return}else s={x:(u-i)/o,y:u};n={x:(l-i)/o,y:l}}else if(p>h){if(s){if(s.x>=a)return}else s={x:r,y:o*r+i};n={x:a,y:o*a+i}}else{if(s){if(s.x<r)return}else s={x:a,y:o*a+i};n={x:r,y:o*r+i}}return e.a=s,e.b=n,!0}function Bo(e,t){this.l=e,this.r=t,this.a=this.b=null}function Uo(e,t,n,o){var i=new Bo(e,t);return Bl.push(i),n&&Yo(i,e,t,n),o&&Yo(i,t,e,o),Ul[e.i].edges.push(new Zo(i,e,t)),Ul[t.i].edges.push(new Zo(i,t,e)),i}function Ko(e,t,n){var o=new Bo(e,null);return o.a=t,o.b=n,Bl.push(o),o}function Yo(e,t,n,o){e.a||e.b?e.l===n?e.b=o:e.a=o:(e.a=o,e.l=t,e.r=n)}function Zo(e,t,n){var o=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-o.x,o.y-i.y):Math.atan2(o.x-i.x,i.y-o.y)}function Xo(){this._=null}function Jo(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Qo(e,t){var n=t,o=t.R,i=n.U;i?i.L===n?i.L=o:i.R=o:e._=o,o.U=i,n.U=o,n.R=o.L,n.R&&(n.R.U=n),o.L=n}function ei(e,t){var n=t,o=t.L,i=n.U;i?i.L===n?i.L=o:i.R=o:e._=o,o.U=i,n.U=o,n.L=o.R,n.L&&(n.L.U=n),o.R=n}function ti(e){for(;e.L;)e=e.L;return e}function ni(e,t){var n,o,i,s=e.sort(oi).pop();for(Bl=[],Ul=new Array(e.length),Kl=new Xo,Zl=new Xo;;)if(i=Yl,s&&(!i||s.y<i.y||s.y===i.y&&s.x<i.x))(s.x!==n||s.y!==o)&&(Ul[s.i]=new $o(s),Po(s),n=s.x,o=s.y),s=e.pop();else{if(!i)break;Do(i.arc)}t&&(Vo(t),Lo(t));var r={cells:Ul,edges:Bl};return Kl=Zl=Bl=Ul=null,r}function oi(e,t){return t.y-e.y||t.x-e.x}function ii(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function si(e){return e.x}function ri(e){return e.y}function ai(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function li(e,t,n,o,i,s){if(!e(t,n,o,i,s)){var r=.5*(n+i),a=.5*(o+s),l=t.nodes;l[0]&&li(e,l[0],n,o,r,a),l[1]&&li(e,l[1],r,o,i,a),l[2]&&li(e,l[2],n,a,r,s),l[3]&&li(e,l[3],r,a,i,s)}}function ui(e,t){e=Ur.rgb(e),t=Ur.rgb(t);var n=e.r,o=e.g,i=e.b,s=t.r-n,r=t.g-o,a=t.b-i;return function(e){return"#"+pt(Math.round(n+s*e))+pt(Math.round(o+r*e))+pt(Math.round(i+a*e))}}function di(e,t){var n,o={},i={};for(n in e)n in t?o[n]=hi(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in o)i[n]=o[n](e);return i}}function ci(e,t){return t-=e=+e,function(n){return e+t*n}}function gi(e,t){var n,o,i,s,r,a=0,l=0,u=[],d=[];for(e+="",t+="",eu.lastIndex=0,o=0;n=eu.exec(t);++o)n.index&&u.push(t.substring(a,l=n.index)),d.push({i:u.length,x:n[0]}),u.push(null),a=eu.lastIndex;for(a<t.length&&u.push(t.substring(a)),o=0,s=d.length;(n=eu.exec(e))&&s>o;++o)if(r=d[o],r.x==n[0]){if(r.i)if(null==u[r.i+1])for(u[r.i-1]+=r.x,u.splice(r.i,1),i=o+1;s>i;++i)d[i].i--;else for(u[r.i-1]+=r.x+u[r.i+1],u.splice(r.i,2),i=o+1;s>i;++i)d[i].i-=2;else if(null==u[r.i+1])u[r.i]=r.x;else for(u[r.i]=r.x+u[r.i+1],u.splice(r.i+1,1),i=o+1;s>i;++i)d[i].i--;d.splice(o,1),s--,o--}else r.x=ci(parseFloat(n[0]),parseFloat(r.x));for(;s>o;)r=d.pop(),null==u[r.i+1]?u[r.i]=r.x:(u[r.i]=r.x+u[r.i+1],u.splice(r.i+1,1)),s--;return 1===u.length?null==u[0]?(r=d[0].x,function(e){return r(e)+""}):function(){return t}:function(e){for(o=0;s>o;++o)u[(r=d[o]).i]=r.x(e);return u.join("")}}function hi(e,t){for(var n,o=Ur.interpolators.length;--o>=0&&!(n=Ur.interpolators[o](e,t)););return n}function mi(e,t){var n,o=[],i=[],s=e.length,r=t.length,a=Math.min(e.length,t.length);for(n=0;a>n;++n)o.push(hi(e[n],t[n]));for(;s>n;++n)i[n]=e[n];for(;r>n;++n)i[n]=t[n];return function(e){for(n=0;a>n;++n)i[n]=o[n](e);return i}}function pi(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function _i(e){return function(t){return 1-e(1-t)}}function fi(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function vi(e){return e*e}function bi(e){return e*e*e}function yi(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function wi(e){return function(t){return Math.pow(t,e)}}function ki(e){return 1-Math.cos(e*Ma)}function Ci(e){return Math.pow(2,10*(e-1))}function xi(e){return 1-Math.sqrt(1-e*e)}function Si(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/za*Math.asin(1/e):(e=1,n=t/4),function(o){return 1+e*Math.pow(2,-10*o)*Math.sin((o-n)*za/t)}}function zi(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Mi(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Ti(e,t){e=Ur.hcl(e),t=Ur.hcl(t);var n=e.h,o=e.c,i=e.l,s=t.h-n,r=t.c-o,a=t.l-i;return isNaN(r)&&(r=0,o=isNaN(o)?t.c:o),isNaN(s)?(s=0,n=isNaN(n)?t.h:n):s>180?s-=360:-180>s&&(s+=360),function(e){return ot(n+s*e,o+r*e,i+a*e)+""}}function Ai(e,t){e=Ur.hsl(e),t=Ur.hsl(t);var n=e.h,o=e.s,i=e.l,s=t.h-n,r=t.s-o,a=t.l-i;return isNaN(r)&&(r=0,o=isNaN(o)?t.s:o),isNaN(s)?(s=0,n=isNaN(n)?t.h:n):s>180?s-=360:-180>s&&(s+=360),function(e){return et(n+s*e,o+r*e,i+a*e)+""}}function Ei(e,t){e=Ur.lab(e),t=Ur.lab(t);var n=e.l,o=e.a,i=e.b,s=t.l-n,r=t.a-o,a=t.b-i;return function(e){return rt(n+s*e,o+r*e,i+a*e)+""}}function Ri(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Ni(e){var t=[e.a,e.b],n=[e.c,e.d],o=Di(t),i=ji(t,n),s=Di(Pi(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,o*=-1,i*=-1),this.rotate=(o?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Ra,this.translate=[e.e,e.f],this.scale=[o,s],this.skew=s?Math.atan2(i,s)*Ra:0}function ji(e,t){return e[0]*t[0]+e[1]*t[1]}function Di(e){var t=Math.sqrt(ji(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Pi(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Oi(e,t){var n,o=[],i=[],s=Ur.transform(e),r=Ur.transform(t),a=s.translate,l=r.translate,u=s.rotate,d=r.rotate,c=s.skew,g=r.skew,h=s.scale,m=r.scale;return a[0]!=l[0]||a[1]!=l[1]?(o.push("translate(",null,",",null,")"),i.push({i:1,x:ci(a[0],l[0])},{i:3,x:ci(a[1],l[1])})):o.push(l[0]||l[1]?"translate("+l+")":""),u!=d?(u-d>180?d+=360:d-u>180&&(u+=360),i.push({i:o.push(o.pop()+"rotate(",null,")")-2,x:ci(u,d)})):d&&o.push(o.pop()+"rotate("+d+")"),c!=g?i.push({i:o.push(o.pop()+"skewX(",null,")")-2,x:ci(c,g)}):g&&o.push(o.pop()+"skewX("+g+")"),h[0]!=m[0]||h[1]!=m[1]?(n=o.push(o.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:ci(h[0],m[0])},{i:n-2,x:ci(h[1],m[1])})):(1!=m[0]||1!=m[1])&&o.push(o.pop()+"scale("+m+")"),n=i.length,function(e){for(var t,s=-1;++s<n;)o[(t=i[s]).i]=t.x(e);
return o.join("")}}function Ii(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function $i(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function Li(e){for(var t=e.source,n=e.target,o=Fi(t,n),i=[t];t!==o;)t=t.parent,i.push(t);for(var s=i.length;n!==o;)i.splice(s,0,n),n=n.parent;return i}function Gi(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Fi(e,t){if(e===t)return e;for(var n=Gi(e),o=Gi(t),i=n.pop(),s=o.pop(),r=null;i===s;)r=i,i=n.pop(),s=o.pop();return r}function qi(e){e.fixed|=2}function Hi(e){e.fixed&=-7}function Vi(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Wi(e){e.fixed&=-5}function Bi(e,t,n){var o=0,i=0;if(e.charge=0,!e.leaf)for(var s,r=e.nodes,a=r.length,l=-1;++l<a;)s=r[l],null!=s&&(Bi(s,t,n),e.charge+=s.charge,o+=s.charge*s.cx,i+=s.charge*s.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*n[e.point.index];e.charge+=e.pointCharge=u,o+=u*e.point.x,i+=u*e.point.y}e.cx=o/e.charge,e.cy=i/e.charge}function Ui(e,t){return Ur.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Xi,e}function Ki(e){return e.children}function Yi(e){return e.value}function Zi(e,t){return t.value-e.value}function Xi(e){return Ur.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function Ji(e){return e.x}function Qi(e){return e.y}function es(e,t,n){e.y0=t,e.y=n}function ts(e){return Ur.range(e.length)}function ns(e){for(var t=-1,n=e[0].length,o=[];++t<n;)o[t]=0;return o}function os(e){for(var t,n=1,o=0,i=e[0][1],s=e.length;s>n;++n)(t=e[n][1])>i&&(o=n,i=t);return o}function is(e){return e.reduce(ss,0)}function ss(e,t){return e+t[1]}function rs(e,t){return as(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function as(e,t){for(var n=-1,o=+e[0],i=(e[1]-o)/t,s=[];++n<=t;)s[n]=i*n+o;return s}function ls(e){return[Ur.min(e),Ur.max(e)]}function us(e,t){return e.parent==t.parent?1:2}function ds(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function cs(e){var t,n=e.children;return n&&(t=n.length)?n[t-1]:e._tree.thread}function gs(e,t){var n=e.children;if(n&&(i=n.length))for(var o,i,s=-1;++s<i;)t(o=gs(n[s],t),e)>0&&(e=o);return e}function hs(e,t){return e.x-t.x}function ms(e,t){return t.x-e.x}function ps(e,t){return e.depth-t.depth}function _s(e,t){function n(e,o){var i=e.children;if(i&&(r=i.length))for(var s,r,a=null,l=-1;++l<r;)s=i[l],n(s,a),a=s;t(e,o)}n(e,null)}function fs(e){for(var t,n=0,o=0,i=e.children,s=i.length;--s>=0;)t=i[s]._tree,t.prelim+=n,t.mod+=n,n+=t.shift+(o+=t.change)}function vs(e,t,n){e=e._tree,t=t._tree;var o=n/(t.number-e.number);e.change+=o,t.change-=o,t.shift+=n,t.prelim+=n,t.mod+=n}function bs(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}function ys(e,t){return e.value-t.value}function ws(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function ks(e,t){e._pack_next=t,t._pack_prev=e}function Cs(e,t){var n=t.x-e.x,o=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+o*o}function xs(e){function t(e){d=Math.min(e.x-e.r,d),c=Math.max(e.x+e.r,c),g=Math.min(e.y-e.r,g),h=Math.max(e.y+e.r,h)}if((n=e.children)&&(u=n.length)){var n,o,i,s,r,a,l,u,d=1/0,c=-1/0,g=1/0,h=-1/0;if(n.forEach(Ss),o=n[0],o.x=-o.r,o.y=0,t(o),u>1&&(i=n[1],i.x=i.r,i.y=0,t(i),u>2))for(s=n[2],Ts(o,i,s),t(s),ws(o,s),o._pack_prev=s,ws(s,i),i=o._pack_next,r=3;u>r;r++){Ts(o,i,s=n[r]);var m=0,p=1,_=1;for(a=i._pack_next;a!==i;a=a._pack_next,p++)if(Cs(a,s)){m=1;break}if(1==m)for(l=o._pack_prev;l!==a._pack_prev&&!Cs(l,s);l=l._pack_prev,_++);m?(_>p||p==_&&i.r<o.r?ks(o,i=a):ks(o=l,i),r--):(ws(o,s),i=s,t(s))}var f=(d+c)/2,v=(g+h)/2,b=0;for(r=0;u>r;r++)s=n[r],s.x-=f,s.y-=v,b=Math.max(b,s.r+Math.sqrt(s.x*s.x+s.y*s.y));e.r=b,n.forEach(zs)}}function Ss(e){e._pack_next=e._pack_prev=e}function zs(e){delete e._pack_next,delete e._pack_prev}function Ms(e,t,n,o){var i=e.children;if(e.x=t+=o*e.x,e.y=n+=o*e.y,e.r*=o,i)for(var s=-1,r=i.length;++s<r;)Ms(i[s],t,n,o)}function Ts(e,t,n){var o=e.r+n.r,i=t.x-e.x,s=t.y-e.y;if(o&&(i||s)){var r=t.r+n.r,a=i*i+s*s;r*=r,o*=o;var l=.5+(o-r)/(2*a),u=Math.sqrt(Math.max(0,2*r*(o+a)-(o-=a)*o-r*r))/(2*a);n.x=e.x+l*i+u*s,n.y=e.y+l*s-u*i}else n.x=e.x+o,n.y=e.y}function As(e){return 1+Ur.max(e,function(e){return e.y})}function Es(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Rs(e){var t=e.children;return t&&t.length?Rs(t[0]):e}function Ns(e){var t,n=e.children;return n&&(t=n.length)?Ns(n[t-1]):e}function js(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Ds(e,t){var n=e.x+t[3],o=e.y+t[0],i=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>s&&(o+=s/2,s=0),{x:n,y:o,dx:i,dy:s}}function Ps(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Os(e){return e.rangeExtent?e.rangeExtent():Ps(e.range())}function Is(e,t,n,o){var i=n(e[0],e[1]),s=o(t[0],t[1]);return function(e){return s(i(e))}}function $s(e,t){var n,o=0,i=e.length-1,s=e[o],r=e[i];return s>r&&(n=o,o=i,i=n,n=s,s=r,r=n),e[o]=t.floor(s),e[i]=t.ceil(r),e}function Ls(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:cu}function Gs(e,t,n,o){var i=[],s=[],r=0,a=Math.min(e.length,t.length)-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++r<=a;)i.push(n(e[r-1],e[r])),s.push(o(t[r-1],t[r]));return function(t){var n=Ur.bisect(e,t,1,a)-1;return s[n](i[n](t))}}function Fs(e,t,n,o){function i(){var i=Math.min(e.length,t.length)>2?Gs:Is,l=o?$i:Ii;return r=i(e,t,l,n),a=i(t,e,l,hi),s}function s(e){return r(e)}var r,a;return s.invert=function(e){return a(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},s.range=function(e){return arguments.length?(t=e,i()):t},s.rangeRound=function(e){return s.range(e).interpolate(Ri)},s.clamp=function(e){return arguments.length?(o=e,i()):o},s.interpolate=function(e){return arguments.length?(n=e,i()):n},s.ticks=function(t){return Ws(e,t)},s.tickFormat=function(t,n){return Bs(e,t,n)},s.nice=function(t){return Hs(e,t),i()},s.copy=function(){return Fs(e,t,n,o)},i()}function qs(e,t){return Ur.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Hs(e,t){return $s(e,Ls(Vs(e,t)[2]))}function Vs(e,t){null==t&&(t=10);var n=Ps(e),o=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(o/t)/Math.LN10)),s=t/o*i;return.15>=s?i*=10:.35>=s?i*=5:.75>=s&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Ws(e,t){return Ur.range.apply(Ur,Vs(e,t))}function Bs(e,t,n){var o=Vs(e,t);return Ur.format(n?n.replace(el,function(e,t,n,i,s,r,a,l,u,d){return[t,n,i,s,r,a,l,u||"."+Ks(d,o),d].join("")}):",."+Us(o[2])+"f")}function Us(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Ks(e,t){var n=Us(t[2]);return e in gu?Math.abs(n-Us(Math.max(Math.abs(t[0]),Math.abs(t[1]))))+ +("e"!==e):n-2*("%"===e)}function Ys(e,t,n,o){function i(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function s(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function r(t){return e(i(t))}return r.invert=function(t){return s(e.invert(t))},r.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((o=t.map(Number)).map(i)),r):o},r.base=function(n){return arguments.length?(t=+n,e.domain(o.map(i)),r):t},r.nice=function(){var t=$s(o.map(i),n?Math:mu);return e.domain(t),o=t.map(s),r},r.ticks=function(){var e=Ps(o),r=[],a=e[0],l=e[1],u=Math.floor(i(a)),d=Math.ceil(i(l)),c=t%1?2:t;if(isFinite(d-u)){if(n){for(;d>u;u++)for(var g=1;c>g;g++)r.push(s(u)*g);r.push(s(u))}else for(r.push(s(u));u++<d;)for(var g=c-1;g>0;g--)r.push(s(u)*g);for(u=0;r[u]<a;u++);for(d=r.length;r[d-1]>l;d--);r=r.slice(u,d)}return r},r.tickFormat=function(e,t){if(!arguments.length)return hu;arguments.length<2?t=hu:"function"!=typeof t&&(t=Ur.format(t));var o,a=Math.max(.1,e/r.ticks().length),l=n?(o=1e-12,Math.ceil):(o=-1e-12,Math.floor);return function(e){return e/s(l(i(e)+o))<=a?t(e):""}},r.copy=function(){return Ys(e.copy(),t,n,o)},qs(r,e)}function Zs(e,t,n){function o(t){return e(i(t))}var i=Xs(t),s=Xs(1/t);return o.invert=function(t){return s(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),o):n},o.ticks=function(e){return Ws(n,e)},o.tickFormat=function(e,t){return Bs(n,e,t)},o.nice=function(e){return o.domain(Hs(n,e))},o.exponent=function(r){return arguments.length?(i=Xs(t=r),s=Xs(1/t),e.domain(n.map(i)),o):t},o.copy=function(){return Zs(e.copy(),t,n)},qs(o,e)}function Xs(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function Js(e,t){function n(n){return r[((s.get(n)||"range"===t.t&&s.set(n,e.push(n)))-1)%r.length]}function o(t,n){return Ur.range(e.length).map(function(e){return t+n*e})}var s,r,a;return n.domain=function(o){if(!arguments.length)return e;e=[],s=new i;for(var r,a=-1,l=o.length;++a<l;)s.has(r=o[a])||s.set(r,e.push(r));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(r=e,a=0,t={t:"range",a:arguments},n):r},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],d=(u-l)/(Math.max(1,e.length-1)+s);return r=o(e.length<2?(l+u)/2:l+d*s/2,d),a=0,t={t:"rangePoints",a:arguments},n},n.rangeBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],d=i[u-0],c=i[1-u],g=(c-d)/(e.length-s+2*l);return r=o(d+g*l,g),u&&r.reverse(),a=g*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],d=i[u-0],c=i[1-u],g=Math.floor((c-d)/(e.length-s+2*l)),h=c-d-(e.length-s)*g;return r=o(d+Math.round(h/2),g),u&&r.reverse(),a=Math.round(g*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Ps(t.a[0])},n.copy=function(){return Js(e,t)},n.domain(e)}function Qs(e,t){function n(){var n=0,s=t.length;for(i=[];++n<s;)i[n-1]=Ur.quantile(e,n/s);return o}function o(e){return isNaN(e=+e)?void 0:t[Ur.bisect(i,e)]}var i;return o.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(Ur.ascending),n()):e},o.range=function(e){return arguments.length?(t=e,n()):t},o.quantiles=function(){return i},o.invertExtent=function(n){return n=t.indexOf(n),0>n?[0/0,0/0]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},o.copy=function(){return Qs(e,t)},n()}function er(e,t,n){function o(t){return n[Math.max(0,Math.min(r,Math.floor(s*(t-e))))]}function i(){return s=n.length/(t-e),r=n.length-1,o}var s,r;return o.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},o.range=function(e){return arguments.length?(n=e,i()):n},o.invertExtent=function(t){return t=n.indexOf(t),t=0>t?0/0:t/s+e,[t,t+1/s]},o.copy=function(){return er(e,t,n)},i()}function tr(e,t){function n(n){return n>=n?t[Ur.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return tr(e,t)},n}function nr(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Ws(e,t)},t.tickFormat=function(t,n){return Bs(e,t,n)},t.copy=function(){return nr(e)},t}function or(e){return e.innerRadius}function ir(e){return e.outerRadius}function sr(e){return e.startAngle}function rr(e){return e.endAngle}function ar(e){function t(t){function r(){u.push("M",s(e(d),a))}for(var l,u=[],d=[],c=-1,g=t.length,h=wt(n),m=wt(o);++c<g;)i.call(this,l=t[c],c)?d.push([+h.call(this,l,c),+m.call(this,l,c)]):d.length&&(r(),d=[]);return d.length&&r(),u.length?u.join(""):null}var n=xo,o=So,i=Cn,s=lr,r=s.key,a=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(r="function"==typeof e?s=e:(s=wu.get(e)||lr).key,t):r},t.tension=function(e){return arguments.length?(a=e,t):a},t}function lr(e){return e.join("L")}function ur(e){return lr(e)+"Z"}function dr(e){for(var t=0,n=e.length,o=e[0],i=[o[0],",",o[1]];++t<n;)i.push("H",(o[0]+(o=e[t])[0])/2,"V",o[1]);return n>1&&i.push("H",o[0]),i.join("")}function cr(e){for(var t=0,n=e.length,o=e[0],i=[o[0],",",o[1]];++t<n;)i.push("V",(o=e[t])[1],"H",o[0]);return i.join("")}function gr(e){for(var t=0,n=e.length,o=e[0],i=[o[0],",",o[1]];++t<n;)i.push("H",(o=e[t])[0],"V",o[1]);return i.join("")}function hr(e,t){return e.length<4?lr(e):e[1]+_r(e.slice(1,e.length-1),fr(e,t))}function mr(e,t){return e.length<3?lr(e):e[0]+_r((e.push(e[0]),e),fr([e[e.length-2]].concat(e,[e[1]]),t))}function pr(e,t){return e.length<3?lr(e):e[0]+_r(e,fr(e,t))}function _r(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return lr(e);var n=e.length!=t.length,o="",i=e[0],s=e[1],r=t[0],a=r,l=1;if(n&&(o+="Q"+(s[0]-2*r[0]/3)+","+(s[1]-2*r[1]/3)+","+s[0]+","+s[1],i=e[1],l=2),t.length>1){a=t[1],s=e[l],l++,o+="C"+(i[0]+r[0])+","+(i[1]+r[1])+","+(s[0]-a[0])+","+(s[1]-a[1])+","+s[0]+","+s[1];for(var u=2;u<t.length;u++,l++)s=e[l],a=t[u],o+="S"+(s[0]-a[0])+","+(s[1]-a[1])+","+s[0]+","+s[1]}if(n){var d=e[l];o+="Q"+(s[0]+2*a[0]/3)+","+(s[1]+2*a[1]/3)+","+d[0]+","+d[1]}return o}function fr(e,t){for(var n,o=[],i=(1-t)/2,s=e[0],r=e[1],a=1,l=e.length;++a<l;)n=s,s=r,r=e[a],o.push([i*(r[0]-n[0]),i*(r[1]-n[1])]);return o}function vr(e){if(e.length<3)return lr(e);var t=1,n=e.length,o=e[0],i=o[0],s=o[1],r=[i,i,i,(o=e[1])[0]],a=[s,s,s,o[1]],l=[i,",",s,"L",kr(xu,r),",",kr(xu,a)];for(e.push(e[n-1]);++t<=n;)o=e[t],r.shift(),r.push(o[0]),a.shift(),a.push(o[1]),Cr(l,r,a);return e.pop(),l.push("L",o),l.join("")}function br(e){if(e.length<4)return lr(e);for(var t,n=[],o=-1,i=e.length,s=[0],r=[0];++o<3;)t=e[o],s.push(t[0]),r.push(t[1]);for(n.push(kr(xu,s)+","+kr(xu,r)),--o;++o<i;)t=e[o],s.shift(),s.push(t[0]),r.shift(),r.push(t[1]),Cr(n,s,r);return n.join("")}function yr(e){for(var t,n,o=-1,i=e.length,s=i+4,r=[],a=[];++o<4;)n=e[o%i],r.push(n[0]),a.push(n[1]);for(t=[kr(xu,r),",",kr(xu,a)],--o;++o<s;)n=e[o%i],r.shift(),r.push(n[0]),a.shift(),a.push(n[1]),Cr(t,r,a);return t.join("")}function wr(e,t){var n=e.length-1;if(n)for(var o,i,s=e[0][0],r=e[0][1],a=e[n][0]-s,l=e[n][1]-r,u=-1;++u<=n;)o=e[u],i=u/n,o[0]=t*o[0]+(1-t)*(s+i*a),o[1]=t*o[1]+(1-t)*(r+i*l);return vr(e)}function kr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Cr(e,t,n){e.push("C",kr(ku,t),",",kr(ku,n),",",kr(Cu,t),",",kr(Cu,n),",",kr(xu,t),",",kr(xu,n))}function xr(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Sr(e){for(var t=0,n=e.length-1,o=[],i=e[0],s=e[1],r=o[0]=xr(i,s);++t<n;)o[t]=(r+(r=xr(i=s,s=e[t+1])))/2;return o[t]=r,o}function zr(e){for(var t,n,o,i,s=[],r=Sr(e),a=-1,l=e.length-1;++a<l;)t=xr(e[a],e[a+1]),aa(t)<Ta?r[a]=r[a+1]=0:(n=r[a]/t,o=r[a+1]/t,i=n*n+o*o,i>9&&(i=3*t/Math.sqrt(i),r[a]=i*n,r[a+1]=i*o));for(a=-1;++a<=l;)i=(e[Math.min(l,a+1)][0]-e[Math.max(0,a-1)][0])/(6*(1+r[a]*r[a])),s.push([i||0,r[a]*i||0]);return s}function Mr(e){return e.length<3?lr(e):e[0]+_r(e,zr(e))}function Tr(e){for(var t,n,o,i=-1,s=e.length;++i<s;)t=e[i],n=t[0],o=t[1]+bu,t[0]=n*Math.cos(o),t[1]=n*Math.sin(o);return e}function Ar(e){function t(t){function l(){p.push("M",a(e(f),c),d,u(e(_.reverse()),c),"Z")}for(var g,h,m,p=[],_=[],f=[],v=-1,b=t.length,y=wt(n),w=wt(i),k=n===o?function(){return h}:wt(o),C=i===s?function(){return m}:wt(s);++v<b;)r.call(this,g=t[v],v)?(_.push([h=+y.call(this,g,v),m=+w.call(this,g,v)]),f.push([+k.call(this,g,v),+C.call(this,g,v)])):_.length&&(l(),_=[],f=[]);return _.length&&l(),p.length?p.join(""):null}var n=xo,o=xo,i=0,s=So,r=Cn,a=lr,l=a.key,u=a,d="L",c=.7;return t.x=function(e){return arguments.length?(n=o=e,t):o},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(i=s=e,t):s},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(s=e,t):s},t.defined=function(e){return arguments.length?(r=e,t):r},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?a=e:(a=wu.get(e)||lr).key,u=a.reverse||a,d=a.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(c=e,t):c},t}function Er(e){return e.radius}function Rr(e){return[e.x,e.y]}function Nr(e){return function(){var t=e.apply(this,arguments),n=t[0],o=t[1]+bu;return[n*Math.cos(o),n*Math.sin(o)]}}function jr(){return 64}function Dr(){return"circle"}function Pr(e){var t=Math.sqrt(e/Sa);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Or(e,t){return ga(e,Eu),e.id=t,e}function Ir(e,t,n,o){var i=e.id;return D(e,"function"==typeof n?function(e,s,r){e.__transition__[i].tween.set(t,o(n.call(e,e.__data__,s,r)))}:(n=o(n),function(e){e.__transition__[i].tween.set(t,n)}))}function $r(e){return null==e&&(e=""),function(){this.textContent=e}}function Lr(e,t,n,o){var s=e.__transition__||(e.__transition__={active:0,count:0}),r=s[n];if(!r){var a=o.time;r=s[n]={tween:new i,time:a,ease:o.ease,delay:o.delay,duration:o.duration},++s.count,Ur.timer(function(o){function i(o){return s.active>n?u():(s.active=n,r.event&&r.event.start.call(e,d,t),r.tween.forEach(function(n,o){(o=o.call(e,d,t))&&p.push(o)}),void Ur.timer(function(){return m.c=l(o||1)?Cn:l,1},0,a))}function l(o){if(s.active!==n)return u();for(var i=o/h,a=c(i),l=p.length;l>0;)p[--l].call(e,a);return i>=1?(r.event&&r.event.end.call(e,d,t),u()):void 0}function u(){return--s.count?delete s[n]:delete e.__transition__,1}var d=e.__data__,c=r.ease,g=r.delay,h=r.duration,m=Xa,p=[];return m.t=g+a,o>=g?i(o-g):void(m.c=i)},0,a)}}function Gr(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function Fr(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function qr(e){return e.toISOString()}function Hr(e,t,n){function o(t){return e(t)}function i(e,n){var o=e[1]-e[0],i=o/n,s=Ur.bisect(Lu,i);return s==Lu.length?[t.year,Vs(e.map(function(e){return e/31536e6}),n)[2]]:s?t[i/Lu[s-1]<Lu[s]/i?s-1:s]:[qu,Vs(e,n)[2]]}return o.invert=function(t){return Vr(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain(t),o):e.domain().map(Vr)},o.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,Vr(+n+1),t).length}var s=o.domain(),r=Ps(s),a=null==e?i(r,10):"number"==typeof e&&i(r,e);return a&&(e=a[0],t=a[1]),o.domain($s(s,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=Vr(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=Vr(+t+1);return t}}:e))},o.ticks=function(e,t){var n=Ps(o.domain()),s=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return s&&(e=s[0],t=s[1]),e.range(n[0],Vr(+n[1]+1),1>t?1:t)},o.tickFormat=function(){return n},o.copy=function(){return Hr(e.copy(),t,n)},qs(o,e)}function Vr(e){return new Date(e)}function Wr(e){return JSON.parse(e.responseText)}function Br(e){var t=Zr.createRange();return t.selectNode(Zr.body),t.createContextualFragment(e.responseText)}var Ur={version:"3.4.1"};Date.now||(Date.now=function(){return+new Date});var Kr=[].slice,Yr=function(e){return Kr.call(e)},Zr=document,Xr=Zr.documentElement,Jr=window;try{Yr(Xr.childNodes)[0].nodeType}catch(Qr){Yr=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}try{Zr.createElement("div").style.setProperty("opacity",0,"")}catch(ea){var ta=Jr.Element.prototype,na=ta.setAttribute,oa=ta.setAttributeNS,ia=Jr.CSSStyleDeclaration.prototype,sa=ia.setProperty;ta.setAttribute=function(e,t){na.call(this,e,t+"")},ta.setAttributeNS=function(e,t,n){oa.call(this,e,t,n+"")},ia.setProperty=function(e,t,n){sa.call(this,e,t+"",n)}}Ur.ascending=function(e,t){return t>e?-1:e>t?1:e>=t?0:0/0},Ur.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},Ur.min=function(e,t){var n,o,i=-1,s=e.length;if(1===arguments.length){for(;++i<s&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<s;)null!=(o=e[i])&&n>o&&(n=o)}else{for(;++i<s&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<s;)null!=(o=t.call(e,e[i],i))&&n>o&&(n=o)}return n},Ur.max=function(e,t){var n,o,i=-1,s=e.length;if(1===arguments.length){for(;++i<s&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<s;)null!=(o=e[i])&&o>n&&(n=o)}else{for(;++i<s&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<s;)null!=(o=t.call(e,e[i],i))&&o>n&&(n=o)}return n},Ur.extent=function(e,t){var n,o,i,s=-1,r=e.length;if(1===arguments.length){for(;++s<r&&!(null!=(n=i=e[s])&&n>=n);)n=i=void 0;for(;++s<r;)null!=(o=e[s])&&(n>o&&(n=o),o>i&&(i=o))}else{for(;++s<r&&!(null!=(n=i=t.call(e,e[s],s))&&n>=n);)n=void 0;for(;++s<r;)null!=(o=t.call(e,e[s],s))&&(n>o&&(n=o),o>i&&(i=o))}return[n,i]},Ur.sum=function(e,t){var n,o=0,i=e.length,s=-1;if(1===arguments.length)for(;++s<i;)isNaN(n=+e[s])||(o+=n);else for(;++s<i;)isNaN(n=+t.call(e,e[s],s))||(o+=n);return o},Ur.mean=function(t,n){var o,i=t.length,s=0,r=-1,a=0;if(1===arguments.length)for(;++r<i;)e(o=t[r])&&(s+=(o-s)/++a);else for(;++r<i;)e(o=n.call(t,t[r],r))&&(s+=(o-s)/++a);return a?s:void 0},Ur.quantile=function(e,t){var n=(e.length-1)*t+1,o=Math.floor(n),i=+e[o-1],s=n-o;return s?i+s*(e[o]-i):i},Ur.median=function(t,n){return arguments.length>1&&(t=t.map(n)),t=t.filter(e),t.length?Ur.quantile(t.sort(Ur.ascending),.5):void 0},Ur.bisector=function(e){return{left:function(t,n,o,i){for(arguments.length<3&&(o=0),arguments.length<4&&(i=t.length);i>o;){var s=o+i>>>1;e.call(t,t[s],s)<n?o=s+1:i=s}return o},right:function(t,n,o,i){for(arguments.length<3&&(o=0),arguments.length<4&&(i=t.length);i>o;){var s=o+i>>>1;n<e.call(t,t[s],s)?i=s:o=s+1}return o}}};var ra=Ur.bisector(function(e){return e});Ur.bisectLeft=ra.left,Ur.bisect=Ur.bisectRight=ra.right,Ur.shuffle=function(e){for(var t,n,o=e.length;o;)n=Math.random()*o--|0,t=e[o],e[o]=e[n],e[n]=t;return e},Ur.permute=function(e,t){for(var n=t.length,o=new Array(n);n--;)o[n]=e[t[n]];return o},Ur.pairs=function(e){for(var t,n=0,o=e.length-1,i=e[0],s=new Array(0>o?0:o);o>n;)s[n]=[t=i,i=e[++n]];return s},Ur.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,n=Ur.min(arguments,t),o=new Array(n);++e<n;)for(var i,s=-1,r=o[e]=new Array(i);++s<i;)r[s]=arguments[s][e];return o},Ur.transpose=function(e){return Ur.zip.apply(Ur,e)},Ur.keys=function(e){var t=[];for(var n in e)t.push(n);return t},Ur.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},Ur.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},Ur.merge=function(e){for(var t,n,o,i=e.length,s=-1,r=0;++s<i;)r+=e[s].length;for(n=new Array(r);--i>=0;)for(o=e[i],t=o.length;--t>=0;)n[--r]=o[t];return n};var aa=Math.abs;Ur.range=function(e,t,o){if(arguments.length<3&&(o=1,arguments.length<2&&(t=e,e=0)),(t-e)/o===1/0)throw new Error("infinite range");var i,s=[],r=n(aa(o)),a=-1;if(e*=r,t*=r,o*=r,0>o)for(;(i=e+o*++a)>t;)s.push(i/r);else for(;(i=e+o*++a)<t;)s.push(i/r);return s},Ur.map=function(e){var t=new i;if(e instanceof i)e.forEach(function(e,n){t.set(e,n)});else for(var n in e)t.set(n,e[n]);return t},o(i,{has:s,get:function(e){return this[la+e]},set:function(e,t){return this[la+e]=t},remove:r,keys:a,values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},size:l,empty:u,forEach:function(e){for(var t in this)t.charCodeAt(0)===ua&&e.call(this,t.substring(1),this[t])}});var la="\x00",ua=la.charCodeAt(0);Ur.nest=function(){function e(t,a,l){if(l>=r.length)return o?o.call(s,a):n?a.sort(n):a;for(var u,d,c,g,h=-1,m=a.length,p=r[l++],_=new i;++h<m;)(g=_.get(u=p(d=a[h])))?g.push(d):_.set(u,[d]);return t?(d=t(),c=function(n,o){d.set(n,e(t,o,l))}):(d={},c=function(n,o){d[n]=e(t,o,l)}),_.forEach(c),d}function t(e,n){if(n>=r.length)return e;var o=[],i=a[n++];return e.forEach(function(e,i){o.push({key:e,values:t(i,n)})}),i?o.sort(function(e,t){return i(e.key,t.key)}):o}var n,o,s={},r=[],a=[];return s.map=function(t,n){return e(n,t,0)},s.entries=function(n){return t(e(Ur.map,n,0),0)},s.key=function(e){return r.push(e),s},s.sortKeys=function(e){return a[r.length-1]=e,s},s.sortValues=function(e){return n=e,s},s.rollup=function(e){return o=e,s},s},Ur.set=function(e){var t=new d;if(e)for(var n=0,o=e.length;o>n;++n)t.add(e[n]);return t},o(d,{has:s,add:function(e){return this[la+e]=!0,e},remove:function(e){return e=la+e,e in this&&delete this[e]},values:a,size:l,empty:u,forEach:function(e){for(var t in this)t.charCodeAt(0)===ua&&e.call(this,t.substring(1))}}),Ur.behavior={},Ur.rebind=function(e,t){for(var n,o=1,i=arguments.length;++o<i;)e[n=arguments[o]]=c(e,t,t[n]);return e};var da=["webkit","ms","moz","Moz","o","O"];Ur.dispatch=function(){for(var e=new m,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=p(e);return e},m.prototype.on=function(e,t){var n=e.indexOf("."),o="";if(n>=0&&(o=e.substring(n+1),e=e.substring(0,n)),e)return arguments.length<2?this[e].on(o):this[e].on(o,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(o,null);return this}},Ur.event=null,Ur.requote=function(e){return e.replace(ca,"\\$&")};var ca=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ga={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},ha=function(e,t){return t.querySelector(e)},ma=function(e,t){return t.querySelectorAll(e)},pa=Xr[g(Xr,"matchesSelector")],_a=function(e,t){return pa.call(e,t)};"function"==typeof Sizzle&&(ha=function(e,t){return Sizzle(e,t)[0]||null},ma=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},_a=Sizzle.matchesSelector),Ur.selection=function(){return ya};var fa=Ur.selection.prototype=[];fa.select=function(e){var t,n,o,i,s=[];e=y(e);for(var r=-1,a=this.length;++r<a;){s.push(t=[]),t.parentNode=(o=this[r]).parentNode;for(var l=-1,u=o.length;++l<u;)(i=o[l])?(t.push(n=e.call(i,i.__data__,l,r)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return b(s)},fa.selectAll=function(e){var t,n,o=[];e=w(e);for(var i=-1,s=this.length;++i<s;)for(var r=this[i],a=-1,l=r.length;++a<l;)(n=r[a])&&(o.push(t=Yr(e.call(n,n.__data__,a,i))),t.parentNode=n);return b(o)};var va={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Ur.ns={prefix:va,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),va.hasOwnProperty(n)?{space:va[n],local:e}:e}},fa.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=Ur.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(k(t,e[t]));return this}return this.each(k(e,t))},fa.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),o=(e=S(e)).length,i=-1;if(t=n.classList){for(;++i<o;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<o;)if(!x(e[i]).test(t))return!1;return!0}for(t in e)this.each(z(t,e[t]));return this}return this.each(z(e,t))},fa.style=function(e,t,n){var o=arguments.length;if(3>o){if("string"!=typeof e){2>o&&(t="");for(n in e)this.each(T(n,e[n],t));return this}if(2>o)return Jr.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(T(e,t,n))},fa.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(A(t,e[t]));return this}return this.each(A(e,t))},fa.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},fa.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},fa.append=function(e){return e=E(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},fa.insert=function(e,t){return e=E(e),t=y(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},fa.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},fa.data=function(e,t){function n(e,n){var o,s,r,a=e.length,c=n.length,g=Math.min(a,c),h=new Array(c),m=new Array(c),p=new Array(a);if(t){var _,f=new i,v=new i,b=[];for(o=-1;++o<a;)_=t.call(s=e[o],s.__data__,o),f.has(_)?p[o]=s:f.set(_,s),b.push(_);for(o=-1;++o<c;)_=t.call(n,r=n[o],o),(s=f.get(_))?(h[o]=s,s.__data__=r):v.has(_)||(m[o]=R(r)),v.set(_,r),f.remove(_);for(o=-1;++o<a;)f.has(b[o])&&(p[o]=e[o])}else{for(o=-1;++o<g;)s=e[o],r=n[o],s?(s.__data__=r,h[o]=s):m[o]=R(r);for(;c>o;++o)m[o]=R(n[o]);for(;a>o;++o)p[o]=e[o]}m.update=h,m.parentNode=h.parentNode=p.parentNode=e.parentNode,l.push(m),u.push(h),d.push(p)}var o,s,r=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(o=this[0]).length);++r<a;)(s=o[r])&&(e[r]=s.__data__);return e}var l=P([]),u=b([]),d=b([]);if("function"==typeof e)for(;++r<a;)n(o=this[r],e.call(o,o.parentNode.__data__,r));else for(;++r<a;)n(o=this[r],e);return u.enter=function(){return l},u.exit=function(){return d},u},fa.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},fa.filter=function(e){var t,n,o,i=[];"function"!=typeof e&&(e=N(e));for(var s=0,r=this.length;r>s;s++){i.push(t=[]),t.parentNode=(n=this[s]).parentNode;for(var a=0,l=n.length;l>a;a++)(o=n[a])&&e.call(o,o.__data__,a,s)&&t.push(o)}return b(i)},fa.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,o=this[e],i=o.length-1,s=o[i];--i>=0;)(n=o[i])&&(s&&s!==n.nextSibling&&s.parentNode.insertBefore(n,s),s=n);return this},fa.sort=function(e){e=j.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},fa.each=function(e){return D(this,function(t,n,o){e.call(t,t.__data__,n,o)})},fa.call=function(e){var t=Yr(arguments);return e.apply(t[0]=this,t),this},fa.empty=function(){return!this.node()},fa.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],o=0,i=n.length;i>o;o++){var s=n[o];if(s)return s}return null},fa.size=function(){var e=0;return this.each(function(){++e}),e};var ba=[];Ur.selection.enter=P,Ur.selection.enter.prototype=ba,ba.append=fa.append,ba.empty=fa.empty,ba.node=fa.node,ba.call=fa.call,ba.size=fa.size,ba.select=function(e){for(var t,n,o,i,s,r=[],a=-1,l=this.length;++a<l;){o=(i=this[a]).update,r.push(t=[]),t.parentNode=i.parentNode;for(var u=-1,d=i.length;++u<d;)(s=i[u])?(t.push(o[u]=n=e.call(i.parentNode,s.__data__,u,a)),n.__data__=s.__data__):t.push(null)}return b(r)},ba.insert=function(e,t){return arguments.length<2&&(t=O(this)),fa.insert.call(this,e,t)},fa.transition=function(){for(var e,t,n=zu||++Ru,o=[],i=Mu||{time:Date.now(),ease:yi,delay:0,duration:250},s=-1,r=this.length;++s<r;){o.push(e=[]);for(var a=this[s],l=-1,u=a.length;++l<u;)(t=a[l])&&Lr(t,l,n,i),e.push(t)}return Or(o,n)},fa.interrupt=function(){return this.each(I)},Ur.select=function(e){var t=["string"==typeof e?ha(e,Zr):e];return t.parentNode=Xr,b([t])},Ur.selectAll=function(e){var t=Yr("string"==typeof e?ma(e,Zr):e);return t.parentNode=Xr,b([t])};var ya=Ur.select(Xr);fa.on=function(e,t,n){var o=arguments.length;if(3>o){if("string"!=typeof e){2>o&&(t=!1);for(n in e)this.each($(n,e[n],t));return this}if(2>o)return(o=this.node()["__on"+e])&&o._;n=!1}return this.each($(e,t,n))};var wa=Ur.map({mouseenter:"mouseover",mouseleave:"mouseout"});wa.forEach(function(e){"on"+e in Zr&&wa.remove(e)});var ka="onselectstart"in Zr?null:g(Xr.style,"userSelect"),Ca=0;Ur.mouse=function(e){return q(e,f())};var xa=/WebKit/.test(Jr.navigator.userAgent)?-1:0;Ur.touches=function(e,t){return arguments.length<2&&(t=f().touches),t?Yr(t).map(function(t){var n=q(e,t);return n.identifier=t.identifier,n}):[]},Ur.behavior.drag=function(){function e(){this.on("mousedown.drag",r).on("touchstart.drag",a)}function t(){return Ur.event.changedTouches[0].identifier}function n(e,t){return Ur.touches(e).filter(function(e){return e.identifier===t})[0]}function o(e,t,n,o){return function(){function r(){var e=t(d,h),n=e[0]-p[0],o=e[1]-p[1];
_|=n|o,p=e,c({type:"drag",x:e[0]+l[0],y:e[1]+l[1],dx:n,dy:o})}function a(){f.on(n+"."+m,null).on(o+"."+m,null),v(_&&Ur.event.target===g),c({type:"dragend"})}var l,u=this,d=u.parentNode,c=i.of(u,arguments),g=Ur.event.target,h=e(),m=null==h?"drag":"drag-"+h,p=t(d,h),_=0,f=Ur.select(Jr).on(n+"."+m,r).on(o+"."+m,a),v=F();s?(l=s.apply(u,arguments),l=[l.x-p[0],l.y-p[1]]):l=[0,0],c({type:"dragstart"})}}var i=v(e,"drag","dragstart","dragend"),s=null,r=o(h,Ur.mouse,"mousemove","mouseup"),a=o(t,n,"touchmove","touchend");return e.origin=function(t){return arguments.length?(s=t,e):s},Ur.rebind(e,i,"on")};var Sa=Math.PI,za=2*Sa,Ma=Sa/2,Ta=1e-6,Aa=Ta*Ta,Ea=Sa/180,Ra=180/Sa,Na=Math.SQRT2,ja=2,Da=4;Ur.interpolateZoom=function(e,t){function n(e){var t=e*v;if(f){var n=K(p),r=s/(ja*g)*(n*Y(Na*t+p)-U(p));return[o+r*u,i+r*d,s*n/K(Na*t+p)]}return[o+e*u,i+e*d,s*Math.exp(Na*t)]}var o=e[0],i=e[1],s=e[2],r=t[0],a=t[1],l=t[2],u=r-o,d=a-i,c=u*u+d*d,g=Math.sqrt(c),h=(l*l-s*s+Da*c)/(2*s*ja*g),m=(l*l-s*s-Da*c)/(2*l*ja*g),p=Math.log(Math.sqrt(h*h+1)-h),_=Math.log(Math.sqrt(m*m+1)-m),f=_-p,v=(f||Math.log(l/s))/Na;return n.duration=1e3*v,n},Ur.behavior.zoom=function(){function e(e){e.on(M,u).on(Ia+".zoom",c).on(T,g).on("dblclick.zoom",h).on(E,d)}function t(e){return[(e[0]-x.x)/x.k,(e[1]-x.y)/x.k]}function n(e){return[e[0]*x.k+x.x,e[1]*x.k+x.y]}function o(e){x.k=Math.max(z[0],Math.min(z[1],e))}function i(e,t){t=n(t),x.x+=e[0]-t[0],x.y+=e[1]-t[1]}function s(){w&&w.domain(y.range().map(function(e){return(e-x.x)/x.k}).map(y.invert)),C&&C.domain(k.range().map(function(e){return(e-x.y)/x.k}).map(k.invert))}function r(e){e({type:"zoomstart"})}function a(e){s(),e({type:"zoom",scale:x.k,translate:[x.x,x.y]})}function l(e){e({type:"zoomend"})}function u(){function e(){d=1,i(Ur.mouse(o),h),a(s)}function n(){c.on(T,Jr===o?g:null).on(A,null),m(d&&Ur.event.target===u),l(s)}var o=this,s=R.of(o,arguments),u=Ur.event.target,d=0,c=Ur.select(Jr).on(T,e).on(A,n),h=t(Ur.mouse(o)),m=F();I.call(o),r(s)}function d(){function e(){var e=Ur.touches(h);return g=x.k,e.forEach(function(e){e.identifier in p&&(p[e.identifier]=t(e))}),e}function n(){for(var t=Ur.event.changedTouches,n=0,s=t.length;s>n;++n)p[t[n].identifier]=null;var r=e(),l=Date.now();if(1===r.length){if(500>l-b){var u=r[0],d=p[u.identifier];o(2*x.k),i(u,d),_(),a(m)}b=l}else if(r.length>1){var u=r[0],c=r[1],g=u[0]-c[0],h=u[1]-c[1];f=g*g+h*h}}function s(){for(var e,t,n,s,r=Ur.touches(h),l=0,u=r.length;u>l;++l,s=null)if(n=r[l],s=p[n.identifier]){if(t)break;e=n,t=s}if(s){var d=(d=n[0]-e[0])*d+(d=n[1]-e[1])*d,c=f&&Math.sqrt(d/f);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+s[0])/2,(t[1]+s[1])/2],o(c*g)}b=null,i(e,t),a(m)}function c(){if(Ur.event.touches.length){for(var t=Ur.event.changedTouches,n=0,o=t.length;o>n;++n)delete p[t[n].identifier];for(var i in p)return void e()}k.on(y,null).on(w,null),C.on(M,u).on(E,d),S(),l(m)}var g,h=this,m=R.of(h,arguments),p={},f=0,v=Ur.event.changedTouches[0].identifier,y="touchmove.zoom-"+v,w="touchend.zoom-"+v,k=Ur.select(Jr).on(y,s).on(w,c),C=Ur.select(h).on(M,null).on(E,n),S=F();I.call(h),n(),r(m)}function c(){var e=R.of(this,arguments);f?clearTimeout(f):(I.call(this),r(e)),f=setTimeout(function(){f=null,l(e)},50),_();var n=p||Ur.mouse(this);m||(m=t(n)),o(Math.pow(2,.002*Pa())*x.k),i(n,m),a(e)}function g(){m=null}function h(){var e=R.of(this,arguments),n=Ur.mouse(this),s=t(n),u=Math.log(x.k)/Math.LN2;r(e),o(Math.pow(2,Ur.event.shiftKey?Math.ceil(u)-1:Math.floor(u)+1)),i(n,s),a(e),l(e)}var m,p,f,b,y,w,k,C,x={x:0,y:0,k:1},S=[960,500],z=Oa,M="mousedown.zoom",T="mousemove.zoom",A="mouseup.zoom",E="touchstart.zoom",R=v(e,"zoomstart","zoom","zoomend");return e.event=function(e){e.each(function(){var e=R.of(this,arguments),t=x;zu?Ur.select(this).transition().each("start.zoom",function(){x=this.__chart__||{x:0,y:0,k:1},r(e)}).tween("zoom:zoom",function(){var n=S[0],o=S[1],i=n/2,s=o/2,r=Ur.interpolateZoom([(i-x.x)/x.k,(s-x.y)/x.k,n/x.k],[(i-t.x)/t.k,(s-t.y)/t.k,n/t.k]);return function(t){var o=r(t),l=n/o[2];this.__chart__=x={x:i-o[0]*l,y:s-o[1]*l,k:l},a(e)}}).each("end.zoom",function(){l(e)}):(this.__chart__=x,r(e),a(e),l(e))})},e.translate=function(t){return arguments.length?(x={x:+t[0],y:+t[1],k:x.k},s(),e):[x.x,x.y]},e.scale=function(t){return arguments.length?(x={x:x.x,y:x.y,k:+t},s(),e):x.k},e.scaleExtent=function(t){return arguments.length?(z=null==t?Oa:[+t[0],+t[1]],e):z},e.center=function(t){return arguments.length?(p=t&&[+t[0],+t[1]],e):p},e.size=function(t){return arguments.length?(S=t&&[+t[0],+t[1]],e):S},e.x=function(t){return arguments.length?(w=t,y=t.copy(),x={x:0,y:0,k:1},e):w},e.y=function(t){return arguments.length?(C=t,k=t.copy(),x={x:0,y:0,k:1},e):C},Ur.rebind(e,R,"on")};var Pa,Oa=[0,1/0],Ia="onwheel"in Zr?(Pa=function(){return-Ur.event.deltaY*(Ur.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Zr?(Pa=function(){return Ur.event.wheelDelta},"mousewheel"):(Pa=function(){return-Ur.event.detail},"MozMousePixelScroll");X.prototype.toString=function(){return this.rgb()+""},Ur.hsl=function(e,t,n){return 1===arguments.length?e instanceof Q?J(e.h,e.s,e.l):_t(""+e,ft,J):J(+e,+t,+n)};var $a=Q.prototype=new X;$a.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),J(this.h,this.s,this.l/e)},$a.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),J(this.h,this.s,e*this.l)},$a.rgb=function(){return et(this.h,this.s,this.l)},Ur.hcl=function(e,t,n){return 1===arguments.length?e instanceof nt?tt(e.h,e.c,e.l):e instanceof st?at(e.l,e.a,e.b):at((e=vt((e=Ur.rgb(e)).r,e.g,e.b)).l,e.a,e.b):tt(+e,+t,+n)};var La=nt.prototype=new X;La.brighter=function(e){return tt(this.h,this.c,Math.min(100,this.l+Ga*(arguments.length?e:1)))},La.darker=function(e){return tt(this.h,this.c,Math.max(0,this.l-Ga*(arguments.length?e:1)))},La.rgb=function(){return ot(this.h,this.c,this.l).rgb()},Ur.lab=function(e,t,n){return 1===arguments.length?e instanceof st?it(e.l,e.a,e.b):e instanceof nt?ot(e.l,e.c,e.h):vt((e=Ur.rgb(e)).r,e.g,e.b):it(+e,+t,+n)};var Ga=18,Fa=.95047,qa=1,Ha=1.08883,Va=st.prototype=new X;Va.brighter=function(e){return it(Math.min(100,this.l+Ga*(arguments.length?e:1)),this.a,this.b)},Va.darker=function(e){return it(Math.max(0,this.l-Ga*(arguments.length?e:1)),this.a,this.b)},Va.rgb=function(){return rt(this.l,this.a,this.b)},Ur.rgb=function(e,t,n){return 1===arguments.length?e instanceof mt?ht(e.r,e.g,e.b):_t(""+e,ht,et):ht(~~e,~~t,~~n)};var Wa=mt.prototype=new X;Wa.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,o=this.b,i=30;return t||n||o?(t&&i>t&&(t=i),n&&i>n&&(n=i),o&&i>o&&(o=i),ht(Math.min(255,~~(t/e)),Math.min(255,~~(n/e)),Math.min(255,~~(o/e)))):ht(i,i,i)},Wa.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),ht(~~(e*this.r),~~(e*this.g),~~(e*this.b))},Wa.hsl=function(){return ft(this.r,this.g,this.b)},Wa.toString=function(){return"#"+pt(this.r)+pt(this.g)+pt(this.b)};var Ba=Ur.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ba.forEach(function(e,t){Ba.set(e,ct(t))}),Ur.functor=wt,Ur.xhr=Ct(kt),Ur.dsv=function(e,t){function n(e,n,s){arguments.length<3&&(s=n,n=null);var r=xt(e,t,null==n?o:i(n),s);return r.row=function(e){return arguments.length?r.response(null==(n=e)?o:i(e)):n},r}function o(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function s(t){return t.map(r).join(e)}function r(e){return a.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var a=new RegExp('["'+e+"\n]"),l=e.charCodeAt(0);return n.parse=function(e,t){var o;return n.parseRows(e,function(e,n){if(o)return o(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");o=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(d>=u)return r;if(i)return i=!1,s;var t=d;if(34===e.charCodeAt(t)){for(var n=t;n++<u;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}d=n+2;var o=e.charCodeAt(n+1);return 13===o?(i=!0,10===e.charCodeAt(n+2)&&++d):10===o&&(i=!0),e.substring(t+1,n).replace(/""/g,'"')}for(;u>d;){var o=e.charCodeAt(d++),a=1;if(10===o)i=!0;else if(13===o)i=!0,10===e.charCodeAt(d)&&(++d,++a);else if(o!==l)continue;return e.substring(t,d-a)}return e.substring(t)}for(var o,i,s={},r={},a=[],u=e.length,d=0,c=0;(o=n())!==r;){for(var g=[];o!==s&&o!==r;)g.push(o),o=n();(!t||(g=t(g,c++)))&&a.push(g)}return a},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var o=new d,i=[];return t.forEach(function(e){for(var t in e)o.has(t)||i.push(o.add(t))}),[i.map(r).join(e)].concat(t.map(function(t){return i.map(function(e){return r(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(s).join("\n")},n},Ur.csv=Ur.dsv(",","text/csv"),Ur.tsv=Ur.dsv("	","text/tab-separated-values");var Ua,Ka,Ya,Za,Xa,Ja=Jr[g(Jr,"requestAnimationFrame")]||function(e){setTimeout(e,17)};Ur.timer=function(e,t,n){var o=arguments.length;2>o&&(t=0),3>o&&(n=Date.now());var i=n+t,s={c:e,t:i,f:!1,n:null};Ka?Ka.n=s:Ua=s,Ka=s,Ya||(Za=clearTimeout(Za),Ya=1,Ja(zt))},Ur.timer.flush=function(){Mt(),Tt()},Ur.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Qa=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Et);Ur.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=Ur.round(e,At(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((0>=n?n+1:n-1)/3)))),Qa[8+n/3]};var el=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,tl=Ur.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=Ur.round(e,At(e,t))).toFixed(Math.max(0,Math.min(20,At(e*(1+1e-15),t))))}}),nl=Ur.time={},ol=Date;jt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){il.setUTCDate.apply(this._,arguments)},setDay:function(){il.setUTCDay.apply(this._,arguments)},setFullYear:function(){il.setUTCFullYear.apply(this._,arguments)},setHours:function(){il.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){il.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){il.setUTCMinutes.apply(this._,arguments)},setMonth:function(){il.setUTCMonth.apply(this._,arguments)},setSeconds:function(){il.setUTCSeconds.apply(this._,arguments)},setTime:function(){il.setTime.apply(this._,arguments)}};var il=Date.prototype;nl.year=Dt(function(e){return e=nl.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),nl.years=nl.year.range,nl.years.utc=nl.year.utc.range,nl.day=Dt(function(e){var t=new ol(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),nl.days=nl.day.range,nl.days.utc=nl.day.utc.range,nl.dayOfYear=function(e){var t=nl.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=nl[e]=Dt(function(e){return(e=nl.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=nl.year(e).getDay();return Math.floor((nl.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});nl[e+"s"]=n.range,nl[e+"s"].utc=n.utc.range,nl[e+"OfYear"]=function(e){var n=nl.year(e).getDay();return Math.floor((nl.dayOfYear(e)+(n+t)%7)/7)}}),nl.week=nl.sunday,nl.weeks=nl.sunday.range,nl.weeks.utc=nl.sunday.utc.range,nl.weekOfYear=nl.sundayOfYear;var sl={"-":"",_:" ",0:"0"},rl=/^\s*\d+/,al=/^%/;Ur.locale=function(e){return{numberFormat:Rt(e),timeFormat:Ot(e)}};var ll=Ur.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Ur.format=ll.numberFormat,Ur.geo={},on.prototype={s:0,t:0,add:function(e){sn(e,this.t,ul),sn(ul.s,this.s,this),this.s?this.t+=ul.t:this.s=ul.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ul=new on;Ur.geo.stream=function(e,t){e&&dl.hasOwnProperty(e.type)?dl[e.type](e,t):rn(e,t)};var dl={Feature:function(e,t){rn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,o=-1,i=n.length;++o<i;)rn(n[o].geometry,t)}},cl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,o=-1,i=n.length;++o<i;)e=n[o],t.point(e[0],e[1],e[2])},LineString:function(e,t){an(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,o=-1,i=n.length;++o<i;)an(n[o],t,0)},Polygon:function(e,t){ln(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,o=-1,i=n.length;++o<i;)ln(n[o],t)},GeometryCollection:function(e,t){for(var n=e.geometries,o=-1,i=n.length;++o<i;)rn(n[o],t)}};Ur.geo.area=function(e){return gl=0,Ur.geo.stream(e,ml),gl};var gl,hl=new on,ml={sphere:function(){gl+=4*Sa},point:h,lineStart:h,lineEnd:h,polygonStart:function(){hl.reset(),ml.lineStart=un},polygonEnd:function(){var e=2*hl;gl+=0>e?4*Sa+e:e,ml.lineStart=ml.lineEnd=ml.point=h}};Ur.geo.bounds=function(){function e(e,t){b.push(y=[d=e,g=e]),c>t&&(c=t),t>h&&(h=t)}function t(t,n){var o=dn([t*Ea,n*Ea]);if(f){var i=gn(f,o),s=[i[1],-i[0],0],r=gn(s,i);pn(r),r=_n(r);var l=t-m,u=l>0?1:-1,p=r[0]*Ra*u,_=aa(l)>180;if(_^(p>u*m&&u*t>p)){var v=r[1]*Ra;v>h&&(h=v)}else if(p=(p+360)%360-180,_^(p>u*m&&u*t>p)){var v=-r[1]*Ra;c>v&&(c=v)}else c>n&&(c=n),n>h&&(h=n);_?m>t?a(d,t)>a(d,g)&&(g=t):a(t,g)>a(d,g)&&(d=t):g>=d?(d>t&&(d=t),t>g&&(g=t)):t>m?a(d,t)>a(d,g)&&(g=t):a(t,g)>a(d,g)&&(d=t)}else e(t,n);f=o,m=t}function n(){w.point=t}function o(){y[0]=d,y[1]=g,w.point=e,f=null}function i(e,n){if(f){var o=e-m;v+=aa(o)>180?o+(o>0?360:-360):o}else p=e,_=n;ml.point(e,n),t(e,n)}function s(){ml.lineStart()}function r(){i(p,_),ml.lineEnd(),aa(v)>Ta&&(d=-(g=180)),y[0]=d,y[1]=g,f=null}function a(e,t){return(t-=e)<0?t+360:t}function l(e,t){return e[0]-t[0]}function u(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var d,c,g,h,m,p,_,f,v,b,y,w={point:e,lineStart:n,lineEnd:o,polygonStart:function(){w.point=i,w.lineStart=s,w.lineEnd=r,v=0,ml.polygonStart()},polygonEnd:function(){ml.polygonEnd(),w.point=e,w.lineStart=n,w.lineEnd=o,0>hl?(d=-(g=180),c=-(h=90)):v>Ta?h=90:-Ta>v&&(c=-90),y[0]=d,y[1]=g}};return function(e){h=g=-(d=c=1/0),b=[],Ur.geo.stream(e,w);var t=b.length;if(t){b.sort(l);for(var n,o=1,i=b[0],s=[i];t>o;++o)n=b[o],u(n[0],i)||u(n[1],i)?(a(i[0],n[1])>a(i[0],i[1])&&(i[1]=n[1]),a(n[0],i[1])>a(i[0],i[1])&&(i[0]=n[0])):s.push(i=n);for(var r,n,m=-1/0,t=s.length-1,o=0,i=s[t];t>=o;i=n,++o)n=s[o],(r=a(i[1],n[0]))>m&&(m=r,d=n[0],g=i[1])}return b=y=null,1/0===d||1/0===c?[[0/0,0/0],[0/0,0/0]]:[[d,c],[g,h]]}}(),Ur.geo.centroid=function(e){pl=_l=fl=vl=bl=yl=wl=kl=Cl=xl=Sl=0,Ur.geo.stream(e,zl);var t=Cl,n=xl,o=Sl,i=t*t+n*n+o*o;return Aa>i&&(t=yl,n=wl,o=kl,Ta>_l&&(t=fl,n=vl,o=bl),i=t*t+n*n+o*o,Aa>i)?[0/0,0/0]:[Math.atan2(n,t)*Ra,B(o/Math.sqrt(i))*Ra]};var pl,_l,fl,vl,bl,yl,wl,kl,Cl,xl,Sl,zl={sphere:h,point:vn,lineStart:yn,lineEnd:wn,polygonStart:function(){zl.lineStart=kn},polygonEnd:function(){zl.lineStart=yn}},Ml=Mn(Cn,Nn,Dn,[-Sa,-Sa/2]),Tl=1e9;Ur.geo.clipExtent=function(){var e,t,n,o,i,s,r={stream:function(e){return i&&(i.valid=!1),i=s(e),i.valid=!0,i},extent:function(a){return arguments.length?(s=In(e=+a[0][0],t=+a[0][1],n=+a[1][0],o=+a[1][1]),i&&(i.valid=!1,i=null),r):[[e,t],[n,o]]}};return r.extent([[0,0],[960,500]])},(Ur.geo.conicEqualArea=function(){return Ln(Gn)}).raw=Gn,Ur.geo.albers=function(){return Ur.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Ur.geo.albersUsa=function(){function e(e){var s=e[0],r=e[1];return t=null,n(s,r),t||(o(s,r),t)||i(s,r),t}var t,n,o,i,s=Ur.geo.albers(),r=Ur.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=Ur.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=s.scale(),n=s.translate(),o=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&.234>i&&o>=-.425&&-.214>o?r:i>=.166&&.234>i&&o>=-.214&&-.115>o?a:s).invert(e)},e.stream=function(e){var t=s.stream(e),n=r.stream(e),o=a.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),o.point(e,i)},sphere:function(){t.sphere(),n.sphere(),o.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),o.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),o.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),o.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),o.polygonEnd()}}},e.precision=function(t){return arguments.length?(s.precision(t),r.precision(t),a.precision(t),e):s.precision()},e.scale=function(t){return arguments.length?(s.scale(t),r.scale(.35*t),a.scale(t),e.translate(s.translate())):s.scale()},e.translate=function(t){if(!arguments.length)return s.translate();var u=s.scale(),d=+t[0],c=+t[1];return n=s.translate(t).clipExtent([[d-.455*u,c-.238*u],[d+.455*u,c+.238*u]]).stream(l).point,o=r.translate([d-.307*u,c+.201*u]).clipExtent([[d-.425*u+Ta,c+.12*u+Ta],[d-.214*u-Ta,c+.234*u-Ta]]).stream(l).point,i=a.translate([d-.205*u,c+.212*u]).clipExtent([[d-.214*u+Ta,c+.166*u+Ta],[d-.115*u-Ta,c+.234*u-Ta]]).stream(l).point,e},e.scale(1070)};var Al,El,Rl,Nl,jl,Dl,Pl={point:h,lineStart:h,lineEnd:h,polygonStart:function(){El=0,Pl.lineStart=Fn},polygonEnd:function(){Pl.lineStart=Pl.lineEnd=Pl.point=h,Al+=aa(El/2)}},Ol={point:qn,lineStart:h,lineEnd:h,polygonStart:h,polygonEnd:h},Il={point:Wn,lineStart:Bn,lineEnd:Un,polygonStart:function(){Il.lineStart=Kn},polygonEnd:function(){Il.point=Wn,Il.lineStart=Bn,Il.lineEnd=Un}};Ur.geo.path=function(){function e(e){return e&&("function"==typeof a&&s.pointRadius(+a.apply(this,arguments)),r&&r.valid||(r=i(s)),Ur.geo.stream(e,r)),s.result()}function t(){return r=null,e}var n,o,i,s,r,a=4.5;return e.area=function(e){return Al=0,Ur.geo.stream(e,i(Pl)),Al},e.centroid=function(e){return fl=vl=bl=yl=wl=kl=Cl=xl=Sl=0,Ur.geo.stream(e,i(Il)),Sl?[Cl/Sl,xl/Sl]:kl?[yl/kl,wl/kl]:bl?[fl/bl,vl/bl]:[0/0,0/0]},e.bounds=function(e){return jl=Dl=-(Rl=Nl=1/0),Ur.geo.stream(e,i(Ol)),[[Rl,Nl],[jl,Dl]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||Xn(e):kt,t()):n},e.context=function(e){return arguments.length?(s=null==(o=e)?new Hn:new Yn(e),"function"!=typeof a&&s.pointRadius(a),t()):o},e.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(s.pointRadius(+t),+t),e):a},e.projection(Ur.geo.albersUsa()).context(null)},Ur.geo.transform=function(e){return{stream:function(t){var n=new Jn(t);for(var o in e)n[o]=e[o];return n}}},Jn.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Ur.geo.projection=eo,Ur.geo.projectionMutator=to,(Ur.geo.equirectangular=function(){return eo(oo)}).raw=oo.invert=oo,Ur.geo.rotation=function(e){function t(t){return t=e(t[0]*Ea,t[1]*Ea),t[0]*=Ra,t[1]*=Ra,t}return e=so(e[0]%360*Ea,e[1]*Ea,e.length>2?e[2]*Ea:0),t.invert=function(t){return t=e.invert(t[0]*Ea,t[1]*Ea),t[0]*=Ra,t[1]*=Ra,t},t},io.invert=oo,Ur.geo.circle=function(){function e(){var e="function"==typeof o?o.apply(this,arguments):o,t=so(-e[0]*Ea,-e[1]*Ea,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=Ra,e[1]*=Ra}}),{type:"Polygon",coordinates:[i]}}var t,n,o=[0,0],i=6;return e.origin=function(t){return arguments.length?(o=t,e):o},e.angle=function(o){return arguments.length?(n=uo((t=+o)*Ea,i*Ea),e):t},e.precision=function(o){return arguments.length?(n=uo(t*Ea,(i=+o)*Ea),e):i},e.angle(90)},Ur.geo.distance=function(e,t){var n,o=(t[0]-e[0])*Ea,i=e[1]*Ea,s=t[1]*Ea,r=Math.sin(o),a=Math.cos(o),l=Math.sin(i),u=Math.cos(i),d=Math.sin(s),c=Math.cos(s);return Math.atan2(Math.sqrt((n=c*r)*n+(n=u*d-l*c*a)*n),l*d+u*c*a)},Ur.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return Ur.range(Math.ceil(s/_)*_,i,_).map(g).concat(Ur.range(Math.ceil(u/f)*f,l,f).map(h)).concat(Ur.range(Math.ceil(o/m)*m,n,m).filter(function(e){return aa(e%_)>Ta}).map(d)).concat(Ur.range(Math.ceil(a/p)*p,r,p).filter(function(e){return aa(e%f)>Ta}).map(c))}var n,o,i,s,r,a,l,u,d,c,g,h,m=10,p=m,_=90,f=360,v=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[g(s).concat(h(l).slice(1),g(i).reverse().slice(1),h(u).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(s=+t[0][0],i=+t[1][0],u=+t[0][1],l=+t[1][1],s>i&&(t=s,s=i,i=t),u>l&&(t=u,u=l,l=t),e.precision(v)):[[s,u],[i,l]]},e.minorExtent=function(t){return arguments.length?(o=+t[0][0],n=+t[1][0],a=+t[0][1],r=+t[1][1],o>n&&(t=o,o=n,n=t),a>r&&(t=a,a=r,r=t),e.precision(v)):[[o,a],[n,r]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(_=+t[0],f=+t[1],e):[_,f]},e.minorStep=function(t){return arguments.length?(m=+t[0],p=+t[1],e):[m,p]},e.precision=function(t){return arguments.length?(v=+t,d=go(a,r,90),c=ho(o,n,v),g=go(u,l,90),h=ho(s,i,v),e):v},e.majorExtent([[-180,-90+Ta],[180,90-Ta]]).minorExtent([[-180,-80-Ta],[180,80+Ta]])},Ur.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||o.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,o=mo,i=po;return e.distance=function(){return Ur.geo.distance(t||o.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(o=n,t="function"==typeof n?null:n,e):o},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},Ur.geo.interpolate=function(e,t){return _o(e[0]*Ea,e[1]*Ea,t[0]*Ea,t[1]*Ea)},Ur.geo.length=function(e){return $l=0,Ur.geo.stream(e,Ll),$l};var $l,Ll={sphere:h,point:h,lineStart:fo,lineEnd:h,polygonStart:h,polygonEnd:h},Gl=vo(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(Ur.geo.azimuthalEqualArea=function(){return eo(Gl)}).raw=Gl;var Fl=vo(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},kt);(Ur.geo.azimuthalEquidistant=function(){return eo(Fl)}).raw=Fl,(Ur.geo.conicConformal=function(){return Ln(bo)}).raw=bo,(Ur.geo.conicEquidistant=function(){return Ln(yo)}).raw=yo;var ql=vo(function(e){return 1/e},Math.atan);(Ur.geo.gnomonic=function(){return eo(ql)}).raw=ql,wo.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Ma]},(Ur.geo.mercator=function(){return ko(wo)}).raw=wo;var Hl=vo(function(){return 1},Math.asin);(Ur.geo.orthographic=function(){return eo(Hl)}).raw=Hl;var Vl=vo(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(Ur.geo.stereographic=function(){return eo(Vl)}).raw=Vl,Co.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Ma]},(Ur.geo.transverseMercator=function(){var e=ko(Co),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[-e[1],e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},e.rotate([0,0])}).raw=Co,Ur.geom={},Ur.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=wt(n),s=wt(o),r=e.length,a=[],l=[];for(t=0;r>t;t++)a.push([+i.call(this,e[t],t),+s.call(this,e[t],t),t]);for(a.sort(Mo),t=0;r>t;t++)l.push([a[t][0],-a[t][1]]);var u=zo(a),d=zo(l),c=d[0]===u[0],g=d[d.length-1]===u[u.length-1],h=[];for(t=u.length-1;t>=0;--t)h.push(e[a[u[t]][2]]);for(t=+c;t<d.length-g;++t)h.push(e[a[d[t]][2]]);return h}var n=xo,o=So;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(o=e,t):o},t)},Ur.geom.polygon=function(e){return ga(e,Wl),e};var Wl=Ur.geom.polygon.prototype=[];Wl.area=function(){for(var e,t=-1,n=this.length,o=this[n-1],i=0;++t<n;)e=o,o=this[t],i+=e[1]*o[0]-e[0]*o[1];return.5*i},Wl.centroid=function(e){var t,n,o=-1,i=this.length,s=0,r=0,a=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++o<i;)t=a,a=this[o],n=t[0]*a[1]-a[0]*t[1],s+=(t[0]+a[0])*n,r+=(t[1]+a[1])*n;return[s*e,r*e]},Wl.clip=function(e){for(var t,n,o,i,s,r,a=Eo(e),l=-1,u=this.length-Eo(this),d=this[u-1];++l<u;){for(t=e.slice(),e.length=0,i=this[l],s=t[(o=t.length-a)-1],n=-1;++n<o;)r=t[n],To(r,d,i)?(To(s,d,i)||e.push(Ao(s,r,d,i)),e.push(r)):To(s,d,i)&&e.push(Ao(s,r,d,i)),s=r;a&&e.push(e[0]),d=i}return e};var Bl,Ul,Kl,Yl,Zl,Xl=[],Jl=[];$o.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Go),t.length},Zo.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Xo.prototype={insert:function(e,t){var n,o,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ti(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)o=n.U,n===o.L?(i=o.R,i&&i.C?(n.C=i.C=!1,o.C=!0,e=o):(e===n.R&&(Qo(this,n),e=n,n=e.U),n.C=!1,o.C=!0,ei(this,o))):(i=o.L,i&&i.C?(n.C=i.C=!1,o.C=!0,e=o):(e===n.L&&(ei(this,n),e=n,n=e.U),n.C=!1,o.C=!0,Qo(this,o))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,o,i=e.U,s=e.L,r=e.R;if(n=s?r?ti(r):s:r,i?i.L===e?i.L=n:i.R=n:this._=n,s&&r?(o=n.C,n.C=e.C,n.L=s,s.U=n,n!==r?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=r,r.U=n):(n.U=i,i=n,e=n.R)):(o=e.C,e=n),e&&(e.U=i),!o){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,Qo(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ei(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Qo(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ei(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Qo(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ei(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},Ur.geom.voronoi=function(e){function t(e){var t=new Array(e.length),o=a[0][0],i=a[0][1],s=a[1][0],r=a[1][1];return ni(n(e),a).cells.forEach(function(n,a){var l=n.edges,u=n.site,d=t[a]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):u.x>=o&&u.x<=s&&u.y>=i&&u.y<=r?[[o,r],[s,r],[s,i],[o,i]]:[];d.point=e[a]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(s(e,t)/Ta)*Ta,y:Math.round(r(e,t)/Ta)*Ta,i:t}})}var o=xo,i=So,s=o,r=i,a=Ql;return e?t(e):(t.links=function(e){return ni(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return ni(n(e)).cells.forEach(function(n,o){for(var i,s,r=n.site,a=n.edges.sort(Go),l=-1,u=a.length,d=a[u-1].edge,c=d.l===r?d.r:d.l;++l<u;)i=d,s=c,d=a[l].edge,c=d.l===r?d.r:d.l,o<s.i&&o<c.i&&ii(r,s,c)<0&&t.push([e[o],e[s.i],e[c.i]])}),t},t.x=function(e){return arguments.length?(s=wt(o=e),t):o},t.y=function(e){return arguments.length?(r=wt(i=e),t):i},t.clipExtent=function(e){return arguments.length?(a=null==e?Ql:e,t):a===Ql?null:a},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):a===Ql?null:a&&a[1]},t)};var Ql=[[-1e6,-1e6],[1e6,1e6]];Ur.geom.delaunay=function(e){return Ur.geom.voronoi().triangles(e)},Ur.geom.quadtree=function(e,t,n,o,i){function s(e){function s(e,t,n,o,i,s,r,a){if(!isNaN(n)&&!isNaN(o))if(e.leaf){var l=e.x,d=e.y;if(null!=l)if(aa(l-n)+aa(d-o)<.01)u(e,t,n,o,i,s,r,a);else{var c=e.point;e.x=e.y=e.point=null,u(e,c,l,d,i,s,r,a),u(e,t,n,o,i,s,r,a)}else e.x=n,e.y=o,e.point=t}else u(e,t,n,o,i,s,r,a)}function u(e,t,n,o,i,r,a,l){var u=.5*(i+a),d=.5*(r+l),c=n>=u,g=o>=d,h=(g<<1)+c;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=ai()),c?i=u:a=u,g?r=d:l=d,s(e,t,n,o,i,r,a,l)}var d,c,g,h,m,p,_,f,v,b=wt(a),y=wt(l);if(null!=t)p=t,_=n,f=o,v=i;else if(f=v=-(p=_=1/0),c=[],g=[],m=e.length,r)for(h=0;m>h;++h)d=e[h],d.x<p&&(p=d.x),d.y<_&&(_=d.y),d.x>f&&(f=d.x),d.y>v&&(v=d.y),c.push(d.x),g.push(d.y);else for(h=0;m>h;++h){var w=+b(d=e[h],h),k=+y(d,h);p>w&&(p=w),_>k&&(_=k),w>f&&(f=w),k>v&&(v=k),c.push(w),g.push(k)}var C=f-p,x=v-_;C>x?v=_+C:f=p+x;var S=ai();if(S.add=function(e){s(S,e,+b(e,++h),+y(e,h),p,_,f,v)},S.visit=function(e){li(e,S,p,_,f,v)
},h=-1,null==t){for(;++h<m;)s(S,e[h],c[h],g[h],p,_,f,v);--h}else e.forEach(S.add);return c=g=e=d=null,S}var r,a=xo,l=So;return(r=arguments.length)?(a=si,l=ri,3===r&&(i=n,o=t,n=t=0),s(e)):(s.x=function(e){return arguments.length?(a=e,s):a},s.y=function(e){return arguments.length?(l=e,s):l},s.extent=function(e){return arguments.length?(null==e?t=n=o=i=null:(t=+e[0][0],n=+e[0][1],o=+e[1][0],i=+e[1][1]),s):null==t?null:[[t,n],[o,i]]},s.size=function(e){return arguments.length?(null==e?t=n=o=i=null:(t=n=0,o=+e[0],i=+e[1]),s):null==t?null:[o-t,i-n]},s)},Ur.interpolateRgb=ui,Ur.interpolateObject=di,Ur.interpolateNumber=ci,Ur.interpolateString=gi;var eu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Ur.interpolate=hi,Ur.interpolators=[function(e,t){var n=typeof t;return("string"===n?Ba.has(t)||/^(#|rgb\(|hsl\()/.test(t)?ui:gi:t instanceof X?ui:"object"===n?Array.isArray(t)?mi:di:ci)(e,t)}],Ur.interpolateArray=mi;var tu=function(){return kt},nu=Ur.map({linear:tu,poly:wi,quad:function(){return vi},cubic:function(){return bi},sin:function(){return ki},exp:function(){return Ci},circle:function(){return xi},elastic:Si,back:zi,bounce:function(){return Mi}}),ou=Ur.map({"in":kt,out:_i,"in-out":fi,"out-in":function(e){return fi(_i(e))}});Ur.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,o=t>=0?e.substring(t+1):"in";return n=nu.get(n)||tu,o=ou.get(o)||kt,pi(o(n.apply(null,Kr.call(arguments,1))))},Ur.interpolateHcl=Ti,Ur.interpolateHsl=Ai,Ur.interpolateLab=Ei,Ur.interpolateRound=Ri,Ur.transform=function(e){var t=Zr.createElementNS(Ur.ns.prefix.svg,"g");return(Ur.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Ni(n?n.matrix:iu)})(e)},Ni.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var iu={a:1,b:0,c:0,d:1,e:0,f:0};Ur.interpolateTransform=Oi,Ur.layout={},Ur.layout.bundle=function(){return function(e){for(var t=[],n=-1,o=e.length;++n<o;)t.push(Li(e[n]));return t}},Ur.layout.chord=function(){function e(){var e,u,c,g,h,m={},p=[],_=Ur.range(s),f=[];for(n=[],o=[],e=0,g=-1;++g<s;){for(u=0,h=-1;++h<s;)u+=i[g][h];p.push(u),f.push(Ur.range(s)),e+=u}for(r&&_.sort(function(e,t){return r(p[e],p[t])}),a&&f.forEach(function(e,t){e.sort(function(e,n){return a(i[t][e],i[t][n])})}),e=(za-d*s)/e,u=0,g=-1;++g<s;){for(c=u,h=-1;++h<s;){var v=_[g],b=f[v][h],y=i[v][b],w=u,k=u+=y*e;m[v+"-"+b]={index:v,subindex:b,startAngle:w,endAngle:k,value:y}}o[v]={index:v,startAngle:c,endAngle:u,value:(u-c)/e},u+=d}for(g=-1;++g<s;)for(h=g-1;++h<s;){var C=m[g+"-"+h],x=m[h+"-"+g];(C.value||x.value)&&n.push(C.value<x.value?{source:x,target:C}:{source:C,target:x})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,o,i,s,r,a,l,u={},d=0;return u.matrix=function(e){return arguments.length?(s=(i=e)&&i.length,n=o=null,u):i},u.padding=function(e){return arguments.length?(d=e,n=o=null,u):d},u.sortGroups=function(e){return arguments.length?(r=e,n=o=null,u):r},u.sortSubgroups=function(e){return arguments.length?(a=e,n=null,u):a},u.sortChords=function(e){return arguments.length?(l=e,n&&t(),u):l},u.chords=function(){return n||e(),n},u.groups=function(){return o||e(),o},u},Ur.layout.force=function(){function e(e){return function(t,n,o,i){if(t.point!==e){var s=t.cx-e.x,r=t.cy-e.y,a=i-n,l=s*s+r*r;if(l>a*a/_){if(m>l){var u=t.charge/l;e.px-=s*u,e.py-=r*u}return!0}if(t.point&&l&&m>l){var u=t.pointCharge/l;e.px-=s*u,e.py-=r*u}}return!t.charge}}function t(e){e.px=Ur.event.x,e.py=Ur.event.y,a.resume()}var n,o,i,s,r,a={},l=Ur.dispatch("start","tick","end"),u=[1,1],d=.9,c=su,g=ru,h=-30,m=au,p=.1,_=.64,f=[],v=[];return a.tick=function(){if((o*=.99)<.005)return l.end({type:"end",alpha:o=0}),!0;var t,n,a,c,g,m,_,b,y,w=f.length,k=v.length;for(n=0;k>n;++n)a=v[n],c=a.source,g=a.target,b=g.x-c.x,y=g.y-c.y,(m=b*b+y*y)&&(m=o*s[n]*((m=Math.sqrt(m))-i[n])/m,b*=m,y*=m,g.x-=b*(_=c.weight/(g.weight+c.weight)),g.y-=y*_,c.x+=b*(_=1-_),c.y+=y*_);if((_=o*p)&&(b=u[0]/2,y=u[1]/2,n=-1,_))for(;++n<w;)a=f[n],a.x+=(b-a.x)*_,a.y+=(y-a.y)*_;if(h)for(Bi(t=Ur.geom.quadtree(f),o,r),n=-1;++n<w;)(a=f[n]).fixed||t.visit(e(a));for(n=-1;++n<w;)a=f[n],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*d,a.y-=(a.py-(a.py=a.y))*d);l.tick({type:"tick",alpha:o})},a.nodes=function(e){return arguments.length?(f=e,a):f},a.links=function(e){return arguments.length?(v=e,a):v},a.size=function(e){return arguments.length?(u=e,a):u},a.linkDistance=function(e){return arguments.length?(c="function"==typeof e?e:+e,a):c},a.distance=a.linkDistance,a.linkStrength=function(e){return arguments.length?(g="function"==typeof e?e:+e,a):g},a.friction=function(e){return arguments.length?(d=+e,a):d},a.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,a):h},a.chargeDistance=function(e){return arguments.length?(m=e*e,a):Math.sqrt(m)},a.gravity=function(e){return arguments.length?(p=+e,a):p},a.theta=function(e){return arguments.length?(_=e*e,a):Math.sqrt(_)},a.alpha=function(e){return arguments.length?(e=+e,o?o=e>0?e:0:e>0&&(l.start({type:"start",alpha:o=e}),Ur.timer(a.tick)),a):o},a.start=function(){function e(e,o){if(!n){for(n=new Array(l),a=0;l>a;++a)n[a]=[];for(a=0;u>a;++a){var i=v[a];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var s,r=n[t],a=-1,u=r.length;++a<u;)if(!isNaN(s=r[a][e]))return s;return Math.random()*o}var t,n,o,l=f.length,d=v.length,m=u[0],p=u[1];for(t=0;l>t;++t)(o=f[t]).index=t,o.weight=0;for(t=0;d>t;++t)o=v[t],"number"==typeof o.source&&(o.source=f[o.source]),"number"==typeof o.target&&(o.target=f[o.target]),++o.source.weight,++o.target.weight;for(t=0;l>t;++t)o=f[t],isNaN(o.x)&&(o.x=e("x",m)),isNaN(o.y)&&(o.y=e("y",p)),isNaN(o.px)&&(o.px=o.x),isNaN(o.py)&&(o.py=o.y);if(i=[],"function"==typeof c)for(t=0;d>t;++t)i[t]=+c.call(this,v[t],t);else for(t=0;d>t;++t)i[t]=c;if(s=[],"function"==typeof g)for(t=0;d>t;++t)s[t]=+g.call(this,v[t],t);else for(t=0;d>t;++t)s[t]=g;if(r=[],"function"==typeof h)for(t=0;l>t;++t)r[t]=+h.call(this,f[t],t);else for(t=0;l>t;++t)r[t]=h;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return n||(n=Ur.behavior.drag().origin(kt).on("dragstart.force",qi).on("drag.force",t).on("dragend.force",Hi)),arguments.length?void this.on("mouseover.force",Vi).on("mouseout.force",Wi).call(n):n},Ur.rebind(a,l,"on")};var su=20,ru=1,au=1/0;Ur.layout.hierarchy=function(){function e(t,r,a){var l=i.call(n,t,r);if(t.depth=r,a.push(t),l&&(u=l.length)){for(var u,d,c=-1,g=t.children=new Array(u),h=0,m=r+1;++c<u;)d=g[c]=e(l[c],m,a),d.parent=t,h+=d.value;o&&g.sort(o),s&&(t.value=h)}else delete t.children,s&&(t.value=+s.call(n,t,r)||0);return t}function t(e,o){var i=e.children,r=0;if(i&&(a=i.length))for(var a,l=-1,u=o+1;++l<a;)r+=t(i[l],u);else s&&(r=+s.call(n,e,o)||0);return s&&(e.value=r),r}function n(t){var n=[];return e(t,0,n),n}var o=Zi,i=Ki,s=Yi;return n.sort=function(e){return arguments.length?(o=e,n):o},n.children=function(e){return arguments.length?(i=e,n):i},n.value=function(e){return arguments.length?(s=e,n):s},n.revalue=function(e){return t(e,0),e},n},Ur.layout.partition=function(){function e(t,n,o,i){var s=t.children;if(t.x=n,t.y=t.depth*i,t.dx=o,t.dy=i,s&&(r=s.length)){var r,a,l,u=-1;for(o=t.value?o/t.value:0;++u<r;)e(a=s[u],n,l=a.value*o,i),n+=l}}function t(e){var n=e.children,o=0;if(n&&(i=n.length))for(var i,s=-1;++s<i;)o=Math.max(o,t(n[s]));return 1+o}function n(n,s){var r=o.call(this,n,s);return e(r[0],0,i[0],i[1]/t(r[0])),r}var o=Ur.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},Ui(n,o)},Ur.layout.pie=function(){function e(s){var r=s.map(function(n,o){return+t.call(e,n,o)}),a=+("function"==typeof o?o.apply(this,arguments):o),l=(("function"==typeof i?i.apply(this,arguments):i)-a)/Ur.sum(r),u=Ur.range(s.length);null!=n&&u.sort(n===lu?function(e,t){return r[t]-r[e]}:function(e,t){return n(s[e],s[t])});var d=[];return u.forEach(function(e){var t;d[e]={data:s[e],value:t=r[e],startAngle:a,endAngle:a+=t*l}}),d}var t=Number,n=lu,o=0,i=za;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(o=t,e):o},e.endAngle=function(t){return arguments.length?(i=t,e):i},e};var lu={};Ur.layout.stack=function(){function e(a,l){var u=a.map(function(n,o){return t.call(e,n,o)}),d=u.map(function(t){return t.map(function(t,n){return[s.call(e,t,n),r.call(e,t,n)]})}),c=n.call(e,d,l);u=Ur.permute(u,c),d=Ur.permute(d,c);var g,h,m,p=o.call(e,d,l),_=u.length,f=u[0].length;for(h=0;f>h;++h)for(i.call(e,u[0][h],m=p[h],d[0][h][1]),g=1;_>g;++g)i.call(e,u[g][h],m+=d[g-1][h][1],d[g][h][1]);return a}var t=kt,n=ts,o=ns,i=es,s=Ji,r=Qi;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:uu.get(t)||ts,e):n},e.offset=function(t){return arguments.length?(o="function"==typeof t?t:du.get(t)||ns,e):o},e.x=function(t){return arguments.length?(s=t,e):s},e.y=function(t){return arguments.length?(r=t,e):r},e.out=function(t){return arguments.length?(i=t,e):i},e};var uu=Ur.map({"inside-out":function(e){var t,n,o=e.length,i=e.map(os),s=e.map(is),r=Ur.range(o).sort(function(e,t){return i[e]-i[t]}),a=0,l=0,u=[],d=[];for(t=0;o>t;++t)n=r[t],l>a?(a+=s[n],u.push(n)):(l+=s[n],d.push(n));return d.reverse().concat(u)},reverse:function(e){return Ur.range(e.length).reverse()},"default":ts}),du=Ur.map({silhouette:function(e){var t,n,o,i=e.length,s=e[0].length,r=[],a=0,l=[];for(n=0;s>n;++n){for(t=0,o=0;i>t;t++)o+=e[t][n][1];o>a&&(a=o),r.push(o)}for(n=0;s>n;++n)l[n]=(a-r[n])/2;return l},wiggle:function(e){var t,n,o,i,s,r,a,l,u,d=e.length,c=e[0],g=c.length,h=[];for(h[0]=l=u=0,n=1;g>n;++n){for(t=0,i=0;d>t;++t)i+=e[t][n][1];for(t=0,s=0,a=c[n][0]-c[n-1][0];d>t;++t){for(o=0,r=(e[t][n][1]-e[t][n-1][1])/(2*a);t>o;++o)r+=(e[o][n][1]-e[o][n-1][1])/a;s+=r*e[t][n][1]}h[n]=l-=i?s/i*a:0,u>l&&(u=l)}for(n=0;g>n;++n)h[n]-=u;return h},expand:function(e){var t,n,o,i=e.length,s=e[0].length,r=1/i,a=[];for(n=0;s>n;++n){for(t=0,o=0;i>t;t++)o+=e[t][n][1];if(o)for(t=0;i>t;t++)e[t][n][1]/=o;else for(t=0;i>t;t++)e[t][n][1]=r}for(n=0;s>n;++n)a[n]=0;return a},zero:ns});Ur.layout.histogram=function(){function e(e,s){for(var r,a,l=[],u=e.map(n,this),d=o.call(this,u,s),c=i.call(this,d,u,s),s=-1,g=u.length,h=c.length-1,m=t?1:1/g;++s<h;)r=l[s]=[],r.dx=c[s+1]-(r.x=c[s]),r.y=0;if(h>0)for(s=-1;++s<g;)a=u[s],a>=d[0]&&a<=d[1]&&(r=l[Ur.bisect(c,a,1,h)-1],r.y+=m,r.push(e[s]));return l}var t=!0,n=Number,o=ls,i=rs;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(o=wt(t),e):o},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return as(e,t)}:wt(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},Ur.layout.tree=function(){function e(e,s){function r(e,t){var o=e.children,i=e._tree;if(o&&(s=o.length)){for(var s,a,u,d=o[0],c=d,g=-1;++g<s;)u=o[g],r(u,a),c=l(u,a,c),a=u;fs(e);var h=.5*(d._tree.prelim+u._tree.prelim);t?(i.prelim=t._tree.prelim+n(e,t),i.mod=i.prelim-h):i.prelim=h}else t&&(i.prelim=t._tree.prelim+n(e,t))}function a(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(o=n.length)){var o,i=-1;for(t+=e._tree.mod;++i<o;)a(n[i],t)}}function l(e,t,o){if(t){for(var i,s=e,r=e,a=t,l=e.parent.children[0],u=s._tree.mod,d=r._tree.mod,c=a._tree.mod,g=l._tree.mod;a=cs(a),s=ds(s),a&&s;)l=ds(l),r=cs(r),r._tree.ancestor=e,i=a._tree.prelim+c-s._tree.prelim-u+n(a,s),i>0&&(vs(bs(a,e,o),e,i),u+=i,d+=i),c+=a._tree.mod,u+=s._tree.mod,g+=l._tree.mod,d+=r._tree.mod;a&&!cs(r)&&(r._tree.thread=a,r._tree.mod+=c-d),s&&!ds(l)&&(l._tree.thread=s,l._tree.mod+=u-g,o=e)}return o}var u=t.call(this,e,s),d=u[0];_s(d,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),r(d),a(d,-d._tree.prelim);var c=gs(d,ms),g=gs(d,hs),h=gs(d,ps),m=c.x-n(c,g)/2,p=g.x+n(g,c)/2,_=h.depth||1;return _s(d,i?function(e){e.x*=o[0],e.y=e.depth*o[1],delete e._tree}:function(e){e.x=(e.x-m)/(p-m)*o[0],e.y=e.depth/_*o[1],delete e._tree}),u}var t=Ur.layout.hierarchy().sort(null).value(null),n=us,o=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(o=t),e):i?null:o},e.nodeSize=function(t){return arguments.length?(i=null!=(o=t),e):i?o:null},Ui(e,t)},Ur.layout.pack=function(){function e(e,s){var r=n.call(this,e,s),a=r[0],l=i[0],u=i[1],d=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,_s(a,function(e){e.r=+d(e.value)}),_s(a,xs),o){var c=o*(t?1:Math.max(2*a.r/l,2*a.r/u))/2;_s(a,function(e){e.r+=c}),_s(a,xs),_s(a,function(e){e.r-=c})}return Ms(a,l/2,u/2,t?1:1/Math.max(2*a.r/l,2*a.r/u)),r}var t,n=Ur.layout.hierarchy().sort(ys),o=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(o=+t,e):o},Ui(e,n)},Ur.layout.cluster=function(){function e(e,s){var r,a=t.call(this,e,s),l=a[0],u=0;_s(l,function(e){var t=e.children;t&&t.length?(e.x=Es(t),e.y=As(t)):(e.x=r?u+=n(e,r):0,e.y=0,r=e)});var d=Rs(l),c=Ns(l),g=d.x-n(d,c)/2,h=c.x+n(c,d)/2;return _s(l,i?function(e){e.x=(e.x-l.x)*o[0],e.y=(l.y-e.y)*o[1]}:function(e){e.x=(e.x-g)/(h-g)*o[0],e.y=(1-(l.y?e.y/l.y:1))*o[1]}),a}var t=Ur.layout.hierarchy().sort(null).value(null),n=us,o=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(o=t),e):i?null:o},e.nodeSize=function(t){return arguments.length?(i=null!=(o=t),e):i?o:null},Ui(e,t)},Ur.layout.treemap=function(){function e(e,t){for(var n,o,i=-1,s=e.length;++i<s;)o=(n=e[i]).value*(0>t?0:t),n.area=isNaN(o)||0>=o?0:o}function t(n){var s=n.children;if(s&&s.length){var r,a,l,u=c(n),d=[],g=s.slice(),m=1/0,p="slice"===h?u.dx:"dice"===h?u.dy:"slice-dice"===h?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(e(g,u.dx*u.dy/n.value),d.area=0;(l=g.length)>0;)d.push(r=g[l-1]),d.area+=r.area,"squarify"!==h||(a=o(d,p))<=m?(g.pop(),m=a):(d.area-=d.pop().area,i(d,p,u,!1),p=Math.min(u.dx,u.dy),d.length=d.area=0,m=1/0);d.length&&(i(d,p,u,!0),d.length=d.area=0),s.forEach(t)}}function n(t){var o=t.children;if(o&&o.length){var s,r=c(t),a=o.slice(),l=[];for(e(a,r.dx*r.dy/t.value),l.area=0;s=a.pop();)l.push(s),l.area+=s.area,null!=s.z&&(i(l,s.z?r.dx:r.dy,r,!a.length),l.length=l.area=0);o.forEach(n)}}function o(e,t){for(var n,o=e.area,i=0,s=1/0,r=-1,a=e.length;++r<a;)(n=e[r].area)&&(s>n&&(s=n),n>i&&(i=n));return o*=o,t*=t,o?Math.max(t*i*m/o,o/(t*s*m)):1/0}function i(e,t,n,o){var i,s=-1,r=e.length,a=n.x,u=n.y,d=t?l(e.area/t):0;if(t==n.dx){for((o||d>n.dy)&&(d=n.dy);++s<r;)i=e[s],i.x=a,i.y=u,i.dy=d,a+=i.dx=Math.min(n.x+n.dx-a,d?l(i.area/d):0);i.z=!0,i.dx+=n.x+n.dx-a,n.y+=d,n.dy-=d}else{for((o||d>n.dx)&&(d=n.dx);++s<r;)i=e[s],i.x=a,i.y=u,i.dx=d,u+=i.dy=Math.min(n.y+n.dy-u,d?l(i.area/d):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=d,n.dx-=d}}function s(o){var i=r||a(o),s=i[0];return s.x=0,s.y=0,s.dx=u[0],s.dy=u[1],r&&a.revalue(s),e([s],s.dx*s.dy/s.value),(r?n:t)(s),g&&(r=i),i}var r,a=Ur.layout.hierarchy(),l=Math.round,u=[1,1],d=null,c=js,g=!1,h="squarify",m=.5*(1+Math.sqrt(5));return s.size=function(e){return arguments.length?(u=e,s):u},s.padding=function(e){function t(t){var n=e.call(s,t,t.depth);return null==n?js(t):Ds(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Ds(t,e)}if(!arguments.length)return d;var o;return c=null==(d=e)?js:"function"==(o=typeof e)?t:"number"===o?(e=[e,e,e,e],n):n,s},s.round=function(e){return arguments.length?(l=e?Math.round:Number,s):l!=Number},s.sticky=function(e){return arguments.length?(g=e,r=null,s):g},s.ratio=function(e){return arguments.length?(m=e,s):m},s.mode=function(e){return arguments.length?(h=e+"",s):h},Ui(s,a)},Ur.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,o,i;do n=2*Math.random()-1,o=2*Math.random()-1,i=n*n+o*o;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=Ur.random.normal.apply(Ur,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=Ur.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},Ur.scale={};var cu={floor:kt,ceil:kt};Ur.scale.linear=function(){return Fs([0,1],[0,1],hi,!1)};var gu={s:1,g:1,p:1,r:1,e:1};Ur.scale.log=function(){return Ys(Ur.scale.linear().domain([0,1]),10,!0,[1,10])};var hu=Ur.format(".0e"),mu={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};Ur.scale.pow=function(){return Zs(Ur.scale.linear(),1,[0,1])},Ur.scale.sqrt=function(){return Ur.scale.pow().exponent(.5)},Ur.scale.ordinal=function(){return Js([],{t:"range",a:[[]]})},Ur.scale.category10=function(){return Ur.scale.ordinal().range(pu)},Ur.scale.category20=function(){return Ur.scale.ordinal().range(_u)},Ur.scale.category20b=function(){return Ur.scale.ordinal().range(fu)},Ur.scale.category20c=function(){return Ur.scale.ordinal().range(vu)};var pu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(gt),_u=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(gt),fu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(gt),vu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(gt);Ur.scale.quantile=function(){return Qs([],[])},Ur.scale.quantize=function(){return er(0,1,[0,1])},Ur.scale.threshold=function(){return tr([.5],[0,1])},Ur.scale.identity=function(){return nr([0,1])},Ur.svg={},Ur.svg.arc=function(){function e(){var e=t.apply(this,arguments),s=n.apply(this,arguments),r=o.apply(this,arguments)+bu,a=i.apply(this,arguments)+bu,l=(r>a&&(l=r,r=a,a=l),a-r),u=Sa>l?"0":"1",d=Math.cos(r),c=Math.sin(r),g=Math.cos(a),h=Math.sin(a);return l>=yu?e?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+-s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+-s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":e?"M"+s*d+","+s*c+"A"+s+","+s+" 0 "+u+",1 "+s*g+","+s*h+"L"+e*g+","+e*h+"A"+e+","+e+" 0 "+u+",0 "+e*d+","+e*c+"Z":"M"+s*d+","+s*c+"A"+s+","+s+" 0 "+u+",1 "+s*g+","+s*h+"L0,0Z"}var t=or,n=ir,o=sr,i=rr;return e.innerRadius=function(n){return arguments.length?(t=wt(n),e):t},e.outerRadius=function(t){return arguments.length?(n=wt(t),e):n},e.startAngle=function(t){return arguments.length?(o=wt(t),e):o},e.endAngle=function(t){return arguments.length?(i=wt(t),e):i},e.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,s=(o.apply(this,arguments)+i.apply(this,arguments))/2+bu;return[Math.cos(s)*e,Math.sin(s)*e]},e};var bu=-Ma,yu=za-Ta;Ur.svg.line=function(){return ar(kt)};var wu=Ur.map({linear:lr,"linear-closed":ur,step:dr,"step-before":cr,"step-after":gr,basis:vr,"basis-open":br,"basis-closed":yr,bundle:wr,cardinal:pr,"cardinal-open":hr,"cardinal-closed":mr,monotone:Mr});wu.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var ku=[0,2/3,1/3,0],Cu=[0,1/3,2/3,0],xu=[0,1/6,2/3,1/6];Ur.svg.line.radial=function(){var e=ar(Tr);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},cr.reverse=gr,gr.reverse=cr,Ur.svg.area=function(){return Ar(kt)},Ur.svg.area.radial=function(){var e=Ar(Tr);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},Ur.svg.chord=function(){function e(e,a){var l=t(this,s,e,a),u=t(this,r,e,a);return"M"+l.p0+o(l.r,l.p1,l.a1-l.a0)+(n(l,u)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,u.r,u.p0)+o(u.r,u.p1,u.a1-u.a0)+i(u.r,u.p1,l.r,l.p0))+"Z"}function t(e,t,n,o){var i=t.call(e,n,o),s=a.call(e,i,o),r=l.call(e,i,o)+bu,d=u.call(e,i,o)+bu;return{r:s,a0:r,a1:d,p0:[s*Math.cos(r),s*Math.sin(r)],p1:[s*Math.cos(d),s*Math.sin(d)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function o(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Sa)+",1 "+t}function i(e,t,n,o){return"Q 0,0 "+o}var s=mo,r=po,a=Er,l=sr,u=rr;return e.radius=function(t){return arguments.length?(a=wt(t),e):a},e.source=function(t){return arguments.length?(s=wt(t),e):s},e.target=function(t){return arguments.length?(r=wt(t),e):r},e.startAngle=function(t){return arguments.length?(l=wt(t),e):l},e.endAngle=function(t){return arguments.length?(u=wt(t),e):u},e},Ur.svg.diagonal=function(){function e(e,i){var s=t.call(this,e,i),r=n.call(this,e,i),a=(s.y+r.y)/2,l=[s,{x:s.x,y:a},{x:r.x,y:a},r];return l=l.map(o),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=mo,n=po,o=Rr;return e.source=function(n){return arguments.length?(t=wt(n),e):t},e.target=function(t){return arguments.length?(n=wt(t),e):n},e.projection=function(t){return arguments.length?(o=t,e):o},e},Ur.svg.diagonal.radial=function(){var e=Ur.svg.diagonal(),t=Rr,n=e.projection;return e.projection=function(e){return arguments.length?n(Nr(t=e)):t},e},Ur.svg.symbol=function(){function e(e,o){return(Su.get(t.call(this,e,o))||Pr)(n.call(this,e,o))}var t=Dr,n=jr;return e.type=function(n){return arguments.length?(t=wt(n),e):t},e.size=function(t){return arguments.length?(n=wt(t),e):n},e};var Su=Ur.map({circle:Pr,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Au)),n=t*Au;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Tu),n=t*Tu/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Tu),n=t*Tu/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});Ur.svg.symbolTypes=Su.keys();var zu,Mu,Tu=Math.sqrt(3),Au=Math.tan(30*Ea),Eu=[],Ru=0;Eu.call=fa.call,Eu.empty=fa.empty,Eu.node=fa.node,Eu.size=fa.size,Ur.transition=function(e){return arguments.length?zu?e.transition():e:ya.transition()},Ur.transition.prototype=Eu,Eu.select=function(e){var t,n,o,i=this.id,s=[];e=y(e);for(var r=-1,a=this.length;++r<a;){s.push(t=[]);for(var l=this[r],u=-1,d=l.length;++u<d;)(o=l[u])&&(n=e.call(o,o.__data__,u,r))?("__data__"in o&&(n.__data__=o.__data__),Lr(n,u,i,o.__transition__[i]),t.push(n)):t.push(null)}return Or(s,i)},Eu.selectAll=function(e){var t,n,o,i,s,r=this.id,a=[];e=w(e);for(var l=-1,u=this.length;++l<u;)for(var d=this[l],c=-1,g=d.length;++c<g;)if(o=d[c]){s=o.__transition__[r],n=e.call(o,o.__data__,c,l),a.push(t=[]);for(var h=-1,m=n.length;++h<m;)(i=n[h])&&Lr(i,h,r,s),t.push(i)}return Or(a,r)},Eu.filter=function(e){var t,n,o,i=[];"function"!=typeof e&&(e=N(e));for(var s=0,r=this.length;r>s;s++){i.push(t=[]);for(var n=this[s],a=0,l=n.length;l>a;a++)(o=n[a])&&e.call(o,o.__data__,a,s)&&t.push(o)}return Or(i,this.id)},Eu.tween=function(e,t){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(e):D(this,null==t?function(t){t.__transition__[n].tween.remove(e)}:function(o){o.__transition__[n].tween.set(e,t)})},Eu.attr=function(e,t){function n(){this.removeAttribute(a)}function o(){this.removeAttributeNS(a.space,a.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(a);return n!==e&&(t=r(n,e),function(e){this.setAttribute(a,t(e))})})}function s(e){return null==e?o:(e+="",function(){var t,n=this.getAttributeNS(a.space,a.local);return n!==e&&(t=r(n,e),function(e){this.setAttributeNS(a.space,a.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var r="transform"==e?Oi:hi,a=Ur.ns.qualify(e);return Ir(this,"attr."+e,t,a.local?s:i)},Eu.attrTween=function(e,t){function n(e,n){var o=t.call(this,e,n,this.getAttribute(i));return o&&function(e){this.setAttribute(i,o(e))}}function o(e,n){var o=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return o&&function(e){this.setAttributeNS(i.space,i.local,o(e))}}var i=Ur.ns.qualify(e);return this.tween("attr."+e,i.local?o:n)},Eu.style=function(e,t,n){function o(){this.style.removeProperty(e)}function i(t){return null==t?o:(t+="",function(){var o,i=Jr.getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(o=hi(i,t),function(t){this.style.setProperty(e,o(t),n)})})}var s=arguments.length;if(3>s){if("string"!=typeof e){2>s&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Ir(this,"style."+e,t,i)},Eu.styleTween=function(e,t,n){function o(o,i){var s=t.call(this,o,i,Jr.getComputedStyle(this,null).getPropertyValue(e));return s&&function(t){this.style.setProperty(e,s(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,o)},Eu.text=function(e){return Ir(this,"text",e,$r)},Eu.remove=function(){return this.each("end.transition",function(){var e;this.__transition__.count<2&&(e=this.parentNode)&&e.removeChild(this)})},Eu.ease=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof e&&(e=Ur.ease.apply(Ur,arguments)),D(this,function(n){n.__transition__[t].ease=e}))},Eu.delay=function(e){var t=this.id;return D(this,"function"==typeof e?function(n,o,i){n.__transition__[t].delay=+e.call(n,n.__data__,o,i)}:(e=+e,function(n){n.__transition__[t].delay=e}))},Eu.duration=function(e){var t=this.id;return D(this,"function"==typeof e?function(n,o,i){n.__transition__[t].duration=Math.max(1,e.call(n,n.__data__,o,i))}:(e=Math.max(1,e),function(n){n.__transition__[t].duration=e}))},Eu.each=function(e,t){var n=this.id;if(arguments.length<2){var o=Mu,i=zu;zu=n,D(this,function(t,o,i){Mu=t.__transition__[n],e.call(t,t.__data__,o,i)}),Mu=o,zu=i}else D(this,function(o){var i=o.__transition__[n];(i.event||(i.event=Ur.dispatch("start","end"))).on(e,t)});return this},Eu.transition=function(){for(var e,t,n,o,i=this.id,s=++Ru,r=[],a=0,l=this.length;l>a;a++){r.push(e=[]);for(var t=this[a],u=0,d=t.length;d>u;u++)(n=t[u])&&(o=Object.create(n.__transition__[i]),o.delay+=o.duration,Lr(n,u,s,o)),e.push(n)}return Or(r,s)},Ur.svg.axis=function(){function e(e){e.each(function(){var e,u=Ur.select(this),d=this.__chart__||n,c=this.__chart__=n.copy(),g=null==l?c.ticks?c.ticks.apply(c,a):c.domain():l,h=null==t?c.tickFormat?c.tickFormat.apply(c,a):kt:t,m=u.selectAll(".tick").data(g,c),p=m.enter().insert("g",".domain").attr("class","tick").style("opacity",Ta),_=Ur.transition(m.exit()).style("opacity",Ta).remove(),f=Ur.transition(m).style("opacity",1),v=Os(c),b=u.selectAll(".domain").data([0]),y=(b.enter().append("path").attr("class","domain"),Ur.transition(b));p.append("line"),p.append("text");var w=p.select("line"),k=f.select("line"),C=m.select("text").text(h),x=p.select("text"),S=f.select("text");switch(o){case"bottom":e=Gr,w.attr("y2",i),x.attr("y",Math.max(i,0)+r),k.attr("x2",0).attr("y2",i),S.attr("x",0).attr("y",Math.max(i,0)+r),C.attr("dy",".71em").style("text-anchor","middle"),y.attr("d","M"+v[0]+","+s+"V0H"+v[1]+"V"+s);break;case"top":e=Gr,w.attr("y2",-i),x.attr("y",-(Math.max(i,0)+r)),k.attr("x2",0).attr("y2",-i),S.attr("x",0).attr("y",-(Math.max(i,0)+r)),C.attr("dy","0em").style("text-anchor","middle"),y.attr("d","M"+v[0]+","+-s+"V0H"+v[1]+"V"+-s);break;case"left":e=Fr,w.attr("x2",-i),x.attr("x",-(Math.max(i,0)+r)),k.attr("x2",-i).attr("y2",0),S.attr("x",-(Math.max(i,0)+r)).attr("y",0),C.attr("dy",".32em").style("text-anchor","end"),y.attr("d","M"+-s+","+v[0]+"H0V"+v[1]+"H"+-s);break;case"right":e=Fr,w.attr("x2",i),x.attr("x",Math.max(i,0)+r),k.attr("x2",i).attr("y2",0),S.attr("x",Math.max(i,0)+r).attr("y",0),C.attr("dy",".32em").style("text-anchor","start"),y.attr("d","M"+s+","+v[0]+"H0V"+v[1]+"H"+s)}if(c.rangeBand){var z=c,M=z.rangeBand()/2;d=c=function(e){return z(e)+M}}else d.rangeBand?d=c:_.call(e,c);p.call(e,d),f.call(e,c)})}var t,n=Ur.scale.linear(),o=Nu,i=6,s=6,r=3,a=[10],l=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(o=t in ju?t+"":Nu,e):o},e.ticks=function(){return arguments.length?(a=arguments,e):a},e.tickValues=function(t){return arguments.length?(l=t,e):l},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,s=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(s=+t,e):s},e.tickPadding=function(t){return arguments.length?(r=+t,e):r},e.tickSubdivide=function(){return arguments.length&&e},e};var Nu="bottom",ju={top:1,right:1,bottom:1,left:1};Ur.svg.brush=function(){function e(s){s.each(function(){var s=Ur.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),r=s.selectAll(".background").data([0]);r.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),s.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=s.selectAll(".resize").data(m,kt);a.exit().remove(),a.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Du[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",e.empty()?"none":null);var d,c=Ur.transition(s),g=Ur.transition(r);l&&(d=Os(l),g.attr("x",d[0]).attr("width",d[1]-d[0]),n(c)),u&&(d=Os(u),g.attr("y",d[0]).attr("height",d[1]-d[0]),o(c)),t(c)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+d[+/e$/.test(e)]+","+c[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",d[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function o(e){e.select(".extent").attr("y",c[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",c[1]-c[0])}function i(){function i(){32==Ur.event.keyCode&&(T||(b=null,E[0]-=d[1],E[1]-=c[1],T=2),_())}function m(){32==Ur.event.keyCode&&2==T&&(E[0]+=d[1],E[1]+=c[1],T=0,_())}function p(){var e=Ur.mouse(w),i=!1;y&&(e[0]+=y[0],e[1]+=y[1]),T||(Ur.event.altKey?(b||(b=[(d[0]+d[1])/2,(c[0]+c[1])/2]),E[0]=d[+(e[0]<b[0])],E[1]=c[+(e[1]<b[1])]):b=null),z&&f(e,l,0)&&(n(x),i=!0),M&&f(e,u,1)&&(o(x),i=!0),i&&(t(x),C({type:"brush",mode:T?"move":"resize"}))}function f(e,t,n){var o,i,a=Os(t),l=a[0],u=a[1],m=E[n],p=n?c:d,_=p[1]-p[0];return T&&(l-=m,u-=_+m),o=(n?h:g)?Math.max(l,Math.min(u,e[n])):e[n],T?i=(o+=m)+_:(b&&(m=Math.max(l,Math.min(u,2*b[n]-o))),o>m?(i=o,o=m):i=m),p[0]!=o||p[1]!=i?(n?r=null:s=null,p[0]=o,p[1]=i,!0):void 0}function v(){p(),x.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),Ur.select("body").style("cursor",null),R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),C({type:"brushend"})}var b,y,w=this,k=Ur.select(Ur.event.target),C=a.of(w,arguments),x=Ur.select(w),S=k.datum(),z=!/^(n|s)$/.test(S)&&l,M=!/^(e|w)$/.test(S)&&u,T=k.classed("extent"),A=F(),E=Ur.mouse(w),R=Ur.select(Jr).on("keydown.brush",i).on("keyup.brush",m);if(Ur.event.changedTouches?R.on("touchmove.brush",p).on("touchend.brush",v):R.on("mousemove.brush",p).on("mouseup.brush",v),x.interrupt().selectAll("*").interrupt(),T)E[0]=d[0]-E[0],E[1]=c[0]-E[1];else if(S){var N=+/w$/.test(S),j=+/^n/.test(S);y=[d[1-N]-E[0],c[1-j]-E[1]],E[0]=d[N],E[1]=c[j]}else Ur.event.altKey&&(b=E.slice());x.style("pointer-events","none").selectAll(".resize").style("display",null),Ur.select("body").style("cursor",k.style("cursor")),C({type:"brushstart"}),p()
}var s,r,a=v(e,"brushstart","brush","brushend"),l=null,u=null,d=[0,0],c=[0,0],g=!0,h=!0,m=Pu[0];return e.event=function(e){e.each(function(){var e=a.of(this,arguments),t={x:d,y:c,i:s,j:r},n=this.__chart__||t;this.__chart__=t,zu?Ur.select(this).transition().each("start.brush",function(){s=n.i,r=n.j,d=n.x,c=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=mi(d,t.x),o=mi(c,t.y);return s=r=null,function(i){d=t.x=n(i),c=t.y=o(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=t.i,r=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(l=t,m=Pu[!l<<1|!u],e):l},e.y=function(t){return arguments.length?(u=t,m=Pu[!l<<1|!u],e):u},e.clamp=function(t){return arguments.length?(l&&u?(g=!!t[0],h=!!t[1]):l?g=!!t:u&&(h=!!t),e):l&&u?[g,h]:l?g:u?h:null},e.extent=function(t){var n,o,i,a,g;return arguments.length?(l&&(n=t[0],o=t[1],u&&(n=n[0],o=o[0]),s=[n,o],l.invert&&(n=l(n),o=l(o)),n>o&&(g=n,n=o,o=g),(n!=d[0]||o!=d[1])&&(d=[n,o])),u&&(i=t[0],a=t[1],l&&(i=i[1],a=a[1]),r=[i,a],u.invert&&(i=u(i),a=u(a)),i>a&&(g=i,i=a,a=g),(i!=c[0]||a!=c[1])&&(c=[i,a])),e):(l&&(s?(n=s[0],o=s[1]):(n=d[0],o=d[1],l.invert&&(n=l.invert(n),o=l.invert(o)),n>o&&(g=n,n=o,o=g))),u&&(r?(i=r[0],a=r[1]):(i=c[0],a=c[1],u.invert&&(i=u.invert(i),a=u.invert(a)),i>a&&(g=i,i=a,a=g))),l&&u?[[n,i],[o,a]]:l?[n,o]:u&&[i,a])},e.clear=function(){return e.empty()||(d=[0,0],c=[0,0],s=r=null),e},e.empty=function(){return!!l&&d[0]==d[1]||!!u&&c[0]==c[1]},Ur.rebind(e,a,"on")};var Du={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Pu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ou=nl.format=ll.timeFormat,Iu=Ou.utc,$u=Iu("%Y-%m-%dT%H:%M:%S.%LZ");Ou.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?qr:$u,qr.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},qr.toString=$u.toString,nl.second=Dt(function(e){return new ol(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),nl.seconds=nl.second.range,nl.seconds.utc=nl.second.utc.range,nl.minute=Dt(function(e){return new ol(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),nl.minutes=nl.minute.range,nl.minutes.utc=nl.minute.utc.range,nl.hour=Dt(function(e){var t=e.getTimezoneOffset()/60;return new ol(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),nl.hours=nl.hour.range,nl.hours.utc=nl.hour.utc.range,nl.month=Dt(function(e){return e=nl.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),nl.months=nl.month.range,nl.months.utc=nl.month.utc.range;var Lu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Gu=[[nl.second,1],[nl.second,5],[nl.second,15],[nl.second,30],[nl.minute,1],[nl.minute,5],[nl.minute,15],[nl.minute,30],[nl.hour,1],[nl.hour,3],[nl.hour,6],[nl.hour,12],[nl.day,1],[nl.day,2],[nl.week,1],[nl.month,1],[nl.month,3],[nl.year,1]],Fu=Ou.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Cn]]),qu={range:function(e,t,n){return Ur.range(+e,+t,n).map(Vr)},floor:kt,ceil:kt};Gu.year=nl.year,nl.scale=function(){return Hr(Ur.scale.linear(),Gu,Fu)};var Hu=Gu.map(function(e){return[e[0].utc,e[1]]}),Vu=Iu.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Cn]]);Hu.year=nl.year.utc,nl.scale.utc=function(){return Hr(Ur.scale.linear(),Hu,Vu)},Ur.text=Ct(function(e){return e.responseText}),Ur.json=function(e,t){return xt(e,"application/json",Wr,t)},Ur.html=function(e,t){return xt(e,"text/html",Br,t)},Ur.xml=Ct(function(e){return e.responseXML}),"function"==typeof define&&define.amd?define("vendor/d3.v3",Ur):"object"==typeof module&&module.exports?module.exports=Ur:this.d3=Ur}(),define("translations/gradebook2.outcome_popover",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{outcome_popover:{mastery_set_at:"الإتقان عند",no_results:"(بلا نتائج)",view_more_details:"عرض مزيد من التفاصيل"}}},de:{gradebook2:{outcome_popover:{mastery_set_at:"Leistungsziel festgelegt auf",no_results:"(keine Ergebnisse)",view_more_details:"Weitere Details anzeigen"}}},"en-AU":{gradebook2:{outcome_popover:{mastery_set_at:"Mastery set at",no_results:"(no results)",view_more_details:"view more details"}}},"en-GB":{gradebook2:{outcome_popover:{mastery_set_at:"Mastery set at",no_results:"(no results)",view_more_details:"view more details"}}},es:{gradebook2:{outcome_popover:{mastery_set_at:"Dominio establecido en",no_results:"(sin resultados)",view_more_details:"ver más detalles"}}},"fa-IR":{gradebook2:{outcome_popover:{mastery_set_at:"تسلط تعیین شده در",no_results:"(نتیجه موجود نیست)",view_more_details:"مشاهده اطلاعات بیشتر"}}},fr:{gradebook2:{outcome_popover:{mastery_set_at:"Niveau de maîtrise",no_results:"(pas de résultats)",view_more_details:"voir plus de détails"}}},ja:{gradebook2:{outcome_popover:{mastery_set_at:"達成の設定:",no_results:"(結果なし)",view_more_details:"詳細を表示"}}},nb:{gradebook2:{outcome_popover:{mastery_set_at:"Mestring satt ved",no_results:"(ingen resultater)",view_more_details:"vis flere detaljer"}}},nl:{gradebook2:{outcome_popover:{mastery_set_at:"Bekwaam vastgesteld op",no_results:"(geen resultaten)",view_more_details:"meer details bekijken"}}},pl:{gradebook2:{outcome_popover:{mastery_set_at:"Biegłość ustawiono na",no_results:"(brak wyników)",view_more_details:"pokaż więcej informacji szczegółowych"}}},pt:{gradebook2:{outcome_popover:{mastery_set_at:"Domínio definido em",no_results:"(nenhum resultado)",view_more_details:"ver mais detalhes"}}},"pt-BR":{gradebook2:{outcome_popover:{mastery_set_at:"Domínio definido em",no_results:"(sem resultados)",view_more_details:"ver mais detalhes"}}},ru:{gradebook2:{outcome_popover:{mastery_set_at:"Усвоение установлено на",no_results:"(без результата)",view_more_details:"просмотреть дополнительные сведения"}}},tr:{gradebook2:{outcome_popover:{mastery_set_at:"Yeterlik düzeyi şuna ayarlı",no_results:"(sonuç yok)",view_more_details:"daha fazla ayrıntı göster"}}},zh:{gradebook2:{outcome_popover:{mastery_set_at:"掌握程度设置为",no_results:"(无结果)",view_more_details:"查看更多详细信息"}}},zh_Hant:{gradebook2:{outcome_popover:{mastery_set_at:"精通設定於",no_results:"（沒有結果）",view_more_details:"檢視更多詳細資料"}}}}})}),define("jst/gradebook2/outcome_popover",["compiled/handlebars_helpers","i18n!gradebook2.outcome_popover"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/outcome_popover"]=t(function(e,t,n,o,i){function s(e,t){var o,i="";return i+='\n      <div class="chart-image"></div>\n      <ol class="ratings">\n      ',o=n.each.call(e,e&&e.ratings,{hash:{},inverse:m.noop,fn:m.program(2,r,t),data:t}),(o||0===o)&&(i+=o),i+="\n      </ol>\n    "}function r(e,t){var o,i,s="";return s+='\n        <li class="rating"><span class="legend-color" style="background-color: ',(i=n.color)?o=i.call(e,{hash:{},data:t}):(i=e&&e.color,o=typeof i===g?i.call(e,{hash:{},data:t}):i),s+=h(o)+'" /> ',(i=n.description)?o=i.call(e,{hash:{},data:t}):(i=e&&e.description,o=typeof i===g?i.call(e,{hash:{},data:t}):i),s+=h(o)+"</li>\n      "}function a(e,t){var o,i,s,r="";return r+='\n      <p><img src="/images/pie-chart-disabled.png" /></p>\n      <p>',i=n.t||e&&e.t,s={hash:{scope:"gradebook2.outcome_popover"},data:t},o=i?i.call(e,"no_results","(no results)",s):p.call(e,"t","no_results","(no results)",s),(o||0===o)&&(r+=o),r+="</p>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var l,u,d,c="",g="function",h=this.escapeExpression,m=this,p=n.helperMissing;return c+='<div class="outcome-details carat-bottom">\n  <div class="title">',(u=n.path)?l=u.call(t,{hash:{},data:i}):(u=t&&t.path,l=typeof u===g?u.call(t,{hash:{},data:i}):u),c+=h(l)+'</div>\n  <div class="chart">\n    ',l=n["if"].call(t,(l=t&&t.ratings,null==l||l===!1?l:l.result_count),{hash:{},inverse:m.program(4,a,i),fn:m.program(1,s,i),data:i}),(l||0===l)&&(c+=l),c+='\n  </div>\n  <div class="mastery">',u=n.t||t&&t.t,d={hash:{scope:"gradebook2.outcome_popover"},data:i},l=u?u.call(t,"mastery_set_at","Mastery set at",d):p.call(t,"t","mastery_set_at","Mastery set at",d),(l||0===l)&&(c+=l),c+=": ",(u=n.mastery_points)?l=u.call(t,{hash:{},data:i}):(u=t&&t.mastery_points,l=typeof u===g?u.call(t,{hash:{},data:i}):u),c+=h(l)+'</div>\n  <div class="description">',(u=n.description)?l=u.call(t,{hash:{},data:i}):(u=t&&t.description,l=typeof u===g?u.call(t,{hash:{},data:i}):u),(l||0===l)&&(c+=l),c+='</div>\n  <div class="view-more"><a href="',(u=n.url)?l=u.call(t,{hash:{},data:i}):(u=t&&t.url,l=typeof u===g?u.call(t,{hash:{},data:i}):u),c+=h(l)+'">',u=n.t||t&&t.t,d={hash:{scope:"gradebook2.outcome_popover"},data:i},l=u?u.call(t,"view_more_details","view more details",d):p.call(t,"t","view_more_details","view more details",d),(l||0===l)&&(c+=l),c+="</a></div>\n</div>\n"}),n["gradebook2/outcome_popover"]}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("compiled/views/gradebook/OutcomeColumnView",["i18n!gradebook2","underscore","Backbone","compiled/util/Popover","vendor/d3.v3","jst/gradebook2/outcome_popover"],function(t,o,i,s,r,a){var l,u,d;return u=i.View,l=function(t){function i(){return this.mouseleave=e(this.mouseleave,this),this.mouseenter=e(this.mouseenter,this),d=i.__super__.constructor.apply(this,arguments)}return n(i,t),i.prototype.popover_template=a,i.optionProperty("totalsFn"),i.prototype.inside=!1,i.prototype.TIMEOUT_LENGTH=50,i.prototype.events={mouseenter:"mouseenter",mouseleave:"mouseleave"},i.prototype.createPopover=function(e){var t;return this.totalsFn(),this.pickColors(),t=new s(e,this.popover_template(this.attributes),{verticalSide:"bottom"}),t.el.on("mouseenter",this.mouseenter),t.el.on("mouseleave",this.mouseleave),this.renderChart(),t.show(e),t},i.prototype.mouseenter=function(e){return this.popover||(this.popover=this.createPopover(e)),this.inside=!0},i.prototype.mouseleave=function(){var e=this;return this.inside=!1,setTimeout(function(){return!e.inside&&e.popover?(e.popover.hide(),delete e.popover):void 0},this.TIMEOUT_LENGTH)},i.prototype.pickColors=function(){var e,t,n,i,s;return t=this.attributes.ratings,n=t.length-1,i=this.attributes.mastery_points,s=t.indexOf(o.find(t,function(e){return e.points===i})),e=r.scale.linear().domain([0,s,(s+n)/2,n]).range(["#416929","#8bab58","#e0d670","#dd5c5c"]),o.each(t,function(t,n){return t.color=e(n)})},i.prototype.renderChart=function(){return this.data=o.filter(this.attributes.ratings,function(e){return e.percent}),this.r=50,this.arc=r.svg.arc().outerRadius(this.r),this.arcs=this.renderArcs(),this.renderArcFills(),this.renderLabels(),this.renderLabelLines()},i.prototype.renderArcs=function(){var e,t,n,o,i;return i=160,t=150,o=r.select(".outcome-details .chart-image").append("svg:svg").data([this.data]).attr("width",i).attr("height",t).append("svg:g").attr("transform","translate("+i/2+", "+t/2+")"),n=r.layout.pie().value(function(e){return e.percent}),e=o.selectAll("g.slice").data(n).enter().append("svg:g").attr("class","slice")},i.prototype.renderArcFills=function(){var e,t,n,o,i=this;return t=10,n=r.interpolate(t,this.r),e=this.arc,o=function(t){return function(o){return e.outerRadius(n(o))(t)}},this.arc.outerRadius(t),this.arcs.append("svg:path").attr("fill",function(e,t){return i.data[t].color}).attr("d",this.arc).transition().duration(400).attrTween("d",o),this.arc.outerRadius(this.r)},i.prototype.renderLabels=function(){var e=this;return this.arcs.append("svg:text").attr("fill","#4F5F6E").attr("transform",function(t){var n;return n=e.getCentroid(t),n=o.map(n,function(e){return 2.3*e}),"translate("+n+")"}).attr("text-anchor",function(t){var n,o,i;return i=e.getAngleInfo(t),n=i.angle,o=i.distanceToPi,o<Math.PI/6?"middle":n>Math.PI?"end":"start"}).attr("dominant-baseline",function(t){var n,o,i,s;return s=e.getAngleInfo(t,i=!0),n=s.angle,o=s.distanceToPi,o<Math.PI/6?"middle":n>Math.PI?"hanging":"auto"}).text(function(t,n){return e.data[n].percent+"%"})},i.prototype.getAngleInfo=function(e,t){var n,o;return n=(e.endAngle+e.startAngle)/2,t&&(n=(n+Math.PI/2)%(2*Math.PI)),o=Math.abs((n+Math.PI/2)%Math.PI-Math.PI/2),{angle:n,distanceToPi:o}},i.prototype.renderLabelLines=function(){var e=this;return this.arcs.append("svg:path").attr("stroke","#000").attr("d",function(t){var n,i,s;return n=e.getCentroid(t),i=o.map(n,function(e){return 1.4*e}),s=o.map(n,function(e){return 2.2*e}),"M"+i[0]+" "+i[1]+" L"+s[0]+" "+s[1]})},i.prototype.getCentroid=function(e){return e.innerRadius=0,e.outerRadius=this.r,this.arc.centroid(e)},i}(u)})}.call(this),define("jst/gradebook2/outcome_gradebook_cell",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/outcome_gradebook_cell"]=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r,a="",l="function",u=this.escapeExpression;return a+='<div class="outcome-cell-wrapper">\n  <span class="outcome-score">',(r=n.score)?s=r.call(t,{hash:{},data:i}):(r=t&&t.score,s=typeof r===l?r.call(t,{hash:{},data:i}):r),a+=u(s)+"</span> /",(r=n.masteryScore)?s=r.call(t,{hash:{},data:i}):(r=t&&t.masteryScore,s=typeof r===l?r.call(t,{hash:{},data:i}):r),a+=u(s)+'\n  <span class="outcome-result ',(r=n.className)?s=r.call(t,{hash:{},data:i}):(r=t&&t.className,s=typeof r===l?r.call(t,{hash:{},data:i}):r),a+=u(s)+'"></span>\n</div>\n'}),n["gradebook2/outcome_gradebook_cell"]}),define("jst/gradebook2/outcome_gradebook_student_cell",["compiled/handlebars_helpers","jst/_avatar"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/outcome_gradebook_student_cell"]=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=this.merge(o,e.partials),i=i||{};var s,r,a="",l=this,u="function",d=this.escapeExpression;return a+='<div class="outcome-student-cell-content">\n  ',s=l.invokePartial(o.avatar,"avatar",t,n,o,i),(s||0===s)&&(a+=s),a+='\n  <a class="student-grades-list" href="',(r=n.grades_html_url)?s=r.call(t,{hash:{},data:i}):(r=t&&t.grades_html_url,s=typeof r===u?r.call(t,{hash:{},data:i}):r),a+=d(s)+'">',(r=n.display_name)?s=r.call(t,{hash:{},data:i}):(r=t&&t.display_name,s=typeof r===u?r.call(t,{hash:{},data:i}):r),a+=d(s)+'</a>\n  <div class="student-section">'+d((s=t&&t.section,s=null==s||s===!1?s:s.name,typeof s===u?s.apply(t):s))+"</div>\n</div>\n"}),n["gradebook2/outcome_gradebook_student_cell"]}),function(){define("compiled/gradebook2/OutcomeGradebookGrid",["i18n!gradebook2","jquery","underscore","compiled/views/gradebook/HeaderFilterView","compiled/views/gradebook/OutcomeColumnView","compiled/util/NumberCompare","jst/gradebook2/outcome_gradebook_cell","jst/gradebook2/outcome_gradebook_student_cell"],function(e,t,n,o,i,s,r,a){var l;return l={filter:["mastery","near-mastery","remedial"],averageFn:"mean",dataSource:{},outcomes:[],options:{headerRowHeight:42,rowHeight:38,syncColumnCellResize:!0,showHeaderRow:!0,explicitInitialization:!0,fullWidthRows:!0,numberOfColumnsToFreeze:1},Events:{headerRowCellRendered:function(e,t){return l.View.headerRowCell(t)},headerCellRendered:function(e,t){return l.View.headerCell(t)},init:function(){var e,o;return o=t(".outcome-gradebook-wrapper .slick-header"),e=t(".outcome-gradebook-wrapper .slick-headerrow"),n.each(n.zip(o,e),function(e){var n,o;return n=e[0],o=e[1],t(o).insertBefore(t(n))})},sectionChangeFunction:function(e){return function(t){var n;return n=l.Util.toRows(l.dataSource.rollups,{section:t}),e.setData(n,!1),l.View.redrawHeader(e),e.invalidate()}},sort:function(e,t){var n,o,i,s,r;return n=t.grid,i=t.sortAsc,s=t.sortCol,r="student"===s.field?"_sortStudents":"_sortResults",o=n.getData().sort(function(e,t){return l.Events[r].call(null,e,t,i,s.field)}),n.setData(o),n.invalidate()},_sortStudents:function(e,t,n){var o,i,s,r;return"".localeCompare?(s=e.student.sortable_name,r=t.student.sortable_name,i=n?1:-1,s.localeCompare(r,window.I18n.locale||"en",{sensitivity:"accent",ignorePunctuation:!0,numeric:!0})*i):(s=e.student.sortable_name.toLowerCase(),r=t.student.sortable_name.toLowerCase(),o=n?1:-1,r>s?-1*o:s>r?1*o:0)},_sortResults:function(e,t,n,o){var i,r,a;return i=e[o],r=t[o],a=s(i,r,{descending:!n}),0===a?l.Events._sortStudents(e,t,n):a}},Util:{COLUMN_OPTIONS:{width:121,minWidth:50,sortable:!0},toGrid:function(e,t){return null==t&&(t={column:{},row:{}}),l.dataSource=e,[l.Util.toColumns(e.linked.outcomes,t.column),l.Util.toRows(e.rollups,t.row)]},toColumns:function(e,t){var o;return null==t&&(t={}),t=n.extend({},l.Util.COLUMN_OPTIONS,t),o=n.map(e,function(e){return n.extend({id:"outcome_"+e.id},{name:n.escape(e.title),field:"outcome_"+e.id,cssClass:"outcome-result-cell",outcome:e},t)}),[l.Util._studentColumn()].concat(o)},_studentColumn:function(){var t;return t={width:228},n.extend({id:"student",name:e.t("learning_outcome","Learning Outcome"),field:"student",cssClass:"outcome-student-cell",headerCssClass:"outcome-student-header-cell",formatter:l.View.studentCell},n.extend(l.Util.COLUMN_OPTIONS,t))},toRows:function(e,t){var o;return null==t&&(t={}),o=n.reject(n.map(e,l.Util._toRowFn(t.section)),function(e){return null===e}),o.sort(function(e,t){return l.Events._sortStudents(e,t,!0)})},_toRowFn:function(e){return function(t){return l.Util._toRow(t,e)}},_toRow:function(e,t){var o,i;return l.Util.sectionFilter(t,e)?(i=l.Util.lookupStudent(e.links.user),t=l.Util.lookupSection(e.links.section),o={student:n.extend({grades_html_url:"/courses/"+t.course_id+"/grades/"+i.id+"#tab-outcomes",section:n.keys(l.sections).length>1?t:null},i),section:e.links.section},n.each(e.scores,function(e){return o["outcome_"+e.links.outcome]=e.score}),o):null},sectionFilter:function(e,t){return e?n.isEqual(e.toString(),t.links.section.toString()):!0},saveOutcomes:function(e){var t,o,i,s;return s=ENV.context_asset_string.split("_"),o=s[0],t=s[1],i="/"+o+"s/"+t+"/outcomes",l.outcomes=n.reduce(e,function(e,t){return t.url=i,e["outcome_"+t.id]=t,e},{})},saveOutcomePaths:function(e){return e.forEach(function(e){var t;return t=n.pluck(e.parts,"name").join(" > "),l.outcomes["outcome_"+e.id].path=t})},lookupOutcome:function(e){return l.outcomes[e]},saveStudents:function(e){return l.students=n.reduce(e,function(e,t){return e[t.id]=t,e},{})},lookupStudent:function(e){return l.students[e]},saveSections:function(e){return l.sections=n.reduce(e,function(e,t){return e[t.id]=t,e},{})},lookupSection:function(e){return l.sections[e]}},Math:{mean:function(e,t){var o;return null==t&&(t=!1),o=n.reduce(e,function(e,t){return e+t},0),t?Math.round(o/e.length):parseFloat((o/e.length).toString().slice(0,4))},median:function(e){var t,o;return o=n.sortBy(e,n.identity),e.length%2===0?(t=e.length/2,l.Math.mean(o.slice(t-1,t+1))):o[Math.floor(e.length/2)]},mode:function(e){var t,o,i;return t=n.chain(e).countBy(n.identity).reduce(function(e,t,n){return e.push([t,parseInt(n)]),e},[]).sortBy(n.first).reverse().value(),o=t[0][0],i=n.reject(t,function(e){return e[0]<o}),i=l.Math.mean(n.map(i,n.last),!0)},max:function(e){return Math.max.apply(Math,e)},min:function(e){return Math.min.apply(Math,e)},cnt:function(e){return e.length}},View:{cell:function(e,t,n,o){return l.View.cellHtml(n,o,!0)},cellHtml:function(e,t,o){var i,s;return s=l.Util.lookupOutcome(t.field),s&&n.isNumber(e)?(i=l.View.masteryClassName(e,s),o&&!n.include(l.filter,i)?"":r({score:Math.round(100*e)/100,className:i,masteryScore:s.mastery_points})):void 0},studentCell:function(e,t,n){return a(n)},masteryClassName:function(e,t){var n,o;return n=t.mastery_points,o=n/2,e>=n?"mastery":e>=o?"near-mastery":"remedial"},getColumnResults:function(e,t){return n.chain(e).pluck(t.field).filter(n.isNumber).value()},headerRowCell:function(e,n){var o,i,s,r,a;return s=e.node,o=e.column,i=e.grid,null==n&&(n=l.averageFn),"student"===o.field?l.View.studentHeaderRowCell(s,o,i):(r=l.View.getColumnResults(i.getData(),o),r.length?(a=l.Math[n].call(this,r),t(s).empty().append(l.View.cellHtml(a,o,!1))):t(s).empty())},redrawHeader:function(e,t){var o;return null==t&&(t=l.averageFn),l.averageFn=t,o=e.getColumns(),n.each(o,function(n){var o;return o=e.getHeaderRowColumn(n.id),l.View.headerRowCell({node:o,column:n,grid:e},t)})},studentHeaderRowCell:function(e,n,i){var s;return t(e).addClass("average-filter"),s=new o({grid:i,redrawFn:l.View.redrawHeader}),s.render(),t(e).append(s.$el)},headerCell:function(e,t){var o,s,r,a,u;return r=e.node,o=e.column,s=e.grid,null==t&&(t=l.averageFn),"student"!==o.field?(a=n.partial(l.View.calculateRatingsTotals,s,o),u=new i({el:r,attributes:o.outcome,totalsFn:a}),u.render()):void 0},calculateRatingsTotals:function(e,t){var o,i,s,r;return r=l.View.getColumnResults(e.getData(),t),s=t.outcome.ratings,s.result_count=r.length,i=n.pluck(s,"points"),o=n.countBy(r,function(e){return n.find(i,function(t){return e>=t})}),n.each(s,function(e){return e.percent=Math.round((o[e.points]||0)/r.length*100)})}}}})}.call(this),define("jst/gradebook2/checkbox_view",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/checkbox_view"]=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r,a="",l="function",u=this.escapeExpression;return a+='<span class="checkbox"\n      role="checkbox"\n      aria-checked="',(r=n.checked)?s=r.call(t,{hash:{},data:i}):(r=t&&t.checked,s=typeof r===l?r.call(t,{hash:{},data:i}):r),a+=u(s)+'"\n      style="background: ',(r=n.color)?s=r.call(t,{hash:{},data:i}):(r=t&&t.color,s=typeof r===l?r.call(t,{hash:{},data:i}):r),a+=u(s)+';"></span>\n<span class="checkbox-label">',(r=n.label)?s=r.call(t,{hash:{},data:i}):(r=t&&t.label,s=typeof r===l?r.call(t,{hash:{},data:i}):r),a+=u(s)+"</span>\n"}),n["gradebook2/checkbox_view"]}),function(){var e={}.hasOwnProperty,t=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("compiled/views/gradebook/CheckboxView",["Backbone","jst/gradebook2/checkbox_view"],function(e,n){var o,i,s;return i=e.View,o=function(e){function o(){return s=o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.tagName="label",o.prototype.className="checkbox-view",o.optionProperty("color"),o.optionProperty("label"),o.prototype.checked=!0,o.prototype.template=n,o.prototype.events={click:"onClick"},o.prototype.onClick=function(e){return e.preventDefault(),this.toggleState()},o.prototype.toggleState=function(){return this.checked=!this.checked,this.trigger("togglestate",this.checked),this.render()},o.prototype.toJSON=function(){var e;return e={checked:this.checked.toString(),color:this.checked?this.options.color:"none",label:this.options.label}},o}(i)})}.call(this),define("translations/gradebook2.outcome_gradebook",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{outcome_gradebook:{export_report:"تصدير التقرير",toggle_sidebar:"تبديل الشريط الجانبي"}}},de:{gradebook2:{outcome_gradebook:{export_report:"Bericht exportieren",toggle_sidebar:"Seitenleiste ein/aus"}}},"en-AU":{gradebook2:{outcome_gradebook:{export_report:"export report",toggle_sidebar:"Toggle Sidebar"}}},"en-GB":{gradebook2:{outcome_gradebook:{export_report:"export report",toggle_sidebar:"Toggle Sidebar"}}},es:{gradebook2:{outcome_gradebook:{export_report:"exportar informe",toggle_sidebar:"Mostrar/ocultar barra lateral"}}},"fa-IR":{gradebook2:{outcome_gradebook:{export_report:"گزارش صدور",toggle_sidebar:"تغییر نوار کناری"}}},fr:{gradebook2:{outcome_gradebook:{export_report:"Exporter le rapport",toggle_sidebar:"Afficher/Masquer la barre latérale"}}},ja:{gradebook2:{outcome_gradebook:{export_report:"レポートのエクスポート",toggle_sidebar:"サイドバーの切り替え"}}},nb:{gradebook2:{outcome_gradebook:{export_report:"eksporter rapport",toggle_sidebar:"Vis/skjul sidestolpe"}}},nl:{gradebook2:{outcome_gradebook:{export_report:"rapport exporteren",toggle_sidebar:"Zijbalk in-/uitschakelen"}}},pl:{gradebook2:{outcome_gradebook:{export_report:"eksportuj raport",toggle_sidebar:"Przełącz pasek boczny"}}},pt:{gradebook2:{outcome_gradebook:{export_report:"exportar relatório",toggle_sidebar:"Alternar barra lateral"}}},"pt-BR":{gradebook2:{outcome_gradebook:{export_report:"exportar relatório",toggle_sidebar:"Ligar barra lateral"}}},ru:{gradebook2:{outcome_gradebook:{export_report:"экспортировать отчет",toggle_sidebar:"Переключить боковую панель"}}},tr:{gradebook2:{outcome_gradebook:{export_report:"raporu dışa aktar",toggle_sidebar:"Kenar Çubuğa Geçiş"}}},zh:{gradebook2:{outcome_gradebook:{export_report:"导出报告",toggle_sidebar:"切换侧栏"}}},zh_Hant:{gradebook2:{outcome_gradebook:{export_report:"匯出報告",toggle_sidebar:"切換側邊欄"}}}}})}),define("jst/gradebook2/outcome_gradebook",["compiled/handlebars_helpers","i18n!gradebook2.outcome_gradebook"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/outcome_gradebook"]=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r,a,l="",u=n.helperMissing,d=this.escapeExpression;return l+='<div class="outcome-gradebook-sidebar">\n  <div class="outcome-gradebook-sidebar-header">\n    <a href="#" class="icon-arrow-open-right sidebar-toggle">\n      <span class="screenreader-only">',r=n.t||t&&t.t,a={hash:{scope:"gradebook2.outcome_gradebook"},data:i},s=r?r.call(t,"toggle_sidebar","Toggle Sidebar",a):u.call(t,"t","toggle_sidebar","Toggle Sidebar",a),(s||0===s)&&(l+=s),l+='</span>\n    </a>\n  </div>\n\n  <div class="outcome-gradebook-sidebar-content">\n    <ul class="checkboxes unstyled">\n      <li>'+d((r=n.view||t&&t.view,a={hash:{},data:i},r?r.call(t,t&&t.mastery,a):u.call(t,"view",t&&t.mastery,a)))+"</li>\n      <li>"+d((r=n.view||t&&t.view,a={hash:{},data:i},r?r.call(t,t&&t["near-mastery"],a):u.call(t,"view",t&&t["near-mastery"],a)))+"</li>\n      <li>"+d((r=n.view||t&&t.view,a={hash:{},data:i},r?r.call(t,t&&t.remedial,a):u.call(t,"view",t&&t.remedial,a)))+'</li>\n    </ul>\n    <ul class="operations unstyled">\n      <li><a href="#" class="export-content icon-export-content"><span class="operation-label">',r=n.t||t&&t.t,a={hash:{scope:"gradebook2.outcome_gradebook"},data:i},s=r?r.call(t,"export_report","export report",a):u.call(t,"t","export_report","export report",a),(s||0===s)&&(l+=s),l+='</span></a></li>\n    </ul>\n  </div>\n</div>\n\n<div class="outcome-gradebook-wrapper"></div>\n'}),n["gradebook2/outcome_gradebook"]}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("compiled/views/gradebook/OutcomeGradebookView",["i18n!gradebook2","jquery","underscore","Backbone","vendor/slickgrid","compiled/gradebook2/OutcomeGradebookGrid","compiled/views/gradebook/CheckboxView","compiled/views/gradebook/SectionMenuView","jst/gradebook2/outcome_gradebook","vendor/jquery.ba-tinypubsub","jquery.instructure_misc_plugins"],function(t,o,i,s,r,a,l,u,d){var c,g,h;return h=s.View,c={mastery:{color:"#8bab58",label:t.t("mastery","mastery")},nearMastery:{color:"#e0d679",label:t.t("near_mastery","near mastery")},remedial:{color:"#dd5c5c",label:t.t("remedial","remedial")}},g=function(t){function s(t){this.updateExportLink=e(this.updateExportLink,this),this._drawSectionMenu=e(this._drawSectionMenu,this),this._loadOutcomes=e(this._loadOutcomes,this),this.renderGrid=e(this.renderGrid,this),s.__super__.constructor.apply(this,arguments),this._validateOptions(t)}return n(s,t),s.prototype.tagName="div",s.prototype.className="outcome-gradebook-container",s.prototype.template=d,s.optionProperty("gradebook"),s.prototype.hasOutcomes=o.Deferred(),s.prototype.checkboxes={mastery:new l(c.mastery),"near-mastery":new l(c.nearMastery),remedial:new l(c.remedial)},s.prototype.events={"click .sidebar-toggle":"onSidebarToggle"},s.prototype.onSidebarToggle=function(e){var t;return e.preventDefault(),t=this._toggleSidebarCollapse(),this._toggleSidebarArrow(),this._toggleSidebarTooltips(t)},s.prototype._toggleSidebarCollapse=function(){return this.$(".outcome-gradebook-sidebar").toggleClass("collapsed").hasClass("collapsed")},s.prototype._toggleSidebarArrow=function(){return this.$(".sidebar-toggle").toggleClass("icon-arrow-open-right").toggleClass("icon-arrow-open-left")},s.prototype._toggleSidebarTooltips=function(e){return e?this.$(".checkbox-view").each(function(){return o(this).find(".checkbox").attr("data-tooltip","left").attr("title",o(this).find(".checkbox-label").text())}):this.$(".checkbox").removeAttr("data-tooltip").removeAttr("title")},s.prototype._validateOptions=function(e){var t;if(t=e.gradebook,!t)throw new Error('Missing required option: "gradebook"')},s.prototype._attachEvents=function(){var e,t,n;n=this.checkboxes;for(e in n)t=n[e],t.on("togglestate",this._createFilter(e));return o.subscribe("currentSection/change",a.Events.sectionChangeFunction(this.grid)),o.subscribe("currentSection/change",this.updateExportLink),this.updateExportLink(this.gradebook.sectionToShow)},s.prototype._attachGridEvents=function(){return this.grid.onHeaderRowCellRendered.subscribe(a.Events.headerRowCellRendered),this.grid.onHeaderCellRendered.subscribe(a.Events.headerCellRendered),this.grid.onSort.subscribe(a.Events.sort)},s.prototype.toJSON=function(){return i.extend({},this.checkboxes)},s.prototype.render=function(){var e=this;return o.when(this.gradebook.hasSections).then(function(){return s.__super__.render.apply(e,arguments)}).then(this._drawSectionMenu),o.when(this.hasOutcomes).then(this.renderGrid),this},s.prototype.renderGrid=function(e){var t,n,o;return a.Util.saveOutcomes(e.linked.outcomes),a.Util.saveStudents(e.linked.users),a.Util.saveOutcomePaths(e.linked.outcome_paths),a.Util.saveSections(this.gradebook.sections),o=a.Util.toGrid(e,{column:{formatter:a.View.cell},row:{section:this.menu.currentSection}}),t=o[0],n=o[1],this.grid=new r.Grid(".outcome-gradebook-wrapper",n,t,a.options),this._attachGridEvents(),this.grid.init(),a.Events.init(this.grid),this._attachEvents()},s.prototype.isLoaded=!1,s.prototype.onShow=function(){var e=this;return this.isLoaded||this.loadOutcomes(),this.isLoaded=!0,this.$el.fillWindowWithMe({onResize:function(){return e.grid?e.grid.resizeCanvas():void 0}})},s.prototype.loadOutcomes=function(){return o.when(this.gradebook.hasSections).then(this._loadOutcomes)},s.prototype._loadOutcomes=function(){var e;return e=ENV.context_asset_string.split("_")[1],this.$(".outcome-gradebook-wrapper").disableWhileLoading(this.hasOutcomes),this._loadPage("/api/v1/courses/"+e+"/outcome_rollups?per_page=100&include[]=outcomes&include[]=users&include[]=outcome_paths")},s.prototype._loadPage=function(e,t){var n,i=this;return n=o.getJSON(e),n.then(function(e){return t=i._mergeResponses(t,e),e.meta.pagination.next?i._loadPage(e.meta.pagination.next,t):i.hasOutcomes.resolve(t)})},s.prototype._mergeResponses=function(e,t){var n;
return e?(n={},n.meta=i.extend({},e.meta,t.meta),n.linked={outcomes:e.linked.outcomes,outcome_paths:e.linked.outcome_paths,users:e.linked.users.concat(t.linked.users)},n.rollups=e.rollups.concat(t.rollups),n):t},s.prototype._drawSectionMenu=function(){return this.menu=new u({sections:this.gradebook.sectionList(),currentSection:this.gradebook.sectionToShow,el:o(".section-button-placeholder")}),this.menu.render()},s.prototype._createFilter=function(e){var t,n=this;return t=function(t){return a.filter=t?i.uniq(a.filter.concat([e])):i.reject(a.filter,function(t){return t===e}),n.grid.invalidate()}},s.prototype.updateExportLink=function(e){var t;return t=""+ENV.GRADEBOOK_OPTIONS.context_url+"/outcome_rollups.csv",e&&(t+="?section_id="+e),o(".export-content").attr("href",t)},s}(h)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};require(["jquery","Backbone","compiled/userSettings","compiled/gradebook2/Gradebook","compiled/views/gradebook/NavigationPillView","compiled/views/gradebook/OutcomeGradebookView"],function(t,o,i,s,r,a){var l,u;return l=function(o){function l(){return this.handlePillChange=e(this.handlePillChange,this),u=l.__super__.constructor.apply(this,arguments)}return n(l,o),l.prototype.routes={"":"tab","tab-:viewName":"tab"},l.prototype.initialize=function(){return this.isLoaded=!1,this.views={},this.views.assignment=new s(ENV.GRADEBOOK_OPTIONS),ENV.GRADEBOOK_OPTIONS.outcome_gradebook_enabled?this.views.outcome=this.initOutcomes():void 0},l.prototype.initOutcomes=function(){var e;return e=new a({el:t(".outcome-gradebook-container"),gradebook:this.views.assignment}),e.render(),this.navigation=new r({el:t(".gradebook-navigation")}),this.navigation.on("pillchange",this.handlePillChange),e},l.prototype.handlePillChange=function(e){return e?this.navigate("tab-"+e,{trigger:!0}):void 0},l.prototype.tab=function(e){return e||(e=i.contextGet("gradebook_tab")),window.tab=e,"outcome"===e&&this.views.outcome||(e="assignment"),this.navigation&&this.navigation.setActiveView(e),t(".assignment-gradebook-container, .outcome-gradebook-container").addClass("hidden"),t("."+e+"-gradebook-container").removeClass("hidden"),this.views[e].onShow(),i.contextSet("gradebook_tab",e)},l}(o.Router),this.router=new l,o.history.start()})}.call(this),define("compiled/bundles/gradebook2",function(){});