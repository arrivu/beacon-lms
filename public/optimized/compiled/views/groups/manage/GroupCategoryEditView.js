(function(){var e={}.hasOwnProperty,t=function(t,o){function r(){this.constructor=t}for(var p in o)e.call(o,p)&&(t[p]=o[p]);return r.prototype=o.prototype,t.prototype=new r,t.__super__=o.prototype,t};define(["underscore","i18n!groups","compiled/views/DialogFormView","jst/EmptyDialogFormWrapper","jst/groups/manage/groupCategoryEdit","str/htmlEscape"],function(e,o,r,p,i,u){var n,s;return n=function(n){function l(){return s=l.__super__.constructor.apply(this,arguments)}return t(l,n),l.prototype.template=i,l.prototype.wrapperTemplate=p,l.prototype.className="form-dialog group-category-edit",l.prototype.defaults={width:500,height:ENV.allow_self_signup?520:210,title:o.t("edit_group_set","Edit Group Set"),fixDialogButtons:!1},l.prototype.els={".self-signup-help":"$selfSignupHelp",".self-signup-description":"$selfSignup",".self-signup-toggle":"$selfSignupToggle",".self-signup-controls":"$selfSignupControls",".auto-group-leader-toggle":"$autoGroupLeaderToggle",".auto-group-leader-controls":"$autoGroupLeaderControls"},l.prototype.events=e.extend({},r.prototype.events,{"click .dialog_closer":"close","click .self-signup-toggle":"toggleSelfSignup","click .auto-group-leader-toggle":"toggleAutoGroupLeader"}),l.prototype.afterRender=function(){return this.toggleSelfSignup(),this.toggleAutoGroupLeader(),this.setAutoLeadershipFormState()},l.prototype.openAgain=function(){return l.__super__.openAgain.apply(this,arguments),this.render(),this.$("input:first").focus()},l.prototype.setAutoLeadershipFormState=function(){return null!=this.model.get("auto_leader")?(this.$autoGroupLeaderToggle.prop("checked",!0),this.$autoGroupLeaderControls.find("input[value='"+this.model.get("auto_leader").toUpperCase()+"']").prop("checked",!0)):this.$autoGroupLeaderToggle.prop("checked",!1),this.toggleAutoGroupLeader()},l.prototype.toggleAutoGroupLeader=function(){var e;return e=this.$autoGroupLeaderToggle.prop("checked"),this.$autoGroupLeaderControls.find("label.radio").css({opacity:e?1:.5}),this.$autoGroupLeaderControls.find("input[name=auto_leader_type]").prop("disabled",!e)},l.prototype.toggleSelfSignup=function(){var e;return e=!this.$selfSignupToggle.prop("checked"),this.$selfSignupControls.css({opacity:e?.5:1}),this.$selfSignupControls.find(":input").prop("disabled",e)},l.prototype.validateFormData=function(){var e;return e=this.$("[name=group_limit]"),e.length&&!e[0].validity.valid?{group_limit:[{message:o.t("group_limit_number","Group limit must be a number")}]}:void 0},l.prototype.toJSON=function(){var t,o;return t=this.model.present(),e.extend({},{ENV:ENV},t,{enable_self_signup:t.self_signup,restrict_self_signup:"restricted"===t.self_signup,group_limit:'<input name="group_limit"\n       type="number"\n       min="2"\n       class="input-micro"\n       value="'+u(null!=(o=t.group_limit)?o:"")+'">'})},l}(r)})}).call(this);