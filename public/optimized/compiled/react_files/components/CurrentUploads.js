(function(){define(["react","compiled/react/shared/utils/withReactDOM","../modules/UploadQueue","./UploadProgress","compiled/jquery.rails_flash_notifications"],function(e,t,n,r){var s;return s=e.createClass({displayName:"CurrentUploads",getInitialState:function(){return{currentUploads:[],isOpen:!1}},componentWillMount:function(){var e=this;return n.onChange=function(){return e.screenReaderUploadStatus(),e.setState({currentUploads:n.getAllUploaders()})}},componentWillUnMount:function(){return n.onChange=function(){}},handleCloseClick:function(){return this.setState({isOpen:!1})},handleBrowseClick:function(){return console.log("browse click")},screenReaderUploadStatus:function(){var e,t,r;return(e=n.getCurrentUploader())?(t=e.getFileName(),r=e.roundProgress(),$.screenReaderFlashMessage(""+t+" - "+r+"%")):void 0},shouldDisplay:function(){return!!this.state.isOpen||this.state.currentUploads.length},buildProgressViews:function(){var e;return e=this.state.currentUploads.map(function(e){return r({uploader:e,key:e.getFileName(),removeUploader:n.remove})}),div({className:"current_uploads__uploaders"},e)},buildContent:function(){return this.state.currentUploads.length?this.buildProgressViews():this.state.isOpen?div({},""):void 0},render:t(function(){var e;return e="",this.shouldDisplay()&&(e="current_uploads"),div({className:e},this.buildContent())})})})}).call(this);