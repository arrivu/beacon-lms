(function(){define(["i18n!file_rename_form","react","compiled/react/shared/utils/withReactDOM","./DialogAdapter","./DialogContent","./DialogButtons"],function(e,t,i,n,a,l){var s;return s=t.createClass({displayName:"FileRenameForm",propType:{fileOptions:t.PropTypes.object,onNameConflictResolved:t.PropTypes.func.isRequired},getInitialState:function(){return{isEditing:!1,fileOptions:this.props.fileOptions}},componentWillReceiveProps:function(e){return this.setState({fileOptions:e.fileOptions,isEditing:!1})},handleRenameClick:function(){return this.setState({isEditing:!0})},handleBackClick:function(){return this.setState({isEditing:!1})},handleReplaceClick:function(){return this.props.onNameConflictResolved({file:this.state.fileOptions.file,dup:"overwrite",expandZip:this.state.fileOptions.expandZip})},handleChangeClick:function(){return this.props.onNameConflictResolved({file:this.state.fileOptions.file,dup:"rename",name:this.refs.newName.getDOMNode().value,expandZip:this.state.fileOptions.expandZip})},handleFormSubmit:function(e){return e.preventDefault(),this.handleChangeClick()},buildContent:i(function(){var t,i,n;return t=(null!=(i=this.state.fileOptions)?i.name:void 0)||(null!=(n=this.state.fileOptions)?n.file.name:void 0),this.state.isEditing?div({},p({},e.t("prompt",'Change "%{name}" to',{name:t})),form({onSubmit:this.handleFormSubmit},label({className:"file-rename-form__form-label"},e.t("name","Name")),input({type:"text",defaultValue:t,ref:"newName"}))):div({},p({},e.t("message",'An item named "%{name}" already exists in this location. Do you want to replace the existing file?',{name:t})))}),buildButtons:i(function(){return this.state.isEditing?div({},button({ref:"backBtn",className:"btn",onClick:this.handleBackClick},e.t("back","Back")),button({ref:"commitChangeBtn",className:"btn btn-primary",onClick:this.handleChangeClick},e.t("change","Change"))):div({},button({ref:"renameBtn",className:"btn",onClick:this.handleRenameClick},e.t("change_name","Change Name")),button({ref:"replaceBtn",className:"btn btn-primary",onClick:this.handleReplaceClick},e.t("replace","Replace")))}),render:i(function(){return n({open:null!=this.props.fileOptions,title:e.t("rename_title","Copy"),onClose:this.props.onClose},a({},this.buildContent()),l({},this.buildButtons()))})})})}).call(this);