(function(){var e=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};define(["i18n!react_files","react","../components/DragFeedback","../utils/moveStuff","compiled/models/Folder","jquery"],function(t,r,a,n,o,i){var d;return d={itemsToDrag:function(){return this.state.selectedItems},renderDragFeedback:function(e){var t,n;return t=e.pageX,n=e.pageY,this.dragHolder||(this.dragHolder=i("<div>").appendTo(document.body)),r.renderComponent(a({pageX:t,pageY:n,itemsToDrag:this.itemsToDrag()}),this.dragHolder[0])},removeDragFeedback:function(){return i(document).off(".MultiDraggableMixin"),this.dragHolder&&r.unmountComponentAtNode(this.dragHolder[0]),this.dragHolder=null},onItemDragStart:function(e){var t,r,a=this;return r=this.itemsToDrag(),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("canvaslms/custom-dnd-move",!0),e.dataTransfer.setData("text/uri-list",r.map(function(e){return e.get("url")}).join("\n")),t=new Image,t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e.dataTransfer.setDragImage(t,150,150),this.renderDragFeedback(e),i(document).on({"dragover.MultiDraggableMixin":function(e){return a.renderDragFeedback(e.originalEvent)},"dragend.MultiDraggableMixin":this.removeDragFeedback})},onItemDragEnterOrOver:function(t,r){return e.call(t.dataTransfer.types,"canvaslms/custom-dnd-move")<0?void 0:(t.preventDefault(),r?r(t):void 0)},onItemDragLeaveOrEnd:function(t,r){return e.call(t.dataTransfer.types,"canvaslms/custom-dnd-move")<0?void 0:r?r(t):void 0},onItemDrop:function(t,r,a){return e.call(t.dataTransfer.types,"canvaslms/custom-dnd-move")<0?void 0:(t.preventDefault(),n(this.itemsToDrag(),r),this.clearSelectedItems(),a?a(t):void 0)}}})}).call(this);