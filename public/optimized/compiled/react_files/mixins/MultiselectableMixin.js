(function(){var e=[].indexOf||function(e){for(var t=0,s=this.length;s>t;t++)if(t in this&&this[t]===e)return t;return-1};define(["underscore","jquery"],function(t,s){var l;return l={getInitialState:function(){return{selectedItems:[]}},componentDidMount:function(){return s(window).on("keydown",this.handleCtrlPlusA)},componentWillUnmount:function(){return s(window).off("keydown",this.handleCtrlPlusA)},multiselectIgnoredElements:":input:not(.multiselectable-toggler), a",handleCtrlPlusA:function(e){var t;if("input"!==(t=e.target.nodeName.toLowerCase())&&"textarea"!==t)return 65===e.which&&(e.ctrlKey||e.metaKey)?(e.preventDefault(),this.toggleAllSelected(!e.shiftKey)):void 0},toggleAllSelected:function(e){return this.setState(e?{selectedItems:this.selectables()}:{selectedItems:[]})},areAllItemsSelected:function(){return this.state.selectedItems.length&&this.state.selectedItems.length===this.selectables().length},selectRange:function(e){var s,l,n,i;return i=this.selectables(),l=i.indexOf(e),s=i.indexOf(t.last(this.state.selectedItems)),n=i.slice(Math.min(l,s),Math.max(l,s)+1),l>s&&n.reverse(),this.setState({selectedItems:n})},clearSelectedItems:function(){return this.setState({selectedItems:[]})},toggleItemSelected:function(l,n){var i,r,c;if(!n||!s(n.target).closest(this.multiselectIgnoredElements).length)return null!=n&&n.preventDefault(),(null!=n?n.shiftKey:void 0)?this.selectRange(l):(i=e.call(this.state.selectedItems,l)>=0,r=(null!=n?n.metaKey:void 0)||(null!=n?n.ctrlKey:void 0)||"checkbox"===(null!=n?n.target.type:void 0),r&&i?c=t.without(this.state.selectedItems,l):r?(c=this.state.selectedItems.slice(),c.push(l)):c=i?[]:[l],this.setState({selectedItems:c}))}}})}).call(this);