(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,i=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};define(["i18n!calendar","jquery","compiled/calendar/CommonEvent","jquery.instructure_date_and_time","jquery.instructure_misc_helpers"],function(e,n,r){var s,o;return o=e.t("prompts.delete_override","Are you sure you want to delete this assignment override?"),s=function(e){function r(e,i){this.saveDates=t(this.saveDates,this),this.copyDataFromObject=t(this.copyDataFromObject,this),r.__super__.constructor.apply(this,arguments),this.eventType="assignment_override",this.deleteConfirmation=o,this.deleteUrl=i.assignment_url,this.addClass("assignment_override")}return i(r,e),r.prototype.copyDataFromObject=function(t){return null!=t.assignment?(this.copyDataFromAssignment(t.assignment),this.copyDataFromOverride(t.assignment_override)):this.copyDataFromOverride(t),this.title=""+this.assignment.name+" ("+this.override.title+")",this.object=this.override,this.addClass("group_"+this.contextCode()),r.__super__.copyDataFromObject.apply(this,arguments)},r.prototype.copyDataFromAssignment=function(t){return this.assignment=t,this.lock_explanation=this.assignment.lock_explanation,this.description=this.assignment.description,this.start=this.parseStartDate(),this.end=null},r.prototype.copyDataFromOverride=function(t){return this.override=t,this.id="override_"+this.override.id,this.assignment.due_at=this.override.due_at},r.prototype.fullDetailsURL=function(){return this.assignment.html_url},r.prototype.parseStartDate=function(){return this.assignment.due_at?n.fudgeDateForProfileTimezone(this.assignment.due_at):null},r.prototype.displayTimeString=function(){var t;return(t=this.originalStart)?(t=n.unfudgeDateForProfileTimezone(t),"Due: <time datetime='"+t.toISOString()+"'>"+n.datetimeString(t)+"</time>"):"No Date"},r.prototype.readableType=function(){return this.readableTypes[this.assignmentType()]},r.prototype.updateAssignmentTitle=function(t){var e;return this.assignment.title=t,e=this.title.match(/\(.+\)$/)[0],this.title=""+t+" "+e},r.prototype.saveDates=function(t,e){return this.save({"assignment_override[due_at]":this.start?n.unfudgeDateForProfileTimezone(this.start).toISOString():""},t,e)},r.prototype.methodAndURLForSave=function(){var t;return t=n.replaceTags(this.contextInfo.assignment_override_url,{assignment_id:this.assignment.id,id:this.override.id}),["PUT",t]},r.prototype.isCompleted=function(){return this.assignment.user_submitted||this.isPast()&&0===this.assignment.needs_grading_count},r}(r)})}).call(this);