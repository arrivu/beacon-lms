(function(){var t={}.hasOwnProperty,r=function(r,e){function n(){this.constructor=r}for(var o in e)t.call(e,o)&&(r[o]=e[o]);return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};define(["compiled/collections/PaginatedCollection","underscore","compiled/models/File"],function(t,e,n){var o,i;return o=function(t){function o(){return i=o.__super__.constructor.apply(this,arguments)}return r(o,t),o.optionProperty("parentFolder"),o.prototype.model=n,o.prototype.initialize=function(){return this.on("change:sort change:order",this.setQueryStringParams),o.__super__.initialize.apply(this,arguments)},o.prototype.fetch=function(t){var r,n;return null==t&&(t={}),t.data=e.extend({content_types:null!=(n=this.parentFolder)?n.contentTypes:void 0},t.data||{}),r=o.__super__.fetch.call(this,t)},o.prototype.parse=function(t){var r;return t&&this.parentFolder&&(r=this.parentFolder.previewUrl(),e.each(t,function(t){return t.preview_url=r?r.replace("{{id}}",t.id.toString()):t.url})),o.__super__.parse.apply(this,arguments)},o.prototype.setQueryStringParams=function(){var t,r,n;return t={include:["user"],per_page:20,sort:this.get("sort"),order:this.get("order")},this.loadedAll?void 0:(n=new URL(this.url),r=deparam(n.search),n.search=$.param(e.extend(r,t)),this.url=n.toString(),this.reset())},o}(t)})}).call(this);