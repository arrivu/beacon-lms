define("translations/publishableModuleItem",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{publishableModuleItem:{disabled:"تم تعطيل النشر لهذا العنصر",disabled_assignment:"لا يمكن إلغاء النشر في حالة وجود عمليات إرسال لطالب",disabled_discussion_topic:"لا يمكن إلغاء النشر في حالة وجود عمليات إرسال لطالب",disabled_quiz:"لا يمكن إلغاء النشر في حالة وجود عمليات إرسال لطالب"}},de:{publishableModuleItem:{disabled:"Die Veröffentlichung ist für dieses Element deaktiviert",disabled_assignment:"Veröffentlichung kann nicht rückgängig gemacht werden, wenn Einsendungen von Studenten vorhanden sind",disabled_discussion_topic:"Veröffentlichung kann nicht rückgängig gemacht werden, wenn Einsendungen von Studenten vorhanden sind",disabled_quiz:"Veröffentlichung kann nicht rückgängig gemacht werden, wenn Einsendungen von Studenten vorhanden sind"}},"en-AU":{publishableModuleItem:{disabled:"Publishing is disabled for this item",disabled_assignment:"Can't unpublish if there are student submissions",disabled_discussion_topic:"Can't unpublish if there are student submissions",disabled_quiz:"Can't unpublish if there are student submissions"}},"en-GB":{publishableModuleItem:{disabled:"Publishing is disabled for this item",disabled_assignment:"Can't unpublish if there are student submissions",disabled_discussion_topic:"Can't unpublish if there are student submissions",disabled_quiz:"Can't unpublish if there are student submissions"}},es:{publishableModuleItem:{disabled:"Este elemento tiene desactivada la función de publicación",disabled_assignment:"No se puede ocultar la publicación si hay envíos de alumnos",disabled_discussion_topic:"No se puede ocultar la publicación si hay envíos de alumnos",disabled_quiz:"No se puede ocultar la publicación si hay envíos de alumnos"}},"fa-IR":{publishableModuleItem:{disabled:"انتشار برای این مورد غیر فعال شده است",disabled_assignment:"اگر موردهای ارسالی دانشجو وجود داشته باشد، انتشار نمی تواند لغو شود",disabled_discussion_topic:"اگر موردهای ارسالی دانشجو وجود داشته باشد، انتشار نمی تواند لغو شود",disabled_quiz:"اگر موردهای ارسالی دانشجو وجود داشته باشد، انتشار نمی تواند لغو شود"}},fr:{publishableModuleItem:{disabled:"La publication est désactivée pour cet élément",disabled_assignment:"Impossible de retirer la publication s’il y a des envois d’étudiants",disabled_discussion_topic:"Impossible de retirer la publication s’il y a des envois d’étudiants",disabled_quiz:"Impossible de retirer la publication s’il y a des envois d’étudiants"}},ja:{publishableModuleItem:{disabled:"このアイテムでは公開は無効になっています",disabled_assignment:"受講生の提出物がある場合は、未公開にできません",disabled_discussion_topic:"受講生の提出物がある場合は、未公開にできません",disabled_quiz:"受講生の提出物がある場合は、未公開にできません"}},nb:{publishableModuleItem:{disabled:"Publisering er slått av for dette elementet",disabled_assignment:"Kan ikke fjerne publisering om det er studentinnleveringer",disabled_discussion_topic:"Kan ikke fjerne publisering om det er studentinnleveringer",disabled_quiz:"Kan ikke fjerne publisering om det er studentinnleveringer"}},nl:{publishableModuleItem:{disabled:"Publiceren is voor dit item niet ingeschakeld",disabled_assignment:"Kan publicatie niet ongedaan maken als er inzendingen van cursist zijn",disabled_discussion_topic:"Kan publicatie niet ongedaan maken als er inzendingen van cursist zijn",disabled_quiz:"Kan publicatie niet ongedaan maken als er inzendingen van cursist zijn"}},pl:{publishableModuleItem:{disabled:"Publikowanie jest wyłączone w przypadku tego elementu",disabled_assignment:"Nie można cofnąć publikowania, jeśli znajdują się przesłane zadania uczestnika",disabled_discussion_topic:"Nie można cofnąć publikowania, jeśli znajdują się przesłane zadania uczestnika",disabled_quiz:"Nie można cofnąć publikowania, jeśli znajdują się przesłane zadania uczestnika"}},pt:{publishableModuleItem:{disabled:"Publicação desativada para este item",disabled_assignment:"Não é possível anular a publicação se existirem envios de alunos",disabled_discussion_topic:"Não é possível anular a publicação se existirem envios de alunos",disabled_quiz:"Não é possível anular a publicação se existirem envios de alunos"}},"pt-BR":{publishableModuleItem:{disabled:"A publicação está desativada para este item",disabled_assignment:"Não é possível remover publicação se houver envios dos alunos",disabled_discussion_topic:"Não é possível remover publicação se houver envios dos alunos",disabled_quiz:"Não é possível remover publicação se houver envios dos alunos"}},ru:{publishableModuleItem:{disabled:"Возможность публикации для этого элемента отключена",disabled_assignment:"Невозможно отменить публикацию, если есть отправленные студентами задания",disabled_discussion_topic:"Невозможно отменить публикацию, если есть отправленные студентами задания",disabled_quiz:"Невозможно отменить публикацию, если есть отправленные студентами задания"}},tr:{publishableModuleItem:{disabled:"Yayınlama bu öğe için pasif",disabled_assignment:"Öğrenci gönderileri varsa yayından kaldırılamaz",disabled_discussion_topic:"Öğrenci gönderileri varsa yayından kaldırılamaz",disabled_quiz:"Öğrenci gönderileri varsa yayından kaldırılamaz"}},zh:{publishableModuleItem:{disabled:"此项目已禁用发布",disabled_assignment:"如有学生提交文件，则无法取消发布",disabled_discussion_topic:"如有学生提交文件，则无法取消发布",disabled_quiz:"如有学生提交文件，则无法取消发布"}},zh_Hant:{publishableModuleItem:{disabled:"已停用此項目的發佈",disabled_assignment:"如果有學生提交件，則無法解除發佈",disabled_discussion_topic:"如果有學生提交件，則無法解除發佈",disabled_quiz:"如果有學生提交件，則無法解除發佈"}}}})}),function(){var e={}.hasOwnProperty,t=function(t,i){function o(){this.constructor=t}for(var n in i)e.call(i,n)&&(t[n]=i[n]);return o.prototype=i.prototype,t.prototype=new o,t.__super__=i.prototype,t};define("compiled/models/PublishableModuleItem",["compiled/backbone-ext/DefaultUrlMixin","Backbone","i18n!publishableModuleItem"],function(e,i,o){var n,s,l;return n=i.Model,s=function(e){function i(){return l=i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.defaults={module_type:null,course_id:null,module_id:null,published:!0,publishable:!0,unpublishable:!0},i.prototype.branch=function(e){return(this[e][this.get("module_type")]||this[e].generic).call(this)},i.prototype.url=function(){return this.branch("urls")},i.prototype.toJSON=function(){return this.branch("toJSONs")},i.prototype.disabledMessage=function(){return this.branch("disabledMessages")},i.prototype.baseUrl=function(){return"/api/v1/courses/"+this.get("course_id")},i.prototype.urls={generic:function(){return""+this.baseUrl()+"/modules/"+this.get("module_id")+"/items/"+(this.get("module_item_id")||this.get("id"))},wiki_page:function(){return""+this.baseUrl()+"/pages/"+this.get("id")},assignment:function(){return""+this.baseUrl()+"/assignments/"+this.get("id")},discussion_topic:function(){return""+this.baseUrl()+"/discussion_topics/"+this.get("id")},module:function(){return""+this.baseUrl()+"/modules/"+this.get("id")},quiz:function(){var e;return e=this.get("published")?"publish":"unpublish","/courses/"+this.get("course_id")+"/quizzes/"+e}},i.prototype.toJSONs={generic:function(){return{module_item:this.attributes}},wiki_page:function(){return{wiki_page:this.attributes}},assignment:function(){return{assignment:this.attributes}},discussion_topic:function(){return this.attributes},quiz:function(){return{quizzes:[this.get("id")]}},module:function(){return{module:this.attributes}}},i.prototype.disabledMessages={generic:function(){return o.t("disabled","Publishing is disabled for this item")},assignment:function(){return o.t("disabled_assignment","Can't unpublish if there are student submissions")},quiz:function(){return o.t("disabled_quiz","Can't unpublish if there are student submissions")},discussion_topic:function(){return o.t("disabled_discussion_topic","Can't unpublish if there are student submissions")}},i.prototype.publish=function(){return this.save("published",!0)},i.prototype.unpublish=function(){return this.save("published",!1)},i}(n)})}.call(this),define("translations/publish_btn_module",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{publish_btn_module:{buttons:{publish:"نشر",publish_desc:"لم يتم النشر. انقر للنشر.",published:"منشور",published_desc:"تم النشر. انقر لإلغاء النشر.",publishing:"جارٍ النشر...",unpublish:"إلغاء النشر",unpublishing:"جارٍ إلغاء النشر..."}}},de:{publish_btn_module:{buttons:{publish:"Veröffentlichen",publish_desc:"Nicht veröffentlicht. Zum Veröffentlichen klicken.",published:"Veröffentlicht",published_desc:"Veröffentlicht. Zum Rückgängigmachen der Veröffentlichung klicken",publishing:"Wird veröffentlicht...",unpublish:"Veröffentlichung rückgängig machen",unpublishing:"Veröffentlichung wird rückgängig gemacht..."}}},"en-AU":{publish_btn_module:{buttons:{publish:"Publish",publish_desc:"Unpublished. Click to publish.",published:"Published",published_desc:"Published. Click to unpublish.",publishing:"Publishing...",unpublish:"Unpublish",unpublishing:"Unpublishing..."}}},"en-GB":{publish_btn_module:{buttons:{publish:"Publish",publish_desc:"Unpublished. Click to publish.",published:"Published",published_desc:"Published. Click to unpublish.",publishing:"Publishing...",unpublish:"Unpublish",unpublishing:"Unpublishing..."}}},es:{publish_btn_module:{buttons:{publish:"Publicar",publish_desc:"Sin publicar. Haga clic para publicarlo.",published:"Publicado",published_desc:"Publicado. Haga clic para ocultar.",publishing:"Publicando...",unpublish:"Ocultar",unpublishing:"Ocultando..."}}},"fa-IR":{publish_btn_module:{buttons:{publish:"انتشار",publish_desc:"منتشرنشده است.برای انتشار کلیک کنید.",published:"منتشر شده",published_desc:"منتشر شده است. برای لغو انتشار کلیک کنید.",publishing:"در حال انتشار...",unpublish:"لغو انتشار",unpublishing:"در حال لغو انتشار..."}}},fr:{publish_btn_module:{buttons:{publish:"Publier",publish_desc:"Non publié. Cliquez pour publier.",published:"Date de publication",published_desc:"Publié. Cliquez pour annuler la publication.",publishing:"Publication en cours...",unpublish:"Annuler la publication",unpublishing:"Annulation de la publication..."}}},ja:{publish_btn_module:{buttons:{publish:"公開",publish_desc:"未公開です。クリックすると公開します。",published:"公開済み",published_desc:"公開されています。クリックすると未公開にします。",publishing:"公開しています...",unpublish:"未公開",unpublishing:"公開を中止しています..."}}},nb:{publish_btn_module:{buttons:{publish:"Publiser",publish_desc:"Upublisert. Klikk for å publisere.",published:"Publisert",published_desc:"Publisert. Klikk for å fjerne publisering.",publishing:"Publiserer…",unpublish:"Fjern publisering",unpublishing:"Fjerner publisering…"}}},nl:{publish_btn_module:{buttons:{publish:"Publiceren",publish_desc:"Niet gepubliceerd. Klikken om te publiceren.",published:"Gepubliceerd",published_desc:"Gepubliceerd. Klikken om het publiceren ongedaan te maken.",publishing:"Bezig met publiceren...",unpublish:"Publicatie ongedaan maken",unpublishing:"Bezig met ongedaan maken van publicatie..."}}},pl:{publish_btn_module:{buttons:{publish:"Publikuj",publish_desc:"Nie opublikowano. Kliknij, aby opublikować .",published:"Opublikowane",published_desc:"Opublikowano. Kliknij, aby cofnąć publikację.",publishing:"Trwa publikowanie...",unpublish:"Cofnij publikowanie",unpublishing:"Trwa cofanie publikowania..."}}},pt:{publish_btn_module:{buttons:{publish:"Publicar",publish_desc:"Não publicado. Clique para publicar.",published:"Publicado",published_desc:"Publicado. Clique para anular a publicação.",publishing:"A publicar...",unpublish:"Anular publicação",unpublishing:"A anular a publicação..."}}},"pt-BR":{publish_btn_module:{buttons:{publish:"Publicar",publish_desc:"Publicação cancelada. Clique para publicar.",published:"Publicado",published_desc:"Publicação efetuada. Clique para cancelar publicação.",publishing:"Publicando",unpublish:"Retirar da publicação",unpublishing:"Cancelando publicação..."}}},ru:{publish_btn_module:{buttons:{publish:"Опубликовать",publish_desc:"Публикация отменена. Щелкните, чтобы опубликовать.",published:"Опубликовано",published_desc:"Опубликовано. Щелкните, чтобы отменить публикацию.",publishing:"Публикация...",unpublish:"Отменить публикацию",unpublishing:"Отмена публикации…"}}},tr:{publish_btn_module:{buttons:{publish:"Yayınla",publish_desc:"Yayınlanmadı. Yayınlamak için tıklayınız.",published:"Yayınlandı",published_desc:"Yayınlanmış. Yayından kaldırmak için tıklayınız.",publishing:"Yayınlanıyor...",unpublish:"Yayınlanmıyor",unpublishing:"Yayından kaldırılıyor..."}}},zh:{publish_btn_module:{buttons:{publish:"发布",publish_desc:"未发布。单击可进行发布。",published:"已发布",published_desc:"已发布。单击可取消发布。",publishing:"正在发布...",unpublish:"取消发布",unpublishing:"正在取消发布..."}}},zh_Hant:{publish_btn_module:{buttons:{publish:"發佈",publish_desc:"未發佈。按一下以發佈。",published:"已發佈",published_desc:"已發佈。按一下以解除發佈。",publishing:"正在發佈…",unpublish:"解除發佈",unpublishing:"正在解除發佈..."}}}}})}),function(){var e={}.hasOwnProperty,t=function(t,i){function o(){this.constructor=t}for(var n in i)e.call(i,n)&&(t[n]=i[n]);return o.prototype=i.prototype,t.prototype=new o,t.__super__=i.prototype,t};define("compiled/views/PublishButtonView",["i18n!publish_btn_module","jquery","compiled/fn/preventDefault","Backbone","jquery.instructure_forms"],function(e,i,o,n){var s,l;return s=function(o){function n(){return l=n.__super__.constructor.apply(this,arguments)}return t(n,o),n.prototype.disabledClass="disabled",n.prototype.publishClass="btn-publish",n.prototype.publishedClass="btn-published",n.prototype.unpublishClass="btn-unpublish",n.prototype.tagName="button",n.prototype.className="btn",n.prototype.events={click:"click",hover:"hover"},n.prototype.els={i:"$icon",".publish-text":"$text"},n.prototype.initialize=function(){var e,t=this;return n.__super__.initialize.apply(this,arguments),null!=(e=this.model)?e.on("change:unpublishable",function(){return t.model.get("unpublishable")?void 0:t.disable()}):void 0},n.prototype.setElement=function(){return n.__super__.setElement.apply(this,arguments),this.$el.attr("data-tooltip",""),this.model.get("unpublishable")?void 0:this.disable()},n.prototype.hover=function(e){var t;if(t=e.type,"mouseenter"===t){if(this.keepState||this.isPublish()||this.isDisabled())return;return this.renderUnpublish(),this.keepState=!0}return this.keepState=!1,this.isPublish()||this.isDisabled()?void 0:this.renderPublished()},n.prototype.click=function(e){return e.preventDefault(),e.stopPropagation(),this.isDisabled()?void 0:(this.keepState=!0,this.isPublish()?this.publish():this.isUnpublish()||this.isPublished()?this.unpublish():void 0)},n.prototype.addAriaLabel=function(e){var t;return t=this.$el.find("span.screenreader-only.accessible_label"),t.length||i('<span class="screenreader-only accessible_label"></span>').appendTo(this.$el),t.text(e),this.$el.attr("aria-label",e)},n.prototype.publish=function(){var e=this;return this.renderPublishing(),this.model.publish().always(function(){return e.trigger("publish"),e.enable(),e.render()})},n.prototype.unpublish=function(){var e=this;return this.renderUnpublishing(),this.model.unpublish().done(function(){return e.trigger("unpublish"),e.disable(),e.render()}).fail(function(t){var o;return o=JSON.parse(t.responseText).errors,i.flashError(o.published[0].message),e.model.set("unpublishable",!0),e.disable(),e.renderPublished()})},n.prototype.isPublish=function(){return this.$el.hasClass(this.publishClass)},n.prototype.isPublished=function(){return this.$el.hasClass(this.publishedClass)},n.prototype.isUnpublish=function(){return this.$el.hasClass(this.unpublishClass)},n.prototype.isDisabled=function(){return this.$el.hasClass(this.disabledClass)},n.prototype.disable=function(){return this.$el.addClass(this.disabledClass)},n.prototype.enable=function(){return this.$el.removeClass(this.disabledClass)},n.prototype.reset=function(){return this.$el.removeClass(""+this.publishClass+" "+this.publishedClass+" "+this.unpublishClass),this.$icon.removeClass("icon-publish icon-unpublish icon-unpublished"),this.$el.removeAttr("aria-label")},n.prototype.render=function(){return this.$el.attr("role","button"),this.$el.attr("tabindex","0"),this.$el.html('<i></i><span class="publish-text"></span>'),this.cacheEls(),this.$text.attr("tabindex","-1"),this.model.get("published")?this.renderPublished():this.renderPublish(),this},n.prototype.renderPublish=function(){return this.renderState({text:e.t("buttons.publish","Publish"),label:e.t("buttons.publish_desc","Unpublished. Click to publish."),buttonClass:this.publishClass,iconClass:"icon-unpublished"})},n.prototype.renderPublished=function(){return this.renderState({text:e.t("buttons.published","Published"),label:e.t("buttons.published_desc","Published. Click to unpublish."),buttonClass:this.publishedClass,iconClass:"icon-publish"})},n.prototype.renderUnpublish=function(){var t;return t=e.t("buttons.unpublish","Unpublish"),this.renderState({text:t,buttonClass:this.unpublishClass,iconClass:"icon-unpublish"})},n.prototype.renderPublishing=function(){var t;return this.disable(),t=e.t("buttons.publishing","Publishing..."),this.renderState({text:t,buttonClass:this.publishClass,iconClass:"icon-publish"})},n.prototype.renderUnpublishing=function(){var t;return this.disable(),t=e.t("buttons.unpublishing","Unpublishing..."),this.renderState({text:t,buttonClass:this.unpublishClass,iconClass:"icon-unpublished"})},n.prototype.renderState=function(e){return this.reset(),this.$el.addClass(e.buttonClass),this.$el.attr("aria-pressed",e.buttonClass===this.publishedClass),this.$icon.addClass(e.iconClass),this.$text.html("&nbsp;"+e.text),null==this.model.get("unpublishable")||this.model.get("unpublishable")?(this.enable(),this.$el.attr("title",e.text),e.label?this.addAriaLabel(e.label):void 0):(this.disable(),this.$el.attr("aria-disabled",!0),this.$el.attr("title",this.model.disabledMessage()),this.addAriaLabel(this.model.disabledMessage()))},n}(n.View)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,i){function o(){this.constructor=t}for(var n in i)e.call(i,n)&&(t[n]=i[n]);return o.prototype=i.prototype,t.prototype=new o,t.__super__=i.prototype,t};define("compiled/views/PublishIconView",["compiled/views/PublishButtonView","underscore"],function(e,i){var o,n;return o=function(o){function s(){return n=s.__super__.constructor.apply(this,arguments)}return t(s,o),s.prototype.publishClass="publish-icon-publish",s.prototype.publishedClass="publish-icon-published",s.prototype.unpublishClass="publish-icon-unpublish",s.prototype.tagName="span",s.prototype.className="publish-icon",s.prototype.initialize=function(){return this.events=i.extend({},e.prototype.events,this.events)},s.prototype.events={keyclick:"click"},s}(e)})}.call(this),define("translations/context_modules",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{context_modules:{buttons:{add:"إضافة وحدة",add_item:"إضافة عنصر",update:"تحديث الوحدة"},confirm:{"delete":"هل ترغب بالتأكيد في حذف هذه الوحدة؟",delete_item:"هل ترغب بالتأكيد في إزالة هذا العنصر من الوحدة؟"},context_module:{unpublish:"عدم النشر"},context_modules:{publish:"نشر"},errors:{reorder:"فشل إعادة الترتيب، الرجاء المحاولة مرة أخرى."},module_complete:"مكتمل",module_locked:"مُؤَمّن",module_started:"قيد التقدم",module_unlocked:"لم يتم تأمينه",none_in_progress:"لا يوجد شيء قيد التقدم",optgroup:{assignments:"المهام",discussion_topics:"المناقشات",external_tools:"الأدوات الخارجية",external_urls:"عناوين URL الخارجية",files:"الملفات",quizzes:"الاختبارات",wiki_pages:"صفحات Wiki"},points_possible_short:"%{points} نقاط",still_needs_completing:"ما زال يحتاج إلى احجبال",titles:{add:"إضافة وحدة",add_item:"إضافة عنصر إلى %{module}",add_prerequisite:"إضافة متطلب ضروري إلى %{module}",edit:"تحرير إعدادات الوحدة",edit_item:"تحرير تفاصيل العنصر",student_progress:"تقدم الطلاب في الوحدة"}}},de:{context_modules:{buttons:{add:"Modul hinzufügen",add_item:"Element hinzufügen",update:"Modul aktualisieren"},confirm:{"delete":"Möchten Sie dieses Modul wirklich löschen?",delete_item:"Möchten Sie dieses Element wirklich vom Modul entfernen?"},context_module:{unpublish:"Veröffentlichung rückgängig machen"},context_modules:{publish:"Veröffentlichen"},errors:{reorder:"Neuanordnen fehlgeschlagen, bitte erneut versuchen."},module_complete:"Abgeschlossen",module_locked:"Gesperrt",module_started:"Wird durchgeführt",module_unlocked:"Sperre aufgehoben",none_in_progress:"Kein Element in Bearbeitung",optgroup:{assignments:"Aufgaben",discussion_topics:"Diskussionen",external_tools:"Externe Tools",external_urls:"Externe URLs",files:"Dateien",quizzes:"Quizzes",wiki_pages:"Wikiseiten"},points_possible_short:"%{points} Pkt.",still_needs_completing:"Noch zu vervollständigen",titles:{add:"Modul hinzufügen",add_item:"Element hinzufügen für %{module}",add_prerequisite:"Vorbedingung hinzufügen für %{module}",edit:"Moduleinstellungen bearbeiten",edit_item:"Elementdetails bearbeiten",student_progress:"Studentenfortschritt für das Modul"}}},"en-AU":{context_modules:{buttons:{add:"Add Module",add_item:"Add Item",update:"Update Module"},confirm:{"delete":"Are you sure you want to delete this module?",delete_item:"Are you sure you want to remove this item from the module?"},context_module:{unpublish:"Unpublish"},context_modules:{publish:"Publish"},errors:{reorder:"Reorder failed, please try again."},module_complete:"Complete",module_locked:"Locked",module_started:"In Progress",module_unlocked:"Unlocked",none_in_progress:"none in progress",optgroup:{assignments:"Assignments",discussion_topics:"Discussions",external_tools:"External Tools",external_urls:"External URLs",files:"Files",quizzes:"Quizzes",wiki_pages:"Wiki Pages"},points_possible_short:"%{points} pts",still_needs_completing:"Still Needs to Complete",titles:{add:"Add Module",add_item:"Add Item to %{module}",add_prerequisite:"Add Prerequisite to %{module}",edit:"Edit Module Settings",edit_item:"Edit Item Details",student_progress:"Student Progress for Module"}}},"en-GB":{context_modules:{buttons:{add:"Add module",add_item:"Add item",update:"Update module"},confirm:{"delete":"Are you sure you want to delete this module?",delete_item:"Are you sure you want to remove this item from the module?"},context_module:{unpublish:"Unpublish"},context_modules:{publish:"Publish"},errors:{reorder:"Reorder failed, please try again."},module_complete:"Complete",module_locked:"Locked",module_started:"In progress",module_unlocked:"Unlocked",none_in_progress:"none in progress",optgroup:{assignments:"Assignments",discussion_topics:"Discussions",external_tools:"External tools",external_urls:"External URLs",files:"Files",quizzes:"Quizzes",wiki_pages:"Wiki pages"},points_possible_short:"%{points} pts",still_needs_completing:"Still needs to complete",titles:{add:"Add module",add_item:"Add item to %{module}",add_prerequisite:"Add prerequisite to %{module}",edit:"Edit module settings",edit_item:"Edit item details",student_progress:"Student progress for module"}}},es:{context_modules:{buttons:{add:"Agregar Módulo",add_item:"Agregar Elemento",update:"Actualizar Módulo"},confirm:{"delete":"¿Seguro que quiere borrar este módulo?",delete_item:"¿Seguro que quiere remover este elemento del módulo?"},context_module:{unpublish:"No publicar"},context_modules:{publish:"Publicar"},errors:{reorder:"Falló la reorganización, intente de nuevo."},module_complete:"Completo",module_locked:"Bloqueado",module_started:"En progreso",module_unlocked:"Desbloqueado",none_in_progress:"nada en progreso",optgroup:{assignments:"Tareas",discussion_topics:"Foros",external_tools:"Herramientas Externas",external_urls:"URLs Externos",files:"Archivos",quizzes:"Evaluaciones",wiki_pages:"Páginas Wiki"},points_possible_short:"%{points} pts",still_needs_completing:"Todavía necesita ser completado",titles:{add:"Agregar Módulo",add_item:"Agregar Elemento a %{module}",add_prerequisite:"Agregar Prerrequisitos a %{module}",edit:"Editar las Configuraciones del Módulo",edit_item:"Editar los Detalles del Elemento",student_progress:"Progreso del Estudiante para el Módulo"}}},"fa-IR":{context_modules:{buttons:{add:"افزودن ماژول",add_item:"افزودن مورد",update:"بهنگام سازی ماژول"},confirm:{"delete":"مطمئنید که می خواهید این ماژول حذف شود؟",delete_item:"مطمئنید که می خواهید این مورد از ماژول حذف شود؟"},context_module:{unpublish:"لغو انتشار"},context_modules:{publish:"انتشار"},errors:{reorder:"مرتب کردن دوباره انجام نشد، لطفا دوباره سعی کنید."},module_complete:"تکمیل است",module_locked:"قفل شده",module_started:"در حال پیشرفت",module_unlocked:"قفل گشایی شده",none_in_progress:"هیچ چیزی در حال پیشرفت نیست",optgroup:{assignments:"تکلیف ها",discussion_topics:"بحث ها",external_tools:"ابزارهای بیرونی",external_urls:"نشانی های اینترنتی بیرونی",files:"فایل ها",quizzes:"آزمون ها",wiki_pages:"صفحه های ویکی"},points_possible_short:"%{points} امتیاز",still_needs_completing:"هنوز نیاز به تکمیل دارد",titles:{add:"افزودن ماژول",add_item:"افزودن مورد به %{module}",add_prerequisite:"افزودن پیش نیاز به %{module}",edit:"ویرایش تنظیمات ماژول",edit_item:"ویرایش اطلاعات مورد",student_progress:"پیشرفت دانشجو در ماژول"}}},fr:{context_modules:{buttons:{add:"Ajouter un module",add_item:"Ajouter un élément",update:"Mettre à jour le module"},confirm:{"delete":"Voulez-vous vraiment supprimer ce module ?",delete_item:"Voulez-vous vraiment supprimer cet élément du module ?"},context_module:{unpublish:"Annuler la publication"},context_modules:{publish:"Publier"},errors:{reorder:"Échec du classement, veuillez réessayer"},module_complete:"Terminé",module_locked:"Verrouillé",module_started:"En cours",module_unlocked:"Déverrouillé",none_in_progress:"aucun en cours...",optgroup:{assignments:"Tâches",discussion_topics:"Discussions",external_tools:"Outils externes",external_urls:"URL externes",files:"Fichiers",quizzes:"Questionnaires",wiki_pages:"Pages Wiki"},points_possible_short:"%{points} points",still_needs_completing:"Doit encore terminer",titles:{add:"Ajouter un module",add_item:"Ajouter un élément à %{module}",add_prerequisite:"Ajouter des conditions préalables pour %{module}",edit:"Modifier les paramètres du module",edit_item:"Modifier les informations de l’élément",student_progress:"Progrès des étudiants pour le module"}}},ja:{context_modules:{buttons:{add:"モジュールの追加",add_item:"アイテムの追加",update:"モジュールの更新"},confirm:{"delete":"このモジュールを削除してもよろしいですか?",delete_item:"このアイテムをモジュールから削除してもよろしいですか?"},context_module:{unpublish:"未公開"},context_modules:{publish:"公開"},errors:{reorder:"並べ替えに失敗しました。もう一度やり直してください。"},module_complete:"完了",module_locked:"ロックされています",module_started:"進行中",module_unlocked:"ロック解除済み",none_in_progress:"進行中のものがありません",optgroup:{assignments:"課題",discussion_topics:"ディスカッション",external_tools:"外部ツール",external_urls:"外部 URL",files:"ファイル",quizzes:"クイズ",wiki_pages:"Wiki ページ"},points_possible_short:"%{points} 点",still_needs_completing:"完了までにまだ必要なもの",titles:{add:"モジュールの追加",add_item:"%{module} へのアイテムの追加",add_prerequisite:"%{module} への前提条件の追加",edit:"モジュール設定の編集",edit_item:"アイテムの詳細情報の編集",student_progress:"モジュールに対する受講生の進捗"}}},nb:{context_modules:{buttons:{add:"Legg til Modul",add_item:"Legg til element",update:"Oppdater Modul"},confirm:{"delete":"Er du sikker på at du ønsker å slette denne modulen?",delete_item:"Er du sikker på at du vil fjerne dette elementet fra modulen?"},context_module:{unpublish:"Depubliser"},context_modules:{publish:"Publiser"},errors:{reorder:"Ordning feilet, vennligst forsøk igjen."},module_complete:"Ferdig",module_locked:"Låst",module_started:"Pågår",module_unlocked:"Ulåst",none_in_progress:"ingen pågår",optgroup:{assignments:"Oppgaver",discussion_topics:"Diskusjoner",external_tools:"Eksterne verktøy",external_urls:"Eksterne URLer",files:"Filer",quizzes:"Prøver",wiki_pages:"Wiki-sider"},points_possible_short:"%{points} poeng",still_needs_completing:"Må gjøres ferdig",titles:{add:"Legg til Modul",add_item:"Legg til element til %{module}",add_prerequisite:"Legg til forhåndskrav til %{module}",edit:"Rediger Modulinnstillinger",edit_item:"Rediger elementet",student_progress:"Studentfremdrift for Modulen"}}},nl:{context_modules:{buttons:{add:"Module toevoegen",add_item:"Item toevoegen",update:"Module uploaden"},confirm:{"delete":"Weet je zeker dat je deze module wilt verwijderen?",delete_item:"Weet je zeker dat je dit item uit deze module wilt verwijderen?"},context_module:{unpublish:"Publicatie ongedaan maken"},context_modules:{publish:"Publiceren"},errors:{reorder:"Volgorde wijzigen mislukt, probeer opnieuw."},module_complete:"Voltooid",module_locked:"Vergrendeld",module_started:"Voortgang",module_unlocked:"Ontgrendeld",none_in_progress:"geen in voortgang",optgroup:{assignments:"Opdrachten",discussion_topics:"Discussies",external_tools:"Externe hulpprogramma's",external_urls:"Externe URL's",files:"Bestanden",quizzes:"Toetsen",wiki_pages:"Wiki-pagina's "},points_possible_short:"%{points} punten",still_needs_completing:"Moet nog  voltooid worden",titles:{add:"Module toevoegen",add_item:"Item toevoegen aan %{module}",add_prerequisite:"Vereiste toevoegen aan %{module}",edit:"Module-instellingen bewerken",edit_item:"Itemdetails bewerken",student_progress:"Studievoortgang voor module"}}},pl:{context_modules:{buttons:{add:"Dodaj moduł",add_item:"Dodaj element",update:"Aktualizuj moduł"},confirm:{"delete":"Czy na pewno chcesz usunąć ten moduł?",delete_item:"Czy na pewno chcesz usunąć ten element z modułu?"},context_module:{unpublish:"Cofnij publikowanie"},context_modules:{publish:"Publikuj"},errors:{reorder:"Zmiana kolejności nie powiodła się. Ponów próbę."},module_complete:"Gotowe",module_locked:"Zablokowany",module_started:"W trakcie",module_unlocked:"Odblokowane",none_in_progress:"żaden z elementów nie jest w toku",optgroup:{assignments:"Zadania",discussion_topics:"Dyskusje",external_tools:"Narzędzia zewnętrzne",external_urls:"Zewnętrzne adresy URL",files:"Pliki",quizzes:"Testy",wiki_pages:"Strony typu Wiki"},points_possible_short:"%{points} pkt",still_needs_completing:"Nadal oczekuje na ukończenie",titles:{add:"Dodaj moduł",add_item:"Dodaj element do modułu %{module}",add_prerequisite:"Dodaj warunek do %{module}",edit:"Edytuj ustawienia modułu",edit_item:"Edytuj szczegółowe informacje dot. elementu",student_progress:"Postęp uczestnika w module"}}},pt:{context_modules:{buttons:{add:"Adicionar módulo",add_item:"Adicionar item",update:"Atualizar módulo"},confirm:{"delete":"Tem certeza de que deseja excluir este módulo?",delete_item:"Tem certeza de que deseja remover este item do módulo?"},context_module:{unpublish:"Anular publicação"},context_modules:{publish:"Publicar"},errors:{reorder:"Falha na reordenação, tente novamente."},module_complete:"Completo",module_locked:"Bloqueado",module_started:"Em curso",module_unlocked:"Desbloqueado",none_in_progress:"nenhum em andamento",optgroup:{assignments:"Tarefas",discussion_topics:"Discussões",external_tools:"Ferramentas externas",external_urls:"URLs externos",files:"Arquivos",quizzes:"Testes",wiki_pages:"Páginas wiki"},points_possible_short:"%{points} pts",still_needs_completing:"Ainda precisa concluir",titles:{add:"Adicionar módulo",add_item:"Adicionar item a %{module}",add_prerequisite:"Adicionar prerrequisito a %{module}",edit:"Editar configurações do módulo",edit_item:"Editar detalhes do item",student_progress:"Progresso do aluno no módulo"}}},"pt-BR":{context_modules:{buttons:{add:"Adicionar módulo",add_item:"Adicionar item",update:"Atualizar módulo"},confirm:{"delete":"Tem certeza que deseja excluir este módulo?",delete_item:"Tem certeza que deseja remover este item do módulo?"},context_module:{unpublish:"Retirar da publicação"},context_modules:{publish:"Publicar"},errors:{reorder:"Falha na reordenação, tente novamente."},module_complete:"Completo",module_locked:"Travada",module_started:"Em andamento",module_unlocked:"Desbloqueado",none_in_progress:"nenhum em andamento",optgroup:{assignments:"Tarefas",discussion_topics:"Discussões",external_tools:"Ferramentas externas",external_urls:"URLs externas",files:"Arquivos",quizzes:"Testes",wiki_pages:"Páginas wiki"},points_possible_short:"%{points} pts",still_needs_completing:"Ainda precisa concluir",titles:{add:"Adicionar módulo",add_item:"Adicionar item a %{module}",add_prerequisite:"Adicionar prerrequisito a %{module}",edit:"Editar configurações do módulo",edit_item:"Editar detalhes do item",student_progress:"Progresso do aluno no módulo"}}},ru:{context_modules:{buttons:{add:"Добавить модуль",add_item:"Добавить элемент",update:"Обновить модуль"},confirm:{"delete":"Действительно хотите удалить этот модуль?",delete_item:"Действительно хотите удалить этот элемент из модуля?"},context_module:{unpublish:"Отметить публикацию"},context_modules:{publish:"Опубликовать"},errors:{reorder:"Сбой отметки, повторите попытку"},module_complete:"Завершить",module_locked:"Заблокировано",module_started:"Выполняется",module_unlocked:"Разблокировано",none_in_progress:"не выполняется",optgroup:{assignments:"Задания",discussion_topics:"Обсуждения",external_tools:"Внешние инструменты",external_urls:"Внешние URL-адреса",files:"Файлы",quizzes:"Контрольные работы",wiki_pages:"Вики-страницы"},points_possible_short:"%{points} pts",still_needs_completing:"Требуется завершить",titles:{add:"Добавить модуль",add_item:"Добавить элемент в %{module}",add_prerequisite:"Добавить предварительное условие к %{module}",edit:"Редактировать настройки модуля",edit_item:"Редактировать сведения об элементе",student_progress:"Ход выполнения студентом модуля"}}},tr:{context_modules:{buttons:{add:"Modül Ekle",add_item:"Öğe Ekle",update:"Modülü Güncelle"},confirm:{"delete":"Are you sure you want to delete this module?",delete_item:"Bu öğeyi modülden çıkarmak istediğinize emin misiniz?"},context_module:{unpublish:"Yayınlanmıyor"},context_modules:{publish:"Yayınla"},errors:{reorder:"Yeniden sıralama başarısız, lütfen tekrar deneyin"},module_complete:"Tamam",module_locked:"Kilitli",module_started:"Devam ediyor",module_unlocked:"Kilidi Kaldır",none_in_progress:"ilerlemede yok",optgroup:{assignments:"Ödevler",discussion_topics:"Tartışmalar",external_tools:"Harici Araçlar",external_urls:"Harici Web adresleri",files:"Dosyalar",quizzes:"Kısa sınavlar",wiki_pages:"Wiki Sayfaları"},points_possible_short:"%{points} puanlar",still_needs_completing:"Hala Tamamlaması Gerek",titles:{add:"Modül Ekle",add_item:"%{module} Modülüne Öğe Ekle",add_prerequisite:"%{module} modülüne ön koşul ekle",edit:"Modül Ayarlarını Düzenle",edit_item:"Öğe ayrıntılarını düzenle",student_progress:"Modüldeki Öğrenci Durumu"}}},zh:{context_modules:{buttons:{add:"添加单元",add_item:"添加项目",update:"更新单元"},confirm:{"delete":"是否确定要删除此单元?",delete_item:"是否确定要从该单元删除此项目?"},context_module:{unpublish:"取消发布"},context_modules:{publish:"发布"},errors:{reorder:"重新排序失败，请重试。"},module_complete:"完成",module_locked:"已锁定",module_started:"正在进行",module_unlocked:"解锁",none_in_progress:"无进展",optgroup:{assignments:"作业",discussion_topics:"讨论",external_tools:"外部工具",external_urls:"外部 URL",files:"文件",quizzes:"测验",wiki_pages:"维基页面"},points_possible_short:"%{points} 分",still_needs_completing:"仍需完成",titles:{add:"添加单元",add_item:"添加项目到 %{module}",add_prerequisite:"添加先修课程到 %{module}",edit:"编辑单元设置",edit_item:"编辑项目详细信息",student_progress:"学生学习单元的进度"}}},zh_Hant:{context_modules:{buttons:{add:"新增模組",add_item:"新增項目",update:"更新模組"},confirm:{"delete":"是否確定要刪除此模組？",delete_item:"是否確定要從模組移除此項目？"},context_module:{unpublish:"解除發佈"},context_modules:{publish:"發佈"},errors:{reorder:"重新排序失敗，請再試一次。"},module_complete:"完成",module_locked:"已鎖定",module_started:"進行中",module_unlocked:"已解除鎖定",none_in_progress:"無進行中的任何事項",optgroup:{assignments:"任務",discussion_topics:"討論",external_tools:"外部工具",external_urls:"外部 URL",files:"檔案",quizzes:"測驗",wiki_pages:"Wiki 頁面"},points_possible_short:"%{points} 點",still_needs_completing:"仍需完成",titles:{add:"新增模組",add_item:"新增項目至 %{module}",add_prerequisite:"新增先決條件至 %{module}",edit:"編輯模組設定",edit_item:"編輯項目詳細資料",student_progress:"學生的模組進度"}}}}})
}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,i=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e};define("compiled/views/context_modules/context_modules",["Backbone","jquery","i18n!context_modules","jquery.loadingImg"],function(t,o,n){var s,l;return s=function(t){function s(){return this.onKeyDown=e(this.onKeyDown,this),this.error=e(this.error,this),this.success=e(this.success,this),this.toggleWorkflowState=e(this.toggleWorkflowState,this),l=s.__super__.constructor.apply(this,arguments)}return i(s,t),s.optionProperty("modules"),s.prototype.toggleWorkflowState=function(e){var t,i,n=this;return e.preventDefault(),this.$context_module=o(e.target).parents(".context_module"),t=this.$context_module.data("module-url"),this.workflow_state=this.$context_module.data("workflow-state"),i={url:t,type:"PUT",beforeSend:function(){return n.$context_module.loadingImage()},success:this.success,error:this.error},this.setRequestPublishOptions(i),o.ajax(i)},s.prototype.success=function(e){return this.$context_module.data("workflow-state",e.context_module.workflow_state),"unpublished"===e.context_module.workflow_state?this.addUnpublishAttributes():this.addPublishAttributes(),this.$context_module.loadingImage("remove")},s.prototype.error=function(){return alert("This module could not be published"),this.$context_module.loadingImage("remove")},s.prototype.setRequestPublishOptions=function(e){return e.data="active"===this.workflow_state?"unpublish=1":"publish=1"},s.prototype.addUnpublishAttributes=function(){return this.$context_module.find(".workflow-state-action").text(n.t("context_modules.publish","Publish")),this.$context_module.find(".workflow-state-icon").addClass("publish-module-link").removeClass("unpublish-module-link"),this.$context_module.find(".draft-text").removeClass("hide"),this.$context_module.addClass("unpublished_module")},s.prototype.addPublishAttributes=function(){return this.$context_module.find(".workflow-state-action").text(n.t("context_module.unpublish","Unpublish")),this.$context_module.find(".workflow-state-icon").addClass("unpublish-module-link").removeClass("publish-module-link"),this.$context_module.find(".draft-text").addClass("hide"),this.$context_module.removeClass("unpublished_module")},s.prototype.keyCodes={32:"Space",38:"UpArrow",40:"DownArrow"},s.prototype.moduleSelector="div.context_module",s.prototype.itemSelector="table.context_module_item",s.prototype.initialize=function(){return s.__super__.initialize.apply(this,arguments),this.$contextModules=o("#context_modules"),this.$contextModules.parent().on("keydown",this.onKeyDown)},s.prototype.onKeyDown=function(e){var t,i;return t=o(e.target),i="on"+this.keyCodes[e.keyCode]+"Key",this[i]?(e.preventDefault(),this[i].call(this,e,t)):void 0},s.prototype.getFocusedElement=function(e){var t;return t=e.parents(this.itemSelector).first(),this.empty(t)||(e=t),e.is(this.itemSelector)||(t=e.parents(this.moduleSelector).first(),this.empty(t)||(e=t),e.is(this.moduleSelector)||(e=this.$contextModules)),e},s.prototype.onUpArrowKey=function(e,t){var i,o,n;return i=this.getFocusedElement(t),i.is(this.itemSelector)?(n=i.prev(this.itemSelector),(this.empty(n)||this.$contextModules.data("dragModule"))&&(n=i.parents(this.moduleSelector).first())):i.is(this.moduleSelector)&&(this.$contextModules.data("dragItem")?n=this.$contextModules.data("dragItemModule"):(n=i.prev(this.moduleSelector),this.empty(n)?n=this.$contextModules:this.$contextModules.data("dragModule")||(o=n.find(this.itemSelector).last(),this.empty(o)||(n=o)))),n&&!this.empty(n)?n.focus():void 0},s.prototype.onDownArrowKey=function(e,t){var i,o,n;return i=this.getFocusedElement(t),i.is(this.itemSelector)?(o=i.next(this.itemSelector),this.empty(o)&&!this.$contextModules.data("dragItem")&&(n=i.parents(this.moduleSelector).first(),o=n.next(this.moduleSelector))):i.is(this.moduleSelector)?(o=i.find(this.itemSelector).first(),(this.empty(o)||this.$contextModules.data("dragModule"))&&(o=i.next(this.moduleSelector))):o=this.$contextModules.find(this.moduleSelector).first(),o&&!this.empty(o)?o.focus():void 0},s.prototype.onSpaceKey=function(e,t){var i,o,n,s;return n=this.getFocusedElement(t),(i=this.$contextModules.data("dragItem"))?(n.is(i)||(s=this.$contextModules.data("dragItemModule"),n.is(this.itemSelector)&&!this.empty(n.parents(s))?n.after(i):s.find(".items").prepend(i),modules.updateModuleItemPositions(null,{item:i.parent()})),i.attr("aria-grabbed",!1),this.$contextModules.data("dragItem",null),this.$contextModules.data("dragItemModule",null),i.focus()):(o=this.$contextModules.data("dragModule"))?(n.is(this.itemSelector)&&(n=n.parents(this.moduleSelector).first()),n.is(o)||(this.empty(n)||n.is(this.$contextModules)?this.$contextModules.prepend(o):n.after(o),modules.updateModulePositions()),o.attr("aria-grabbed",!1),this.$contextModules.data("dragModule",null),o.focus()):n.is(this.$contextModules)?void 0:(n.attr("aria-grabbed",!0),n.is(this.itemSelector)?(this.$contextModules.data("dragItem",n),this.$contextModules.data("dragItemModule",n.parents(this.moduleSelector).first())):n.is(this.moduleSelector)&&this.$contextModules.data("dragModule",n),n.blur(),n.focus())},s.prototype.empty=function(e){return 0===e.length},s}(t.View)})}.call(this),function(){define("compiled/util/vddTooltip",["jquery"],function(e){return function(){return e(".vdd_tooltip_link").tooltip({position:{my:"center bottom",at:"center top-10",collision:"fit fit"},tooltipClass:"center bottom vertical",content:function(){return e(e(this).data("tooltipSelector")).html()}})}})}.call(this),define("jst/_vddTooltip",["compiled/handlebars_helpers"],function(e){var t=e.template,i=e.templates=e.templates||{};return i._vddTooltip=t(function(e,t,i,o,n){function s(e,t){var o,n,s="";return s+='href="',(n=i.link_href)?o=n.call(e,{hash:{},data:t}):(n=e&&e.link_href,o=typeof n===_?n.call(e,{hash:{},data:t}):n),s+=c(o)+'"'}function l(e,t){var o,n,s="";return s+='\n      <div class="clearfix">\n        <dt>',(n=i.due_for)?o=n.call(e,{hash:{},data:t}):(n=e&&e.due_for,o=typeof n===_?n.call(e,{hash:{},data:t}):n),s+=c(o)+"</dt>\n        <dd>",(n=i.due_at)?o=n.call(e,{hash:{},data:t}):(n=e&&e.due_at,o=typeof n===_?n.call(e,{hash:{},data:t}):n),s+=c(o)+"</dd>\n      </div>\n    "}function d(e,t){var o,n,s="";return s+='\n      <div class="clearfix">\n        <dd>',(n=i.more_message)?o=n.call(e,{hash:{},data:t}):(n=e&&e.more_message,o=typeof n===_?n.call(e,{hash:{},data:t}):n),s+=c(o)+"</dd>\n      </div>\n    "}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var u,r,a="",_="function",c=this.escapeExpression,m=this;return a+='<a title class="vdd_tooltip_link"\n  data-tooltip-selector="#vdd_tooltip_',(r=i.selector)?u=r.call(t,{hash:{},data:n}):(r=t&&t.selector,u=typeof r===_?r.call(t,{hash:{},data:n}):r),a+=c(u)+'"\n  ',u=i["if"].call(t,t&&t.link_href,{hash:{},inverse:m.noop,fn:m.program(1,s,n),data:n}),(u||0===u)&&(a+=u),a+="\n  >",(r=i.link_text)?u=r.call(t,{hash:{},data:n}):(r=t&&t.link_text,u=typeof r===_?r.call(t,{hash:{},data:n}):r),a+=c(u)+'</a>\n\n<div id="vdd_tooltip_',(r=i.selector)?u=r.call(t,{hash:{},data:n}):(r=t&&t.selector,u=typeof r===_?r.call(t,{hash:{},data:n}):r),a+=c(u)+'" style="display:none;">\n  <dl class="vdd_tooltip_content dl-horizontal">\n    ',u=i.each.call(t,t&&t.due_dates,{hash:{},inverse:m.noop,fn:m.program(3,l,n),data:n}),(u||0===u)&&(a+=u),a+="\n    ",u=i["if"].call(t,t&&t.more_message,{hash:{},inverse:m.noop,fn:m.program(5,d,n),data:n}),(u||0===u)&&(a+=u),a+="\n  </dl>\n</div>"}),e.registerPartial("vddTooltip",i._vddTooltip),i._vddTooltip}),define("translations/publishable",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{publishable:{cant_unpublish:"لا يمكن إلغاء النشر"}},de:{publishable:{cant_unpublish:"Veröffentlichung kann nicht rückgängig gemacht werden"}},"en-AU":{publishable:{cant_unpublish:"Can't unpublish"}},"en-GB":{publishable:{cant_unpublish:"Can't unpublish"}},es:{publishable:{cant_unpublish:"No se puede ocultar"}},"fa-IR":{publishable:{cant_unpublish:"انتشار نمی تواند لغو شود"}},fr:{publishable:{cant_unpublish:"Impossible d’annuler la publication"}},ja:{publishable:{cant_unpublish:"未公開にできません"}},nb:{publishable:{cant_unpublish:"Kan ikke fjerne publisering"}},nl:{publishable:{cant_unpublish:"Kan publicatie niet ongedaan maken"}},pl:{publishable:{cant_unpublish:"Nie można cofnąć publikacji"}},pt:{publishable:{cant_unpublish:"Não é possível anular a publicação"}},"pt-BR":{publishable:{cant_unpublish:"Não é possível cancelar publicação"}},ru:{publishable:{cant_unpublish:"Невозможно отменить публикацию"}},tr:{publishable:{cant_unpublish:"Yayınlanamıyor"}},zh:{publishable:{cant_unpublish:"无法取消发布"}},zh_Hant:{publishable:{cant_unpublish:"無法解除發佈"}}}})}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,i=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e};define("compiled/models/Publishable",["Backbone","underscore","i18n!publishable"],function(t,o,n){var s,l;return s=function(t){function s(){return this.unpublish=e(this.unpublish,this),this.publish=e(this.publish,this),l=s.__super__.constructor.apply(this,arguments)}return i(s,t),s.prototype.initialize=function(e,t){return this._root=t.root,this.set("unpublishable",!0)},s.prototype.publish=function(){return this.set("published",!0),this.save()},s.prototype.unpublish=function(){return this.set("published",!1),this.save()},s.prototype.disabledMessage=function(){return n.t("cant_unpublish","Can't unpublish")},s.prototype.toJSON=function(){var e;return e={},e[this._root]=o.clone(this.attributes),e},s}(t.Model)})}.call(this),define("context_modules",["compiled/models/PublishableModuleItem","compiled/views/PublishIconView","INST","i18n!context_modules","jquery","compiled/views/context_modules/context_modules","compiled/util/vddTooltip","jst/_vddTooltip","compiled/models/Publishable","compiled/views/PublishButtonView","jquery.ajaxJSON","jquery.instructure_date_and_time","jquery.instructure_forms","jqueryui/dialog","compiled/jquery/fixDialogButtons","jquery.instructure_misc_helpers","jquery.instructure_misc_plugins","jquery.keycodes","jquery.loadingImg","jquery.templateData","vendor/date","vendor/jquery.scrollTo","jqueryui/sortable"],function(e,t,i,o,n,s,l,d,u,r){function a(e,t){var i={moduleType:t.type,id:t.publishable_id,moduleId:t.context_module_id,courseId:t.context_id,published:t.published,publishable:t.publishable,unpublishable:t.unpublishable};_(e.find(".publish-icon"),i)}function _(i,o){o=o||i.data();var n=new e({module_type:o.moduleType,content_id:o.contentId,id:o.id,module_id:o.moduleId,module_item_id:o.moduleItemId,course_id:o.courseId,published:o.published,publishable:o.publishable,unpublishable:o.unpublishable}),s=new t({model:n,el:i[0]}),l=i.closest(".ig-row");return o.published&&l.addClass("ig-published"),n.on("change:published",function(){s.$el.closest(".ig-row").toggleClass("ig-published",n.get("published")),s.render()}),s.render(),s}function c(e){if(null===e)return null;var t=e.attributes||e,i=n.underscore(t.module_type||t.type),o=t.content_id||t.id;return i=m[i]||i,i&&"module"!==i?("wiki_page"==i?(i="wiki_page",o=t.page_url||t.id):("context_module_sub_header"===i||"external_url"===i||"context_external_tool"==i)&&(o=t.id),i+"_"+o):null}window.modules=function(){return{updateTaggedItems:function(){},currentIndent:function(e){var t=e.attr("class").split(/\s/),i=0;for(idx=0;idx<t.length;idx++)if(t[idx].match(/^indent_/)){var o=parseInt(t[idx].substring(7),10);isNaN(o)||(i=o)}return i},updateModulePositions:function(){var e=[];n("#context_modules .context_module").each(function(){e.push(n(this).attr("id").substring("context_module_".length))});var t=n(".reorder_modules_url").attr("href");n("#context_modules").loadingImage(),n.ajaxJSON(t,"POST",{order:e.join(",")},function(e){n("#context_modules").loadingImage("remove");for(var t in e){var i=e[t];n("#context_module_"+i.context_module.id).triggerHandler("update",i)}},function(){n("#context_modules").loadingImage("remove")})},updateModuleItemPositions:function(e,t){var i=t.item.parents(".context_module"),s=i.find(".reorder_items_url").attr("href"),l=[];i.find(".context_module_items .context_module_item").each(function(){l.push(n(this).getTemplateData({textValues:["id"]}).id)}),i.find(".context_module_items.ui-sortable").sortable("disable"),i.disableWhileLoading(n.ajaxJSON(s,"POST",{order:l.join(",")},function(e){if(e&&e.context_module&&e.context_module.content_tags)for(var t in e.context_module.content_tags){var o=e.context_module.content_tags[t].content_tag;i.find("#context_module_item_"+o.id).fillTemplateData({data:{position:o.position}})}i.find(".context_module_items.ui-sortable").sortable("enable")},function(){i.find(".content").loadingImage("remove"),i.find(".content").errorBox(o.t("errors.reorder","Reorder failed, please try again."))}))},refreshProgressions:function(e){ENV.NO_MODULE_PROGRESSIONS||(n("#context_modules .context_module:visible").each(function(){var e=n(this),t=e.find(".header").getTemplateData({textValues:["id"]}),i={progression_complete_count:0,progression_started_count:0};n("#progression_list .progression_"+t).each(function(){var e=n(this).getTemplateData({textValues:["workflow_state"]}).workflow_state;"completed"==e?i.progression_complete_count++:("unlocked"==e||"started"==e)&&i.progression_started_count++}),e.find(".progression_details_link").showIf(i.progression_complete_count||i.progression_started_count),e.find(".footer").fillTemplateData({data:i}).find(".progression_details_link").showIf(i.progression_complete_count||i.progression_started_count).end().find(".progression_complete").showIf(i.progression_complete_count>0).end().find(".progression_started").showIf(i.progression_started_count>0)}),n(".context_module .progression_complete").showIf(n(".context_module .prerequisites_footer:visible,.context_module_item .criterion img.not_blank").length>0),e&&(n(".loading_module_progressions_link").remove(),n(".module_progressions_link").showIf(n(".editable_context_module").length>0||n(".context_module .progression_complete:visible").length>0||n(".context_module_item.completed_item").length>0)))},updateProgressions:function(e,t){var i=n(".progression_list_url").attr("href");e&&(i=i+"?user_id="+e),n(".context_module_item.progression_requirement:visible").length>0&&n(".loading_module_progressions_link").show().attr("disabled",!0),n.ajaxJSON(i,"GET",{},function(i){n(".loading_module_progressions_link").remove(),e?n("#progression_list .student_"+e+" .progressions").empty():n("#progression_list .student .progressions").empty();var o=n("#identity .user_id").text(),s=n("#progression_list_blank"),l=n("#current_user_progression_list"),d=n("#progression_list"),u={},r=[];for(var a in i)r.push(i[a]);var _=function(){n("#context_modules").hasClass("editable")||n("#context_modules .context_module").each(function(){modules.updateProgressionState(n(this))}),modules.refreshProgressions(!e),t&&t()},c=0,m=function(){var e=r.shift();if(!e)return void _();var t=e.context_module_progression;if(t.user_id==o){var i=l.find(".progression_"+t.context_module_id);0===i.length&&l.length>0&&(i=l.find(".progression_blank").clone(!0),i.removeClass("progression_blank").addClass("progression_"+t.context_module_id),l.append(i)),i.length>0&&(t.requirements_met=n.map(t.requirements_met||[],function(e){return e.id}).join(","),i.fillTemplateData({data:t}))}var a=s.clone(!0).removeAttr("id");a.fillTemplateData({data:t}),a.addClass("progression_"+t.context_module_id),a.data("progression",t);var p=u[t.user_id];p||(p=d.find(".student_"+t.user_id+" .progressions"),u[t.user_id]=p),p.append(a),("unlocked"==t.workflow_state||"started"==t.workflow_state)&&(u[t.user_id].found||(u[t.user_id].found=!0,p.parents(".student").fillTemplateData({data:{current_module:n("#context_module_"+t.context_module_id+" .header .name").text()}}))),c++,c>=50?(c=0,setTimeout(m,150)):m()};m()},function(){t&&t()})},updateAssignmentData:function(){n.ajaxJSON(n(".assignment_info_url").attr("href"),"GET",{},function(e){n.each(e,function(e,t){$context_module_item=n("#context_module_item_"+e);var i={};null!=t.points_possible&&(i.points_possible_display=o.t("points_possible_short","%{points} pts",{points:""+t.points_possible})),null!=t.due_date?i.due_date_display=n.dateString(t.due_date):null!=t.vdd_tooltip&&(t.vdd_tooltip.link_href=$context_module_item.find("a.title").attr("href"),$context_module_item.find(".due_date_display").html(d(t.vdd_tooltip))),$context_module_item.fillTemplateData({data:i,htmlValues:["points_possible_display"]})}),l()},function(){})},itemClass:function(e){return(e.content_type||"").replace(/^[A-Za-z]+::/,"")+"_"+e.content_id},updateAllItemInstances:function(e){n(".context_module_item."+modules.itemClass(e)+" .title").each(function(){$this=n(this),$this.text(e.title),$this.attr("title",e.title)})},showMoveModuleItem:function(e){var t=e.closest(".context_module"),i=n("#move_module_item_form");i.data("current_module",t),i.data("current_item",e),n("#move_module_item_name").text(e.children().find("span.title").text());var o=[];n("#context_modules .context_module").each(function(){var e=n(this).attr("id").substring("context_module_".length),t=n(this).children(".header").children(".collapse_module_link").children(".name").text();o.push('<option value="'+e+'">'+t+"</option>")}),n("#move_module_item_module_select").empty(),n("#move_module_item_module_select").append(o.join("")),n("#move_module_item_module_select").trigger("change"),n("#move_module_item_form .move-module-before-after-container").show(),n("#move_module_item_select").show(),i.dialog({autoOpen:!1,modal:!0,width:600,height:300,close:function(){modules.hideMoveModule(!0)}}).dialog("open")},showMoveModule:function(e){var t=n("#move_context_module_form");t.data("current_module",e),n("#move_module_name").text(e.children(".header").children(".collapse_module_link").children(".name").text());var i=[];n("#context_modules .context_module").each(function(){if(e.attr("id")!==n(this).attr("id")){var t=n(this).attr("id").substring("context_module_".length),o=n(this).children(".header").children(".collapse_module_link").children(".name").text();i.push('<option value="'+t+'">'+o+"</option>")}});e.getTemplateData({textValues:["name","unlock_at","require_sequential_progress","publish_final_grade"]});n("#move_context_module_select").empty(),n("#move_context_module_select").append(i.join("")),t.dialog({autoOpen:!1,modal:!0,width:600,height:300,close:function(){modules.hideMoveModule(!0)}}).dialog("open"),e.removeClass("dont_remove")},hideMoveModuleItem:function(){n("#move_module_item_form:visible").dialog("close")},hideMoveModule:function(){n("#move_context_module_form:visible").dialog("close")},submitMoveModuleItem:function(){var e=n('[name="item_move_location"]:checked').val(),t=n("#move_module_item_form").data("current_item"),i=n("#move_module_item_select").val(),o=n("#move_module_item_module_select").val();"before"===e&&n("#context_module_item_"+i).before(t),"after"===e&&n("#context_module_item_"+i).after(t),0===n("#move_module_item_select").children().length&&n("#context_module_content_"+o+" .context_module_items").append(t),modules.hideMoveModuleItem(),modules.updateModuleItemPositions(null,{item:t})},submitMoveModule:function(){var e=n('[name="move_location"]:checked').val(),t=n("#move_context_module_form").data("current_module"),i=n("#move_context_module_select").val();"before"===e&&n("#context_module_"+i).before(t),"after"===e&&n("#context_module_"+i).after(t),modules.hideMoveModule(),modules.updateModulePositions()},editModule:function(e){var t=n("#add_context_module_form");t.data("current_module",e);var i=e.getTemplateData({textValues:["name","unlock_at","require_sequential_progress","publish_final_grade"]});t.fillFormData(i,{object_name:"context_module"});var s=!1;"context_module_new"==e.attr("id")?(s=!0,t.attr("action",t.find(".add_context_module_url").attr("href")),t.find(".completion_entry").hide(),t.attr("method","POST"),t.find(".submit_button").text(o.t("buttons.add","Add Module"))):(t.attr("action",e.find(".edit_module_link").attr("href")),t.find(".completion_entry").show(),t.attr("method","PUT"),t.find(".submit_button").text(o.t("buttons.update","Update Module"))),t.find("#unlock_module_at").prop("checked",i.unlock_at).change(),t.find("#require_sequential_progress").attr("checked","true"==i.require_sequential_progress||"1"==i.require_sequential_progress),t.find("#publish_final_grade").attr("checked","true"==i.publish_final_grade||"1"==i.publish_final_grade),t.find(".prerequisites_entry").showIf(n("#context_modules .context_module").length>1);var l=[];e.find(".prerequisites .criterion").each(function(){l.push(n(this).getTemplateData({textValues:["id","name","type"]}))}),t.find(".prerequisites_list .criteria_list").empty();for(var d in l){var u=l[d];t.find(".add_prerequisite_link:first").click(),"context_module"==u.type&&t.find(".prerequisites_list .criteria_list .criterion:last select").val(u.id)}t.find(".completion_criteria_list .criteria_list").empty(),e.find(".content .context_module_item .criterion.defined").each(function(){var e=n(this).parents(".context_module_item").getTemplateData({textValues:["id","criterion_type","min_score"]});t.find(".add_completion_criterion_link").click(),t.find(".completion_criteria_list .criteria_list .criterion:last").find(".id").val(e.id||"").change().end().find(".type").val(e.criterion_type||"").change().end().find(".min_score").val(e.min_score||"")});var r=1==n("#context_modules .context_module").length,a=0===e.find(".content .context_module_item").length;t.find(".prerequisites_list .no_prerequisites_message").showIf(0===l.length).end().find(".prerequisites_list .criteria_list").showIf(0!=l.length).end().find(".add_prerequisite_link").showIf(!r).end().find(".completion_criteria_list .no_items_message").showIf(a).end().find(".completion_criteria_list .no_criteria_message").showIf(!a&&0===e.find(".content .context_module_item .criterion.defined").length).end().find(".completion_criteria_list .criteria_list").showIf(!a).end().find(".add_completion_criterion_link").showIf(!a),e.fadeIn("fast",function(){}),e.addClass("dont_remove"),t.find(".module_name").toggleClass("lonely_entry",s),t.dialog({autoOpen:!1,modal:!0,width:600,close:function(){modules.hideEditModule(!0)}}).fixDialogButtons().dialog("option",{title:s?o.t("titles.add","Add Module"):o.t("titles.edit","Edit Module Settings"),width:s?"auto":600}).dialog("open"),e.removeClass("dont_remove")},hideEditModule:function(e){var t=n("#add_context_module_form").data("current_module");e&&t&&"context_module_new"==t.attr("id")&&!t.hasClass("dont_remove")&&t.remove(),n("#add_context_module_form:visible").dialog("close")},addItemToModule:function(e,t){if(!t)return n("<div/>");t.id=t.id||"new",t.type=t.type||t["item[type]"]||n.underscore(t.content_type),t.title=t.title||t["item[title]"],t.new_tab=t.new_tab?"1":"0",t.graded=t.graded?"1":"0";var i,o="new"!=t.id?n("#context_module_item_"+t.id):[];if(o.length){var s=o.find(".ig-admin");s.length&&s.detach(),i=o.clone(!0),s.length&&i.find(".ig-row").append(s)}else i=n("#context_module_item_blank").clone(!0).removeAttr("id");i.addClass(t.type+"_"+t.id),i.addClass(t.type),i.attr("aria-label",t.title),i.find(".title").attr("title",t.title),i.fillTemplateData({data:t,id:"context_module_item_"+t.id,hrefValues:["id","context_module_id"]});for(var l=0;10>l;l++)i.removeClass("indent_"+l);i.addClass("indent_"+(t.indent||0)),i.addClass(modules.itemClass(t));var d=null;return e.find(".context_module_items").children().each(function(){var e=parseInt(n(this).getTemplateData({textValues:["position"]}).position,10);!t.position&&0!==t.position||!e&&0!==e||null==d&&e-t.position>=0&&(d=n(this))}),o.length?o.replaceWith(i.show()):d?d.before(i.show()):e.find(".context_module_items").append(i.show()),i},refreshModuleList:function(){n("#module_list").find(".context_module_option").remove(),n("#context_modules .context_module").each(function(){$this=n(this);var e=$this.find(".header").getTemplateData({textValues:["name","id"]});$this.find(".name").attr("title",e.name);var t=n(document.createElement("option"));t.val(e.id),t.attr("role","option").text("the module, "+e.name).addClass("context_module_"+e.id).addClass("context_module_option"),n("#module_list").append(t)})},filterPrerequisites:function(e,t){var i=modules.prerequisites(),o=e.attr("id").substring("context_module_".length),s=[];for(var l in t)-1==n.inArray(t[l],i[o])&&s.push(t[l]);return s},prerequisites:function(){var e={to_visit:{},visited:{}};n("#context_modules .context_module").each(function(){var t=n(this).attr("id").substring("context_module_".length);e[t]=[],n(this).find(".prerequisites .criterion").each(function(){var i=n(this).getTemplateData({textValues:["id"]}).id;n(this).hasClass("context_module_criterion")&&(e[t].push(i),e.to_visit[t+"_"+i]=!0)})});for(var t in e.to_visit)if(e.to_visit.hasOwnProperty(t)){var i=t.split("_");if(e.visited[t])continue;e.visited[t]=!0;for(var o in e[i[1]])e[i[0]].push(e[i[1]][o]),e.to_visit[i[0]+"_"+e[i[1]][o]]=!0}return delete e.to_visit,delete e.visited,e},updateProgressionState:function(e){var t=e.attr("id").substring(15),i=n("#current_user_progression_list .progression_"+t),o=i.getTemplateData({textValues:["context_module_id","workflow_state","requirements_met","collapsed","current_position"]}),e=n("#context_module_"+o.context_module_id);e.toggleClass("completed","completed"==o.workflow_state);var s=o.workflow_state;if(("unlocked"==s||"started"==s)&&(s="in progress"),"completed"!=s||e.find(".progression_requirement").length||(s=""),e.fillTemplateData({data:{progression_state:s}}),e.toggleClass("locked_module","locked"==o.workflow_state&&!e.hasClass("editable_context_module")),e.find(".context_module_item").each(function(){var e=parseInt(n(this).getTemplateData({textValues:["position"]}).position,10);o.current_position&&e&&o.current_position<e&&n(this).addClass("after_current_position")}),o.requirements_met){var l=o.requirements_met.split(",");for(var d in l){var u=l[d];e.find("#context_module_item_"+u).addClass("completed_item")}}"true"==o.collapsed&&e.addClass("collapsed_module")},sortable_module_options:{connectWith:".context_module_items",handle:".move_item_link",helper:"clone",placeholder:"context_module_placeholder",forcePlaceholderSize:!0,axis:"y",containment:"#context_modules"}}}(),modules.initModuleManagement=function(){var e=(new s({el:n("#content"),modules:modules}),n("#context_module_unlock_at")),t="";n("#unlock_module_at").change(function(){$this=n(this);var i=n(".unlock_module_at_details");i.showIf($this.attr("checked")),$this.attr("checked")?e.val()||e.val(t):(t=e.val(),e.val("").triggerHandler("change"))}).triggerHandler("change"),n(".context_module").bind("update",function(e,t){t.context_module.displayed_unlock_at=n.datetimeString(t.context_module.unlock_at);var i=n("#context_module_"+t.context_module.id);i.attr("aria-label",t.context_module.name),i.find(".header").fillTemplateData({data:t.context_module,hrefValues:["id"]}),i.find(".footer").fillTemplateData({data:t.context_module,hrefValues:["id"]}),i.find(".unlock_details").showIf(t.context_module.unlock_at&&Date.parse(t.context_module.unlock_at)>new Date),i.find(".footer .prerequisites").empty();for(var o in t.context_module.prerequisites){var s=t.context_module.prerequisites[o],l=n("#display_criterion_blank").clone(!0).removeAttr("id");l.fillTemplateData({data:s}),i.find(".footer .prerequisites").append(l.show())}i.find(".context_module_items .context_module_item").removeClass("progression_requirement").removeClass("min_score_requirement").removeClass("max_score_requirement").removeClass("must_view_requirement").removeClass("must_submit_requirement").removeClass("must_contribute_requirement").find(".criterion").removeClass("defined"),i.find(".ig-row").removeClass("with-completion-requirements");for(var o in t.context_module.completion_requirements){var d=t.context_module.completion_requirements[o];d.criterion_type=d.type;var u=i.find("#context_module_item_"+d.id);u.find(".ig-row").addClass("with-completion-requirements"),u.find(".criterion").fillTemplateData({data:d}),u.find(".completion_requirement").fillTemplateData({data:d}),u.find(".criterion").addClass("defined"),u.addClass(d.type+"_requirement").addClass("progression_requirement")}i.find(".prerequisites_footer").showIf(t.context_module.prerequisites&&t.context_module.prerequisites.length>0),modules.refreshModuleList()}),n("#add_context_module_form").formSubmit({object_name:"context_module",required:["name"],processData:function(e){var t=[];return n(this).find(".prerequisites_list .criteria_list .criterion").each(function(){var e=n(this).find(".option select").val();e&&t.push("module_"+e)}),e["context_module[prerequisites]"]=t.join(","),e["context_module[completion_requirements][none]"]="none",n(this).find(".completion_criteria_list .criteria_list .criterion").each(function(){var t=n(this).find(".id").val();e["context_module[completion_requirements]["+t+"][type]"]=n(this).find(".type").val(),e["context_module[completion_requirements]["+t+"][min_score]"]=n(this).find(".min_score").val()}),e},beforeSubmit:function(e){var t=n(this).data("current_module");return t.loadingImage(),t.find(".header").fillTemplateData({data:e}),t.addClass("dont_remove"),modules.hideEditModule(),t.removeClass("dont_remove"),t},success:function(e,t){t.loadingImage("remove"),t.attr("id","context_module_"+e.context_module.id),t.data("moduleId",e.context_module.id),t.data("module-url","/courses/"+e.context_module.context_id+"/modules/"+e.context_module.id),t.data("workflow-state",e.context_module.workflow_state),"unpublished"==e.context_module.workflow_state&&(t.find(".workflow-state-action").text("Publish"),t.find(".workflow-state-icon").addClass("publish-module-link").removeClass("unpublish-module-link"),t.addClass("unpublished_module")),n("#no_context_modules_message").slideUp();var i=t.find(".publish-icon");if(ENV.ENABLE_DRAFT&&!i.data("id")){var o=function(i,o){el=t.find(i),el.attr(o,el.attr(o).replace("{{ id }}",e.context_module.id))};o("span.collapse_module_link","href"),o("span.expand_module_link","href"),o(".reorder_items_url","href"),o(".add_module_item_link","rel");var s={moduleType:"module",id:e.context_module.id,courseId:e.context_module.context_id,published:"published"==e.context_module.workflow_state,publishable:!0};_(i,s)}t.triggerHandler("update",e)},error:function(e,t){t.loadingImage("remove")}}),n("#add_context_module_form .add_prerequisite_link").click(function(e){e.preventDefault();var t=n(this).parents("#add_context_module_form"),i=t.data("current_module"),o=n("#module_list").clone(!0).removeAttr("id"),s=t.find("#criterion_blank").clone(!0).removeAttr("id");o.find("."+i.attr("id")).remove();var l=[];n("#context_modules .context_module").each(function(){(n(this)[0]==i[0]||l.length>0)&&l.push(n(this).getTemplateData({textValues:["id"]}).id)});for(var d in l)o.find(".context_module_"+l[d]).attr("disabled",!0);s.find(".option").empty().append(o.show()),t.find(".prerequisites_list .criteria_list").append(s).show(),s.slideDown(),t.find(".no_prerequisites_message").hide(),o.focus()}),n("#add_context_module_form .add_completion_criterion_link").click(function(e){e.preventDefault();var t=n(this).parents("#add_context_module_form"),i=t.data("current_module"),s=n("#completion_criterion_option").clone(!0).removeAttr("id"),l=s.find("select.id"),d=t.find("#criterion_blank").clone(!0).removeAttr("id");d.find(".prereq_desc").remove();var u=(modules.prerequisites(),{});i.find(".content .context_module_item").not(".context_module_sub_header").each(function(){var e=n(this).getTemplateData({textValues:["id","title","type"]});
"assignment"==e.type?displayType=o.t("optgroup.assignments","Assignments"):"attachment"==e.type?displayType=o.t("optgroup.files","Files"):"quiz"==e.type?displayType=o.t("optgroup.quizzes","Quizzes"):"external_url"==e.type?displayType=o.t("optgroup.external_urls","External URLs"):"context_external_tool"==e.type?displayType=o.t("optgroup.external_tools","External Tools"):"discussion_topic"==e.type?displayType=o.t("optgroup.discussion_topics","Discussions"):"wiki_page"==e.type&&(displayType=o.t("optgroup.wiki_pages","Wiki Pages"));var t=u[displayType];t||(t=u[displayType]=n(document.createElement("optgroup")),t.attr("label",displayType),l.append(t));var i=e.title,s=n(document.createElement("option"));s.val(e.id).text(i),t.append(s)}),d.find(".option").empty().append(s),s.slideDown(),t.find(".completion_criteria_list .criteria_list").append(d).show(),d.slideDown(),t.find(".no_criteria_message").hide(),l.change().focus()}),n("#completion_criterion_option .id").change(function(){var e=n(this).parents(".completion_criterion_option"),t=n("#context_module_item_"+n(this).val()).getTemplateData({textValues:["type","graded"]});e.find(".type option").hide().attr("disabled",!0).end().find(".type option.any").show().attr("disabled",!1).end().find(".type option."+t.type).show().attr("disabled",!1),"1"==t.graded&&e.find(".type option.graded").show().attr("disabled",!1),e.find(".type").val(e.find(".type option."+t.criterion_type+":first").val()),e.find(".type").change()}),n("#completion_criterion_option .type").change(function(){var e=n(this).parents(".completion_criterion_option");e.find(".min_score_box").showIf("min_score"==n(this).val());var t=e.find(".id").val(),i=n.trim(n("#context_module_item_"+t+" .points_possible_display").text().split(" ")[0]);i.length>0?(e.find(".points_possible").text(i),e.find(".points_possible_parent").show()):e.find(".points_possible_parent").hide()}),n("#add_context_module_form .delete_criterion_link").click(function(e){e.preventDefault(),n(this).parents(".criterion").slideUp(function(){n(this).remove()})}),n(".delete_module_link").live("click",function(e){e.preventDefault(),n(this).parents(".context_module").confirmDelete({url:n(this).attr("href"),message:o.t("confirm.delete","Are you sure you want to delete this module?"),success:function(e){var t=e.context_module.id;n(".context_module .prerequisites .criterion").each(function(){var e=n(this).getTemplateData({textValues:["id","type"]});"context_module"==e.type&&e.id==t&&n(this).remove()}),n(this).slideUp(function(){n(this).remove(),modules.updateTaggedItems()})}})}),n(".outdent_item_link,.indent_item_link").live("click",function(e){e.preventDefault();var t=n(this).hasClass("indent_item_link"),i=n(this).parents(".context_module_item"),o=modules.currentIndent(i);o=Math.max(Math.min(o+(t?1:-1),5),0),i.loadingImage({image_size:"small"}),n.ajaxJSON(n(this).attr("href"),"PUT",{"content_tag[indent]":o},function(e){i.loadingImage("remove");var t=n("#context_module_"+e.content_tag.context_module_id);modules.addItemToModule(t,e.content_tag),t.find(".context_module_items.ui-sortable").sortable("refresh"),modules.updateAssignmentData()},function(){})}),n(".edit_item_link").live("click",function(e){e.preventDefault();var t=n(this).parents(".context_module_item"),i=t.getTemplateData({textValues:["title","url","indent","new_tab"]});i.indent=modules.currentIndent(t),n("#edit_item_form").find(".external").showIf(t.hasClass("external_url")||t.hasClass("context_external_tool")),n("#edit_item_form").attr("action",n(this).attr("href")),n("#edit_item_form").fillFormData(i,{object_name:"content_tag"}),n("#edit_item_form").dialog({title:o.t("titles.edit_item","Edit Item Details")}).fixDialogButtons()}),n("#edit_item_form .cancel_button").click(function(){n("#edit_item_form").dialog("close")}),n("#edit_item_form").formSubmit({beforeSubmit:function(){n(this).loadingImage()},success:function(e){n(this).loadingImage("remove");{var t=n("#context_module_"+e.content_tag.context_module_id);modules.addItemToModule(t,e.content_tag)}t.find(".context_module_items.ui-sortable").sortable("refresh"),0!=e.content_tag.content_id&&"ContextExternalTool"!=e.content_tag.content_type&&modules.updateAllItemInstances(e.content_tag),modules.updateAssignmentData(),n(this).dialog("close")},error:function(e){n(this).loadingImage("remove"),n(this).formErrors(e)}}),n(".delete_item_link").live("click",function(e){e.preventDefault(),n(this).parents(".context_module_item").confirmDelete({url:n(this).attr("href"),message:o.t("confirm.delete_item","Are you sure you want to remove this item from the module?"),success:function(){n(this).slideUp(function(){n(this).remove(),modules.updateTaggedItems()})}})}),n("#move_module_item_module_select").on("change",function(e){n("#move_module_item_select").empty();var t=n(e.currentTarget.selectedOptions).val(),i=n(this).parents("#move_module_item_form").data("current_item").attr("id"),o=[];n("#context_module_"+t).children().find(".context_module_item").each(function(e,t){if(n(t).attr("id")!==i){var s=n(t).attr("id").substring("context_module_item_".length),l=n(t).children().find("span.title").text();o.push('<option value="'+s+'">'+l+"</option>")}}),n("#move_module_item_select").append(o.join("")),0===n("#move_module_item_select").children().length&&(n("#move_module_item_form .move-module-before-after-container").hide(),n("#move_module_item_select").hide())}),n(".move_module_item_link").on("click keyclick",function(e){e.preventDefault(),modules.showMoveModuleItem(n(this).parents(".context_module_item"))}),n("#move_module_item_form").on("submit",function(e){e.preventDefault(),modules.submitMoveModuleItem()}),n(".move_module_link").on("click keyclick",function(e){e.preventDefault(),modules.showMoveModule(n(this).parents(".context_module"))}),n("#move_context_module_form").on("submit",function(e){e.preventDefault(),modules.submitMoveModule()}),n("#move_module_cancel_btn").on("click keyclick",function(){modules.hideMoveModule()}),n("#move_module_item_cancel_btn").on("click keyclick",function(){modules.hideMoveModuleItem()}),n(".icon-drag-handle").on("focus",function(e){n(e.currentTarget).siblings(".drag_and_drop_warning").show()}),n(".icon-drag-handle").on("blur",function(e){n(e.currentTarget).siblings(".drag_and_drop_warning").hide()}),n(".edit_module_link").live("click",function(e){e.preventDefault(),modules.editModule(n(this).parents(".context_module"))}),n(".add_module_link").live("click",function(e){e.preventDefault();var t=n("#context_module_blank").clone(!0).attr("id","context_module_new");n("#context_modules").append(t);var i=modules.sortable_module_options;i.update=modules.updateModuleItemPositions,t.find(".context_module_items").sortable(i),n("#context_modules.ui-sortable").sortable("refresh"),n("#context_modules .context_module .context_module_items.ui-sortable").each(function(){n(this).sortable("refresh"),n(this).sortable("option","connectWith",".context_module_items")}),modules.editModule(t)}),n(".add_module_item_link").on("click",function(e){e.preventDefault();var t=n(e.currentTarget);t.blur();var s=n(this).closest(".context_module");if(s.hasClass("collapsed_module"))return void s.find(".expand_module_link").triggerHandler("click",function(){s.find(".add_module_item_link").click()});if(i&&i.selectContentDialog){var l=n(this).parents(".context_module").find(".header").getTemplateData({textValues:["name","id"]}),d={for_modules:!0};d.select_button_text=o.t("buttons.add_item","Add Item"),d.holder_name=l.name,d.height=550,d.width=770,d.dialog_title=o.t("titles.add_item","Add Item to %{module}",{module:l.name}),d.close=function(){t.focus()},d.submit=function(e){var t=n("#context_module_"+l.id),i=modules.addItemToModule(t,e);t.find(".context_module_items.ui-sortable").sortable("refresh").sortable("disable");var o=t.find(".add_module_item_link").attr("rel");t.disableWhileLoading(n.ajaxJSON(o,"POST",e,function(o){i.remove(),o.content_tag.type=e["item[type]"],i=modules.addItemToModule(t,o.content_tag),t.find(".context_module_items.ui-sortable").sortable("enable").sortable("refresh"),ENV.ENABLE_DRAFT&&a(i,o.content_tag),modules.updateAssignmentData()}))},i.selectContentDialog(d)}}),n("#add_module_prerequisite_dialog .cancel_button").click(function(){n("#add_module_prerequisite_dialog").dialog("close")}),n(".delete_prerequisite_link").live("click",function(e){e.preventDefault();var t=n(this).parents(".criterion"),i=[];n(this).parents(".context_module .prerequisites .criterion").each(function(){if(n(this)[0]!=t[0]){var e=n(this).getTemplateData({textValues:["id","type"]}),o="context_module"==e.type?"module":e.type;i.push(o+"_"+e.id)}});var o=n(this).parents(".context_module").find(".edit_module_link").attr("href"),s={"context_module[prerequisites]":i.join(",")};t.dim(),n.ajaxJSON(o,"PUT",s,function(e){n("#context_module_"+e.context_module.id).triggerHandler("update",e)})}),n("#add_module_prerequisite_dialog .submit_button").click(function(){var e=n("#add_module_prerequisite_dialog .prerequisite_module_select select").val();if(e){n("#add_module_prerequisite_dialog").loadingImage();var t=[];t.push("module_"+e);var i=n("#context_module_"+n("#add_module_prerequisite_dialog").getTemplateData({textValues:["context_module_id"]}).context_module_id);i.find(".prerequisites .criterion").each(function(){t.push("module_"+n(this).getTemplateData({textValues:["id","name","type"]}).id)});var o=i.find(".edit_module_link").attr("href"),s={"context_module[prerequisites]":t.join(",")};n.ajaxJSON(o,"PUT",s,function(e){n("#add_module_prerequisite_dialog").loadingImage("remove"),n("#add_module_prerequisite_dialog").dialog("close"),n("#context_module_"+e.context_module.id).triggerHandler("update",e)},function(e){n("#add_module_prerequisite_dialog").loadingImage("remove"),n("#add_module_prerequisite_dialog").formErrors(e)})}}),n(".context_module .add_prerequisite_link").live("click",function(e){e.preventDefault();var t=n(this).parents(".context_module").find(".header").getTemplateData({textValues:["name","id"]});n("#add_module_prerequisite_dialog").fillTemplateData({data:{module_name:t.name,context_module_id:t.id}});var i=n(this).parents(".context_module"),s=n("#module_list").clone(!0).removeAttr("id");s.find("."+i.attr("id")).remove();var l=[];n("#context_modules .context_module").each(function(){(n(this)[0]==i[0]||l.length>0)&&l.push(n(this).getTemplateData({textValues:["id"]}).id)});for(var d in l)s.find(".context_module_"+l[d]).attr("disabled",!0);n("#add_module_prerequisite_dialog").find(".prerequisite_module_select").empty().append(s.show()),n("#add_module_prerequisite_dialog").dialog({title:o.t("titles.add_prerequisite","Add Prerequisite to %{module}",{module:t.name}),width:400})}),n("#add_context_module_form .cancel_button").click(function(){modules.hideEditModule(!0)}),setTimeout(function(){var e=[];n("#context_modules .context_module_items").each(function(){e.push(n(this))});var t=function(){if(e.length>0){var i=e.shift(),o=modules.sortable_module_options;o.update=modules.updateModuleItemPositions,i.sortable(o),setTimeout(t,10)}};t(),n("#context_modules").sortable({handle:".reorder_module_link",helper:"clone",containment:"#context_modules_sortable_container",axis:"y",update:modules.updateModulePositions}),modules.refreshModuleList(),modules.refreshed=!0},1e3)};var m={page:"wiki_page",discussion:"discussion_topic",external_tool:"context_external_tool",sub_header:"context_module_sub_header"},p={},h=function(e,t){var i,o,n,s;if(o=p[c(e)||c(t)])for(i=0;i<o.length;i++)n=o[i],s=n.model.parse(e),n.model.set({published:s.published})},b=function(e){var t=e.publish,i=e.unpublish;e.publish=function(){return t.apply(e,arguments).done(function(){e.fetch({data:{include:"items"}}).done(function(t){for(var i=0;i<t.items.length;i++)h(t.items[i],e)})})},e.unpublish=function(){return i.apply(e,arguments).done(function(){e.fetch({data:{include:"items"}}).done(function(t){for(var i=0;i<t.items.length;i++)h(t.items[i],e)})})}},f=function(e){var t=e.publish,i=e.unpublish;e.publish=function(){return t.apply(e,arguments).done(function(t){h(n.extend({published:!0},t),e)})},e.unpublish=function(){return i.apply(e,arguments).done(function(t){h(n.extend({published:!1},t),e)})}},g=function(e,t){var i=c(e);null===i?b(e):f(e),p[i]||(p[i]=[]),p[i].push({model:e,view:t})};return n(document).ready(function(){ENV.ENABLE_DRAFT&&n(".publish-icon:visible").each(function(e,t){var i=_(n(t));g(i.model,i)}),n(".external_url_link").click(function(){window.location=n(this).attr("data-item-href")}),n(".datetime_field").datetime_field(),n(".context_module").live("mouseover",function(){n(".context_module_hover").removeClass("context_module_hover"),n(this).addClass("context_module_hover")}),n(".context_module_item").live("mouseover focus",function(){n(".context_module_item_hover").removeClass("context_module_item_hover"),n(this).addClass("context_module_item_hover")});var e=null,t=function(e){e.hasClass("context_module")?(n(".context_module_hover").removeClass("context_module_hover"),n(".context_module_item_hover").removeClass("context_module_item_hover"),e.addClass("context_module_hover")):e.hasClass("context_module_item")&&(n(".context_module_item_hover").removeClass("context_module_item_hover"),n(".context_module_hover").removeClass("context_module_hover"),e.addClass("context_module_item_hover"),e.parents(".context_module").addClass("context_module_hover")),e.find(":tabbable:first").focus()};n(document).keycodes("j k",function(i){if(e=n(".context_module_hover:visible,.context_module_item_hover:visible").filter(":last"),0===e.length)return e=n(".context_module:visible:first"),void t(e);var o=null;"j"==i.keyString?e.hasClass("context_module")?(o=e.find(".context_module_item:visible:first"),0===o.length&&(o=e.next(".context_module"))):e.hasClass("context_module_item")&&(o=e.next(".context_module_item:visible"),0===o.length&&(o=e.parents(".context_module").next(".context_module"))):"k"==i.keyString&&(e.hasClass("context_module")?(o=e.prev(".context_module").find(".context_module_item:visible:last"),0===o.length&&(o=e.prev(".context_module"))):e.hasClass("context_module_item")&&(o=e.prev(".context_module_item:visible"),0===o.length&&(o=e.parents(".context_module")))),o&&o.length>0&&(e=o),t(e)}).keycodes("e d i o",function(t){e&&0!==e.length&&("e"==t.keyString?e.find(".edit_link:first:visible").click():"d"==t.keyString?e.find(".delete_link:first:visible").click():"i"==t.keyString?e.find(".indent_item_link:first:visible").click():"o"==t.keyString&&e.find(".outdent_item_link:first:visible").click())}).keycodes("n",function(e){"n"==e.keyString&&n(".add_module_list:visible:first").click()}),0==n(".context_module:first .content:visible").length&&n("html,body").scrollTo(n(".context_module .content:visible").filter(":first").parents(".context_module")),n("#context_modules").hasClass("editable")&&setTimeout(modules.initModuleManagement,1e3),modules.updateProgressions(),modules.refreshProgressions(),modules.updateAssignmentData(),n(".context_module").find(".expand_module_link,.collapse_module_link").bind("click keyclick",function(e,t){e.preventDefault();var i=null;t&&n.isFunction(t)&&(i=t,t=null);var o=n(this).hasClass("collapse_module_link")?"1":"0",s=n(this).parents(".context_module"),l=0===s.find(".content .context_module_items").children().length,d=function(e){var t=function(){s.find(".collapse_module_link").css("display",s.find(".content:visible").length>0?"inline-block":"none"),s.find(".expand_module_link").css("display",0===s.find(".content:visible").length?"inline-block":"none"),s.find(".content:visible").length>0?(s.find(".footer .manage_module").css("display",""),s.toggleClass("collapsed_module",!1),s.find(".collapse_module_link").focus()):(s.find(".footer .manage_module").css("display",""),s.toggleClass("collapsed_module",!0),s.find(".expand_module_link").focus()),i&&n.isFunction(i)&&i()};e?(s.find(".content").show(),t()):s.find(".content").slideToggle(t)};(l||t)&&s.loadingImage();var u=n(this).attr("href");t&&(u=s.find(".edit_module_link").attr("href")),n.ajaxJSON(u,t?"GET":"POST",{collapse:o},function(e){if(t){s.loadingImage("remove");var i=e,o=function(){var e=i.shift();e?(modules.addItemToModule(s,e.content_tag),o()):(s.find(".context_module_items.ui-sortable").sortable("refresh"),d(!0),modules.updateProgressionState(s),n("#context_modules").triggerHandler("slow_load"))};o()}else if(l){s.loadingImage("remove");for(var u in e)modules.addItemToModule(s,e[u].content_tag);s.find(".context_module_items.ui-sortable").sortable("refresh"),d(),modules.updateProgressionState(s)}},function(){s.loadingImage("remove")}),"1"!=o&&l||d()}),n(".refresh_progressions_link").click(function(e){e.preventDefault(),n(this).addClass("refreshing");var t=n(this),i=n("#student_progression_dialog").find(".student.selected_side_tab:first").getTemplateData({textValues:["id"]}).id;i&&modules.updateProgressions(i,function(){t.removeClass("refreshing"),t.blur(),n("#student_progression_dialog").find(".student.selected_side_tab:first").click()})}),n("#student_progression_dialog").delegate(".student","click",function(e){n("#student_progression_dialog").find(".selected_side_tab").removeClass("selected_side_tab"),n(this).addClass("selected_side_tab"),e.preventDefault();var t=n(this).getTemplateData({textValues:["id"]}).id,i=n("#progression_list .student_"+t+":first");n("#context_modules .context_module:visible").each(function(){var e=n(this),t=e.find(".header").getTemplateData({textValues:["id","name"]}),s=n("#student_progression_dialog .module_"+t.id);t.progress=i.find(".progression_"+t.id+":first").getTemplateData({textValues:["workflow_state"]}).workflow_state,t.progress=t.progress||"no information";var l="nothing";if("unlocked"==t.progress?(l="in_progress",t.progress="in progress"):"started"==t.progress?(l="in_progress",t.progress="in progress"):"completed"==t.progress?l="completed":"locked"==t.progress&&(l="locked"),s.find(".still_need_completing").empty(),"in progress"==t.progress){var d=n("#context_module_"+t.id+" .context_module_item.progression_requirement"),u=i.find(".progression_"+t.id).data("progression"),r=[];d.each(function(){var e=n(this),t={id:e.attr("id").substring(20)};e.hasClass("must_view_requirement")?t.type="must_view":e.hasClass("min_score_requirement")?t.type="min_score":e.hasClass("max_score_requirement")?t.type="max_score":e.hasClass("must_contribute_requirement")?t.type="must_contribute":e.hasClass("must_submit_requirement")&&(t.type="must_submit");var i=!1;if(u&&u.requirements_met)for(var o=0;o<u.requirements_met.length;o++){var s=u.requirements_met[o];s.id==t.id&&s.type==t.type&&(i=!0)}i||r.push(e.find(".title:first").text())}),s.find(".still_need_completing").append("<b>"+o.t("still_needs_completing","Still Needs to Complete")+"</b><br/>").append(r.join("<br/>"))}s.removeClass("locked").removeClass("in_progress").removeClass("completed").addClass(l),t.progressString=t.progress,s.fillTemplateData({data:t})})}),n(".module_progressions_link").click(function(e){e.preventDefault();var t=n("#student_progression_dialog"),i=t.find(".student_list");i.find(".student:not(.blank)").remove(),t.find(".side_tabs_content tbody .module:not(.blank)").remove();var s=n("#context_modules .context_module:visible"),l=[];s.each(function(){var e=n(this),t=e.attr("id").substring(15);l.push(t)}),n("#progression_list .student").each(function(){var e=t.find(".student.blank:first").clone(!0).removeClass("blank"),s=n(this),l=s.getTemplateData({textValues:["name","id","current_module"]});l.current_module=l.current_module||o.t("none_in_progress","none in progress"),e.find("a").attr("href","#"+l.id),e.fillTemplateData({data:l}),i.append(e.show())}),s.each(function(){var e=n(this),i=e.find(".header").getTemplateData({textValues:["id","name"]}),o=t.find(".module.blank:first").clone(!0).removeClass("blank");o.addClass("module_"+i.id),o.fillTemplateData({data:i}),t.find(".side_tabs_content tbody").append(o.show())}),n("#student_progression_dialog").dialog({width:800,open:function(){n(this).find(".student:not(.blank):first .name").click()}})}),n(".context_module .progression_details_link").click(function(e){e.preventDefault();var t=n(this).parents(".context_module").find(".header").getTemplateData({textValues:["id","name"]});t.module_name=t.name;var i=n("#module_progression_dialog");i.fillTemplateData({data:t}),i.find("ul").empty(),i.find(".progression_list").hide(),n("#progression_list .student").each(function(){var e=n(this).find(".progressions .progression_"+t.id),o=e.getTemplateData({textValues:["context_module_id","workflow_state"]});o.workflow_state=o.workflow_state||"locked",o.name=n(this).getTemplateData({textValues:["name"]}).name,i.find("."+o.workflow_state+"_list").show().find("ul").show().append(n("<li />").text(o.name))}),n("#module_progression_dialog").dialog({title:o.t("titles.student_progress","Student Progress for Module"),width:500})}),n(document).fragmentChange(function(e,t){if("#student_progressions"==t)n(".module_progressions_link").trigger("click");else{var i=n(t.replace(/module/,"context_module"));i.hasClass("collapsed_module")&&i.find(".expand_module_link").triggerHandler("click")}});var i=!1,s=ENV.COLLAPSED_MODULES;for(var l in s)n("#context_module_"+s[l]).addClass("collapsed_module");var d=[],a=n("#context_modules .context_module");a.length||n("#no_context_modules_message").show(),a.each(function(){modules.updateProgressionState(n(this))}),a.filter(":visible").each(function(){n(this).find(".content:visible").length>0?i=!0:i&&d.push(n(this))}),n("#context_modules").bind("slow_load",function(){var e=d.shift();e&&e.find(".expand_module_link:first").triggerHandler("click",!0)}),n(".module-publish-link").each(function(e,t){var i=n(t),o=new u({published:i.hasClass("published"),id:i.attr("data-id")},{url:i.attr("data-url"),root:"module"}),s=new r({model:o,el:i});s.render()})}),modules}),function(){require(["jquery","context_modules"],function(e){return ENV.NO_MODULE_PROGRESSIONS?e(".module_progressions_link").remove():void 0})}.call(this),define("compiled/bundles/context_modules",function(){});