(function(){var e={}.hasOwnProperty,t=function(t,n){function a(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return a.prototype=n.prototype,t.prototype=new a,t.__super__=n.prototype,t};define("compiled/calendar/CalendarEvent",["jquery","underscore","Backbone","compiled/str/splitAssetString"],function(e,n,a,i){var d,r;return d=function(d){function l(){return r=l.__super__.constructor.apply(this,arguments)}return t(l,d),l.prototype.urlRoot="/api/v1/calendar_events/",l.prototype.dateAttributes=["created_at","end_at","start_at","updated_at"],l.prototype._filterAttributes=function(e){var t;return t=n(e).pick("start_at","end_at","title","description","context_code","remove_child_events","location_name","location_address"),e.use_section_dates&&e.child_event_data&&(t.child_event_data=n.chain(e.child_event_data).compact().filter(this._hasValidInputs).map(this._filterAttributes).value()),t},l.prototype._hasValidInputs=function(e){return!!e.start_at||e.start_date&&!!e.start_time==!!e.end_time},l.prototype.toJSON=function(){return{calendar_event:this._filterAttributes(l.__super__.toJSON.apply(this,arguments))}},l.prototype.present=function(){return a.Model.prototype.toJSON.call(this)},l.prototype.fetch=function(t){var i,d,r,o,s,c,_;return null==t&&(t={}),t=n.clone(t),r=this,s=t.success,delete t.success,d=null!=(_=t.error)?_:function(){},delete t.error,this.get("id")&&(c=(this.sync||a.sync).call(this,"read",this,t)),this.get("sections_url")&&(o=e.getJSON(this.get("sections_url"))),i=function(e,a){var i,d,o,c,_;return null==e&&(e=[]),null==a&&(a=[]),o=e[0],c=e[1],_=e[2],d=a[0],i=l.mergeSectionsIntoCalendarEvent(o,n.sortBy(d,"id")),r.set(r.parse(i),t)?"function"==typeof s?s(r,i):void 0:!1},e.when(c,o).fail(d).done(i)},l.mergeSectionsIntoCalendarEvent=function(e,t){var a;return null==e&&(e={}),e.course_sections=t,e.use_section_dates=!!(null!=(a=e.child_events)?a.length:void 0),n(e.child_events).each(function(a,d){var r,o;return a=e.child_events[d]=l.prototype.parse(a),o=i(a.context_code)[1],r=n(t).find(function(e){return e.id===o}),r.event=a}),e},l}(a.Model)})}).call(this),define("translations/calendar.edit",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{calendar:{edit:{confirm_delete_calendar_event:"هل تريد بالتأكيد حذف حدث التقويم هذا؟",event_deleted:"تم حذف %{event_title} بنجاح",event_saved:"تم حفظ الحدث بنجاح",missingDueDate:{one:"لم يتم تعيين تاريخ استحقاق لعدد %{sections} من الأقسام.",other:"لم يتم تعيين تاريخ استحقاق لـ %{sections} أقسام."},titles:{warning:"تحذير"}}}},de:{calendar:{edit:{confirm_delete_calendar_event:"Wollen Sie diesen Kalenderevent wirklich löschen?",event_deleted:"%{event_title} erfolgreich gelöscht",event_saved:"Event erfolgreich gespeichert",missingDueDate:{one:"%{sections} wurde kein Abgabetermin zugeordnet.",other:"%{sections} wurde kein Abgabetermin zugeordnet."},titles:{warning:"Warnung"}}}},"en-AU":{calendar:{edit:{confirm_delete_calendar_event:"Are you sure you want to delete this calendar event?",event_deleted:"%{event_title} deleted successfully",event_saved:"Event Saved Successfully",missingDueDate:{one:"%{sections} do not have a due date assigned.",other:"%{sections} do not have a due date assigned."},titles:{warning:"Warning"}}}},"en-GB":{calendar:{edit:{confirm_delete_calendar_event:"Are you sure you want to delete this calendar event?",event_deleted:"%{event_title} deleted successfully",event_saved:"Event saved successfully",missingDueDate:{one:"%{sections} does not have a due date assigned.",other:"%{sections} do not have a due date assigned."},titles:{warning:"Warning"}}}},es:{calendar:{edit:{confirm_delete_calendar_event:"¿Está seguro de que quiere borrar este evento del calendario?",event_deleted:"%{event_title} borrado correctamente",event_saved:"Evento guardado correctamente",missingDueDate:{one:"%{sections} no tiene una fecha de vencimiento asignada.",other:"%{sections} no tienen una fecha de vencimiento asignada."},titles:{warning:"Aviso"}}}},"fa-IR":{calendar:{edit:{confirm_delete_calendar_event:"مطمئنید که می خواهید این رویداد تقویم حذف شود؟",event_deleted:"%{event_title} با موفقیت حذف شد",event_saved:"رویداد با موفقیت ذخیره شد",missingDueDate:{one:"%{sections} تاریخ مهلت اختصاص داده شده ندارند.",other:"%{sections} تاریخ مهلت اختصاص داده شده ندارند."},titles:{warning:"هشدار"}}}},fr:{calendar:{edit:{confirm_delete_calendar_event:"Voulez-vous vraiment supprimer cet événement de calendrier ?",event_deleted:"%{event_title} a été correctement supprimé.",event_saved:"L’événement a bien été enregistré.",missingDueDate:{one:"%{sections} n’a pas de date d’échéance.",other:"%{sections} n’ont pas de date d’échéance"},titles:{warning:"Avertissement"}}}},ja:{calendar:{edit:{confirm_delete_calendar_event:"このカレンダー イベントを削除してもよろしいですか?",event_deleted:"%{event_title} は正常に削除されました",event_saved:"イベントは正常に保存されました",missingDueDate:{one:"%{sections} には期日が割り当てられていません。",other:"%{sections} には期日が割り当てられていません。"},titles:{warning:"警告"}}}},nb:{calendar:{edit:{confirm_delete_calendar_event:"Er du sikker på at du ønsker å slette denne kalenderhendelsen?",event_deleted:"%{event_title} ble slettet",event_saved:"Hendelsen ble lagret",missingDueDate:{one:"%{sections} har ingen angitt frist.",other:"%{sections} har ingen angitt frist."},titles:{warning:"Advarsel"}}}},nl:{calendar:{edit:{confirm_delete_calendar_event:"Weet je  zeker dat je dit evenement, vermeld op de kalender, wilt verwijderen?",event_deleted:"%{event_title}Succesvol verwijderd",event_saved:"Evenement succesvol opgeslagen",missingDueDate:{one:"%{sections} heeft geen vervaldatum.",other:"%{sections} hebben geen toegewezen inleverdatum."},titles:{warning:"Waarschuwing"}}}},pl:{calendar:{edit:{confirm_delete_calendar_event:"Czy na pewno chcesz usunąć to wydarzenie z kalendarza?",event_deleted:"Wydarzenie %{event_title} usunięte z powodzeniem",event_saved:"Wydarzenie zapisane z powodzeniem",missingDueDate:{one:"Do %{sections} sekcji nie przypisano terminu dostarczenia.",other:"Do %{sections} sekcji nie przypisano terminu dostarczenia."},titles:{warning:"Ostrzeżenie"}}}},pt:{calendar:{edit:{confirm_delete_calendar_event:"Tem a certeza de que pretende eliminar este evento do calendário?",event_deleted:"%{event_title} eliminado com sucesso",event_saved:"Evento guardado com sucesso",missingDueDate:{one:"%{sections} não tem uma data de entrega atribuída.",other:"%{sections} não têm uma data de entrega atribuída."},titles:{warning:"Aviso"}}}},"pt-BR":{calendar:{edit:{confirm_delete_calendar_event:"Tem certeza que deseja excluir este evento do calendário?",event_deleted:"%{event_title} excluído com sucesso",event_saved:"Evento salvo com sucesso",missingDueDate:{one:"%{sections} não tem uma data de entrega atribuída.",other:"%{sections} não têm uma data de entrega atribuída."},titles:{warning:"Aviso"}}}},ru:{calendar:{edit:{confirm_delete_calendar_event:"Вы уверены, что хотите удалить это событие календаря?",event_deleted:"%{event_title} удалено успешно",event_saved:"Событие успешно сохранено",missingDueDate:{one:"Для раздела %{sections} не назначена дата выполнения.",other:"Для разделов %{sections} не назначена дата выполнения."},titles:{warning:"Предупреждение"}}}},tr:{calendar:{edit:{confirm_delete_calendar_event:"Bu takvim etkinliğini silmek istediğinize emin misiniz?",event_deleted:"%{event_title} başarıyla silindi",event_saved:"Olay Başarıyla Kaydedildi",missingDueDate:{one:"%{sections} için atanmış bir bitiş tarihi yok.",other:"%{sections} için atanmış bir bitiş tarihi yok."},titles:{warning:"Uyarı"}}}},zh:{calendar:{edit:{confirm_delete_calendar_event:"是否确定要删除此日历事件?",event_deleted:"%{event_title} 已成功删除",event_saved:"事件已成功保存",missingDueDate:{one:"%{sections} 没有指定的截止时间。",other:"%{sections} 没有指定的截止时间。"},titles:{warning:"警告"}}}},zh_Hant:{calendar:{edit:{confirm_delete_calendar_event:"是否確定要刪除此月曆事件？",event_deleted:"%{event_title} 已成功删除",event_saved:"事件儲存成功",missingDueDate:{one:"%{sections} 沒有指定截止日期。",other:"%{sections} 沒有指定截止日期。"},titles:{warning:"警告"}}}}}})}),define("translations/calendar.edit_calendar_event_full",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{buttons:{cancel:"إلغاء"},calendar:{edit_calendar_event_full:{buttons:{create:"إنشاء حدث",update:"تحديث حدث"},date:"التاريخ","delete":"حذف",different_date_for_each_section:"استخدم تاريخًا مختلفًا لكل قسم",edit_calendar_event_header:"تحرير حدث التقويم",end_time:"وقت النهاية",event_description:"وصف الحدث",event_title:"عنوان الحدث",location_address:"العنوان:",location_name:"الموقع:",new_calendar_event_header:"حدث جديد في التقويم",start_time:"وقت البداية"}},editor:{switch_editor_html:"محرر HTML",switch_editor_rich_text:"Rich Content Editor"}},de:{buttons:{cancel:"Abbrechen"},calendar:{edit_calendar_event_full:{buttons:{create:"Event erstellen",update:"Event aktualisieren"},date:"Datum","delete":"Löschen",different_date_for_each_section:"Für jeden Abschnitt ein anderes Datum verwenden",edit_calendar_event_header:"Kalenderevent bearbeiten",end_time:"Endzeit",event_description:"Eventbeschreibung",event_title:"Eventtitel",location_address:"Adresse:",location_name:"Ort:",new_calendar_event_header:"Neues Kalenderevent",start_time:"Anfangszeit"}},editor:{switch_editor_html:"HTML-Editor",switch_editor_rich_text:"Rich-Content-Editor"}},"en-AU":{buttons:{cancel:"Cancel"},calendar:{edit_calendar_event_full:{buttons:{create:"Create Event",update:"Update Event"},date:"Date","delete":"Delete",different_date_for_each_section:"Use a different date for each section",edit_calendar_event_header:"Edit Calendar Event",end_time:"End Time",event_description:"Event Description",event_title:"Event Title",location_address:"Address:",location_name:"Location:",new_calendar_event_header:"New Calendar Event",start_time:"Start Time"}},editor:{switch_editor_html:"HTML Editor",switch_editor_rich_text:"Rich Content Editor"}},"en-GB":{buttons:{cancel:"Cancel"},calendar:{edit_calendar_event_full:{buttons:{create:"Create event",update:"Update event"},date:"Date","delete":"Delete",different_date_for_each_section:"Use a different date for each section",edit_calendar_event_header:"Edit calendar event",end_time:"End time",event_description:"Event description",event_title:"Event title",location_address:"Address:",location_name:"Location:",new_calendar_event_header:"New calendar event",start_time:"Start time"}},editor:{switch_editor_html:"HTML Editor",switch_editor_rich_text:"Rich Content Editor"}},es:{buttons:{cancel:"Cancelar"},calendar:{edit_calendar_event_full:{buttons:{create:"Crear Evento",update:"Actualizar Evento"},date:"Fecha","delete":"Borrar",different_date_for_each_section:"Usar una fecha diferente para cada sección",edit_calendar_event_header:"Editar el evento del calendario",end_time:"Tiempo de finalización",event_description:"Descripción del evento",event_title:"Título del evento",location_address:"Dirección:",location_name:"Ubicación:",new_calendar_event_header:"Nuevo evento del calendario",start_time:"Hora de inicio"}},editor:{switch_editor_html:"Editor HTML",switch_editor_rich_text:"Editor de contenido enriquecido"}},"fa-IR":{buttons:{cancel:"لغو"},calendar:{edit_calendar_event_full:{buttons:{create:"ایجاد رویداد",update:"بهنگام سازی رویداد"},date:"تاریخ","delete":"حذف",different_date_for_each_section:"استفاده از تاریخ های متفاوت برای هر بخش",edit_calendar_event_header:"ویرایش رویداد تقویم",end_time:"زمان پایان",event_description:"شرح رویداد",event_title:"عنوان رویداد",location_address:"نشانی:",location_name:"مکان:",new_calendar_event_header:"رویداد جدید تقویم",start_time:"زمان شروع"}},editor:{switch_editor_html:"ویرایشگر HTML",switch_editor_rich_text:"ویرایشگر محتوای غنی"}},fr:{buttons:{cancel:"Annuler"},calendar:{edit_calendar_event_full:{buttons:{create:"Créer un événement",update:"Mettre à jour l’événement"},date:"Date","delete":"Supprimer",different_date_for_each_section:"Utiliser une date différente pour chaque section",edit_calendar_event_header:"Modifier l’événement du calendrier",end_time:"Heure de fin",event_description:"Description de l’événement",event_title:"Titre de l’événement",location_address:"Adresse :",location_name:"Lieu :",new_calendar_event_header:"Nouvel événement du calendrier",start_time:"Heure de début"}},editor:{switch_editor_html:"Éditeur HTML",switch_editor_rich_text:"Éditeur de texte enrichi"}},ja:{buttons:{cancel:"キャンセル"},calendar:{edit_calendar_event_full:{buttons:{create:"イベントの作成",update:"イベントの更新"},date:"日付","delete":"削除",different_date_for_each_section:"各セクションに異なる日付を使用する",edit_calendar_event_header:"カレンダー イベントの編集",end_time:"終了時刻",event_description:"イベントの説明",event_title:"イベント タイトル",location_address:"住所:",location_name:"場所:",new_calendar_event_header:"カレンダー イベントの新規作成",start_time:"開始時刻"}},editor:{switch_editor_html:"HTML エディタ",switch_editor_rich_text:"リッチ コンテンツ エディタ"}},nb:{buttons:{cancel:"Avbryt"},calendar:{edit_calendar_event_full:{buttons:{create:"Opprett hendelse",update:"Oppdater hendelse"},date:"Dato","delete":"Slett",different_date_for_each_section:"Benytt forskjellige datoer for hver klasse",edit_calendar_event_header:"Rediger kalenderhendelse",end_time:"Sluttidspunkt",event_description:"Beskrivelse av hendelse",event_title:"Hendelsens tittel",location_address:"Adresse:",location_name:"Sted:",new_calendar_event_header:"Ny kalenderhendelse",start_time:"Starttidspunkt"}},editor:{switch_editor_html:"HTML-redigering",switch_editor_rich_text:"Rikt Innhold Redigering"}},nl:{buttons:{cancel:"Annuleren"},calendar:{edit_calendar_event_full:{buttons:{create:"Gebeurtenis maken",update:"Gebeurtenis bijwerken"},date:"Datum","delete":"Verwijderen",different_date_for_each_section:"Voor iedere sectie een andere datum gebruiken",edit_calendar_event_header:"De gebeurtenis  op de kalender bewerken",end_time:"Eindtijd",event_description:"Beschrijving van gebeurtenis",event_title:"Titel van gebeurtenis",location_address:"Adres:",location_name:"Locatie:",new_calendar_event_header:"Nieuwe gebeurtenis op de kalender",start_time:"Starttijd"}},editor:{switch_editor_html:"HTML Editor",switch_editor_rich_text:"Rich Content Editor"}},pl:{buttons:{cancel:"Anuluj"},calendar:{edit_calendar_event_full:{buttons:{create:"Utwórz wydarzenie",update:"Zaktualizuj wydarzenie"},date:"Data","delete":"Usuń",different_date_for_each_section:"Użyj róznych dat dla każdej z sekcji",edit_calendar_event_header:"Edytuj wydarzenie w kalendarzu",end_time:"Czas zakończenia",event_description:"Opis wydarzenia",event_title:"Tytuł wydarzenia",location_address:"Adres:",location_name:"Położenie:",new_calendar_event_header:"Nowe wydarzenie w kalendarzu",start_time:"Czas rozpoczęcia"}},editor:{switch_editor_html:"Edytor HTML",switch_editor_rich_text:"Edytor wzbogaconej zawartości"}},pt:{buttons:{cancel:"Cancelar"},calendar:{edit_calendar_event_full:{buttons:{create:"Criar um evento",update:"Atualizar evento"},date:"Data","delete":"Excluir",different_date_for_each_section:"Utilizar uma data diferente para cada secção",edit_calendar_event_header:"Editar evento do calendário",end_time:"Hora de fim",event_description:"Descrição do evento",event_title:"Título do evento",location_address:"Morada:",location_name:"Local:",new_calendar_event_header:"Novo evento do calendário",start_time:"Hora de início"}},editor:{switch_editor_html:"Editor HTML",switch_editor_rich_text:"Editor de conteúdo avançado"}},"pt-BR":{buttons:{cancel:"Cancelar"},calendar:{edit_calendar_event_full:{buttons:{create:"Criar um evento",update:"Atualizar evento"},date:"Data","delete":"Excluir",different_date_for_each_section:"Usar uma data diferente para cada turma",edit_calendar_event_header:"Editar evento do calendário",end_time:"Hora de término",event_description:"Descrição do evento",event_title:"Título do evento",location_address:"Endereço:",location_name:"Local:",new_calendar_event_header:"Novo evento do calendário",start_time:"Hora de início"}},editor:{switch_editor_html:"Editor de HTML",switch_editor_rich_text:"Editor de conteúdo de rich text"}},ru:{buttons:{cancel:"Отменить"},calendar:{edit_calendar_event_full:{buttons:{create:"Создать событие",update:"Обновить событие"},date:"Дата","delete":"Удалить",different_date_for_each_section:"Используйте разные даты для каждой секции",edit_calendar_event_header:"Редактировать событие календаря",end_time:"Время окончания",event_description:"Описание события",event_title:"Название события",location_address:"Адрес:",location_name:"Местоположение:",new_calendar_event_header:"Новое событие календаря",start_time:"Время начала"}},editor:{switch_editor_html:"Редактор HTML",switch_editor_rich_text:"Редактор форматированного текста"}},tr:{buttons:{cancel:"İptal"},calendar:{edit_calendar_event_full:{buttons:{create:"Olay Oluştur",update:"Olayı Güncelle"},date:"Tarih:","delete":"Sil",different_date_for_each_section:"Her bölüm için farklı tarihler kullanın",edit_calendar_event_header:"Takvim Olayını Düzenle",end_time:"Bitiş Zamanı",event_description:"Olay Açıklaması",event_title:"Olay Başlığı",location_address:"Adres:",location_name:"Konum:",new_calendar_event_header:"Yeni Takvim Olayı",start_time:"Başlangıç Zamanı"}},editor:{switch_editor_html:"HTML Düzenleyici",switch_editor_rich_text:"Zengin İçerik Editörü"}},zh:{buttons:{cancel:"取消"},calendar:{edit_calendar_event_full:{buttons:{create:"创建事件",update:"更新事件"},date:"日期","delete":"删除",different_date_for_each_section:"对每个班级应用不同的日期",edit_calendar_event_header:"编辑日历事件",end_time:"结束时间",event_description:"事件说明",event_title:"事件标题",location_address:"地址：",location_name:"位置：",new_calendar_event_header:"新日历事件",start_time:"开始时间"}},editor:{switch_editor_html:"HTML 编辑器",switch_editor_rich_text:"富内容编辑器"}},zh_Hant:{buttons:{cancel:"取消"},calendar:{edit_calendar_event_full:{buttons:{create:"建立事件",update:"更新事件"},date:"日期","delete":"刪除",different_date_for_each_section:"對每個章節使用不同的日期",edit_calendar_event_header:"編輯月曆事件",end_time:"結束時間",event_description:"事件說明",event_title:"事件標題",location_address:"地址：",location_name:"位置：",new_calendar_event_header:"新月曆事件",start_time:"開始時間"}},editor:{switch_editor_html:"HTML 編輯器",switch_editor_rich_text:"多種格式的內容編輯器"}}}})}),define("jst/calendar/editCalendarEventFull",["compiled/handlebars_helpers","i18n!calendar.edit_calendar_event_full"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["calendar/editCalendarEventFull"]=t(function(e,t,n,a,i){function d(e,t){var a,i,d,r="";return i=n.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},a=i?i.call(e,"new_calendar_event_header","New Calendar Event",d):E.call(e,"t","new_calendar_event_header","New Calendar Event",d),(a||0===a)&&(r+=a),r+="\n  "}function r(e,t){var a,i,d;return i=n.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},a=i?i.call(e,"edit_calendar_event_header","Edit Calendar Event",d):E.call(e,"t","edit_calendar_event_header","Edit Calendar Event",d),a||0===a?a:""}function l(){return"use_section_dates"}function o(e,t){var a,i,d,r="";return r+='\n    <label class="label_with_checkbox" for="use_section_dates">\n      '+T((i=n.checkbox||e&&e.checkbox,d={hash:{},data:t},i?i.call(e,"use_section_dates",d):E.call(e,"checkbox","use_section_dates",d)))+"\n      ",i=n.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},a=i?i.call(e,"different_date_for_each_section","Use a different date for each section",d):E.call(e,"t","different_date_for_each_section","Use a different date for each section",d),(a||0===a)&&(r+=a),r+='\n    </label>\n\n    <input type="hidden"\n           name="remove_child_events"\n           value="',a=n.unless.call(e,e&&e.use_section_dates,{hash:{},inverse:z.noop,fn:z.program(8,s,t),data:t}),(a||0===a)&&(r+=a),r+='" />\n  '}function s(){return"1"}function c(e,t){var a,i,d="";return d+=' value="'+T((a=n.tTimeToString||e&&e.tTimeToString,i={hash:{},data:t},a?a.call(e,e&&e.start_at,"tiny",i):E.call(e,"tTimeToString",e&&e.start_at,"tiny",i)))+'" '}function _(e,t){var a,i,d="";return d+=' value="'+T((a=n.tTimeToString||e&&e.tTimeToString,i={hash:{},data:t},a?a.call(e,e&&e.end_at,"tiny",i):E.call(e,"tTimeToString",e&&e.end_at,"tiny",i)))+'" '}function u(e,t){var a,i="";return i+='\n    <table class="formtable show_if_using_sections">\n      ',a=n.each.call(e,e&&e.course_sections,{hash:{},inverse:z.noop,fn:z.program(15,h,t),data:t}),(a||0===a)&&(i+=a),i+="\n    </table>\n  "}function h(e,t){var a,i,d,r="";return r+='\n      <tr class="date_start_end_row">\n        <td colspan="4"><label class="row_header" for="section_',(i=n.id)?a=i.call(e,{hash:{},data:t}):(i=e&&e.id,a=typeof i===S?i.call(e,{hash:{},data:t}):i),r+=T(a)+'_start_date">',(i=n.name)?a=i.call(e,{hash:{},data:t}):(i=e&&e.name,a=typeof i===S?i.call(e,{hash:{},data:t}):i),r+=T(a)+'</label></td>\n      </tr>\n      <tr class="date_start_end_row">\n        <td>\n          <input type="text"\n                 id="section_',(i=n.id)?a=i.call(e,{hash:{},data:t}):(i=e&&e.id,a=typeof i===S?i.call(e,{hash:{},data:t}):i),r+=T(a)+'_start_date"\n                 name="child_event_data[',(i=n.id)?a=i.call(e,{hash:{},data:t}):(i=e&&e.id,a=typeof i===S?i.call(e,{hash:{},data:t}):i),r+=T(a)+'][start_date]"\n                 class="date_field"\n                 value="'+T((i=n.tDateToString||e&&e.tDateToString,d={hash:{},data:t},i?i.call(e,(a=e&&e.event,null==a||a===!1?a:a.start_at),"medium",d):E.call(e,"tDateToString",(a=e&&e.event,null==a||a===!1?a:a.start_at),"medium",d)))+'"\n                 aria-label="',i=n.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},a=i?i.call(e,"date","Date",d):E.call(e,"t","date","Date",d),(a||0===a)&&(r+=a),r+='"\n                 placeholder="',i=n.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},a=i?i.call(e,"date","Date",d):E.call(e,"t","date","Date",d),(a||0===a)&&(r+=a),r+='" />\n        </td>\n        <td>\n          <input type="text"\n                 name="child_event_data[',(i=n.id)?a=i.call(e,{hash:{},data:t}):(i=e&&e.id,a=typeof i===S?i.call(e,{hash:{},data:t}):i),r+=T(a)+'][start_time]"\n                 class="time_field"\n                 ',a=n.unless.call(e,e&&e.all_day,{hash:{},inverse:z.noop,fn:z.program(16,v,t),data:t}),(a||0===a)&&(r+=a),r+='\n                 aria-label="',i=n.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},a=i?i.call(e,"start_time","Start Time",d):E.call(e,"t","start_time","Start Time",d),(a||0===a)&&(r+=a),r+='"\n                 placeholder="',i=n.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},a=i?i.call(e,"start_time","Start Time",d):E.call(e,"t","start_time","Start Time",d),(a||0===a)&&(r+=a),r+='" />\n        </td>\n\n        <td><span class="time_separator">-</span></td>\n\n        <td>\n          <input type="text"\n                 name="child_event_data[',(i=n.id)?a=i.call(e,{hash:{},data:t}):(i=e&&e.id,a=typeof i===S?i.call(e,{hash:{},data:t}):i),r+=T(a)+'][end_time]"\n                 class="time_field"\n                 ',a=n.unless.call(e,e&&e.all_day,{hash:{},inverse:z.noop,fn:z.program(18,m,t),data:t}),(a||0===a)&&(r+=a),r+='\n                 aria-label="',i=n.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},a=i?i.call(e,"end_time","End Time",d):E.call(e,"t","end_time","End Time",d),(a||0===a)&&(r+=a),r+='"\n                 placeholder="',i=n.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},a=i?i.call(e,"end_time","End Time",d):E.call(e,"t","end_time","End Time",d),(a||0===a)&&(r+=a),r+='" />\n          <input type="hidden"\n                 name="child_event_data[',(i=n.id)?a=i.call(e,{hash:{},data:t}):(i=e&&e.id,a=typeof i===S?i.call(e,{hash:{},data:t}):i),r+=T(a)+'][context_code]"\n                 value="course_section_',(i=n.id)?a=i.call(e,{hash:{},data:t}):(i=e&&e.id,a=typeof i===S?i.call(e,{hash:{},data:t}):i),r+=T(a)+'" />\n        </td>\n      </tr>\n      '}function v(e,t){var a,i,d,r="";return r+=' value="'+T((i=n.tTimeToString||e&&e.tTimeToString,d={hash:{},data:t},i?i.call(e,(a=e&&e.event,null==a||a===!1?a:a.start_at),"tiny",d):E.call(e,"tTimeToString",(a=e&&e.event,null==a||a===!1?a:a.start_at),"tiny",d)))+'" '}function m(e,t){var a,i,d,r="";return r+=' value="'+T((i=n.tTimeToString||e&&e.tTimeToString,d={hash:{},data:t},i?i.call(e,(a=e&&e.event,null==a||a===!1?a:a.end_at),"tiny",d):E.call(e,"tTimeToString",(a=e&&e.event,null==a||a===!1?a:a.end_at),"tiny",d)))+'" '}function p(e,t){var a,i,d,r="";return r+='\n      <button type="button" class="btn delete_link">',i=n.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},a=i?i.call(e,"delete","Delete",d):E.call(e,"t","delete","Delete",d),(a||0===a)&&(r+=a),r+="</button>\n    "}function f(e,t){var a,i,d,r="";return r+='\n      <a href="',(i=n.return_to_url)?a=i.call(e,{hash:{},data:t}):(i=e&&e.return_to_url,a=typeof i===S?i.call(e,{hash:{},data:t}):i),r+=T(a)+'" class="btn" role="button">',i=n.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},a=i?i.call(e,"#buttons.cancel","Cancel",d):E.call(e,"t","#buttons.cancel","Cancel",d),(a||0===a)&&(r+=a),r+="</a>\n    "}function g(e,t){var a,i,d,r="";return r+="\n        ",i=n.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},a=i?i.call(e,"buttons.create","Create Event",d):E.call(e,"t","buttons.create","Create Event",d),(a||0===a)&&(r+=a),r+="\n      "}function b(e,t){var a,i,d,r="";return r+="\n        ",i=n.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},a=i?i.call(e,"buttons.update","Update Event",d):E.call(e,"t","buttons.update","Update Event",d),(a||0===a)&&(r+=a),r+="\n      "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var y,D,w,k="",E=n.helperMissing,T=this.escapeExpression,z=this,S="function";return k+='<h1 class="screenreader-only">\n  ',y=n["if"].call(t,t&&t.newRecord,{hash:{},inverse:z.program(3,r,i),fn:z.program(1,d,i),data:i}),(y||0===y)&&(k+=y),k+='\n</h1>\n<form id="editCalendarEventFull" class="',y=n["if"].call(t,t&&t.use_section_dates,{hash:{},inverse:z.noop,fn:z.program(5,l,i),data:i}),(y||0===y)&&(k+=y),k+='">\n  <input type="text"\n         name="title"\n         class="title input-block-level"\n         aria-label="',D=n.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},y=D?D.call(t,"event_title","Event Title",w):E.call(t,"t","event_title","Event Title",w),(y||0===y)&&(k+=y),k+='"\n         placeholder="',D=n.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},y=D?D.call(t,"event_title","Event Title",w):E.call(t,"t","event_title","Event Title",w),(y||0===y)&&(k+=y),k+='"\n         value="',(D=n.title)?y=D.call(t,{hash:{},data:i}):(D=t&&t.title,y=typeof D===S?D.call(t,{hash:{},data:i}):D),k+=T(y)+'"\n         maxlength="255" />\n\n  <div class="clearfix">\n    <a href="#" class="switch_event_description_view pull-right">\n      ',D=n.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},y=D?D.call(t,"#editor.switch_editor_html","HTML Editor",w):E.call(t,"t","#editor.switch_editor_html","HTML Editor",w),(y||0===y)&&(k+=y),k+='\n    </a>\n    <a href="#" class="switch_event_description_view pull-right" style="display:none;">\n      ',D=n.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},y=D?D.call(t,"#editor.switch_editor_rich_text","Rich Content Editor",w):E.call(t,"t","#editor.switch_editor_rich_text","Rich Content Editor",w),(y||0===y)&&(k+=y),k+='\n    </a>\n  </div>\n  <textarea class="input-block-level"\n            name="description"\n            aria-label="',D=n.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},y=D?D.call(t,"event_description","Event Description",w):E.call(t,"t","event_description","Event Description",w),(y||0===y)&&(k+=y),k+='"\n            style="width: 100%">',(D=n.description)?y=D.call(t,{hash:{},data:i}):(D=t&&t.description,y=typeof D===S?D.call(t,{hash:{},data:i}):D),k+=T(y)+"</textarea>\n\n  ",y=n["if"].call(t,t&&t.course_sections,{hash:{},inverse:z.noop,fn:z.program(7,o,i),data:i}),(y||0===y)&&(k+=y),k+='\n\n  <div class="hide_if_using_sections date_start_end_row">\n    <table>\n      <tbody>\n        <tr>\n          <td>\n            <input type="text"\n                   name="start_date"\n                   class="date_field"\n                   value="'+T((D=n.tDateToString||t&&t.tDateToString,w={hash:{},data:i},D?D.call(t,t&&t.start_at,"medium",w):E.call(t,"tDateToString",t&&t.start_at,"medium",w)))+'"\n                   aria-label="',D=n.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},y=D?D.call(t,"date","Date",w):E.call(t,"t","date","Date",w),(y||0===y)&&(k+=y),k+='"\n                   placeholder="',D=n.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},y=D?D.call(t,"date","Date",w):E.call(t,"t","date","Date",w),(y||0===y)&&(k+=y),k+='" />\n          </td>\n          <td>\n            <input type="text"\n                   name="start_time"\n                   class="time_field"\n                   ',y=n.unless.call(t,t&&t.all_day,{hash:{},inverse:z.noop,fn:z.program(10,c,i),data:i}),(y||0===y)&&(k+=y),k+='\n                   aria-label="',D=n.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},y=D?D.call(t,"start_time","Start Time",w):E.call(t,"t","start_time","Start Time",w),(y||0===y)&&(k+=y),k+='"\n                   placeholder="',D=n.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},y=D?D.call(t,"start_time","Start Time",w):E.call(t,"t","start_time","Start Time",w),(y||0===y)&&(k+=y),k+='" />\n          </td>\n          <td><span class="time_separator">-</span></td>\n          <td>\n            <input type="text"\n                   name="end_time"\n                   class="time_field"\n                   ',y=n.unless.call(t,t&&t.all_day,{hash:{},inverse:z.noop,fn:z.program(12,_,i),data:i}),(y||0===y)&&(k+=y),k+='\n                   aria-label="',D=n.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},y=D?D.call(t,"end_time","End Time",w):E.call(t,"t","end_time","End Time",w),(y||0===y)&&(k+=y),k+='"\n                   placeholder="',D=n.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},y=D?D.call(t,"end_time","End Time",w):E.call(t,"t","end_time","End Time",w),(y||0===y)&&(k+=y),k+='" />\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div>\n    <table id="calendar_event_location_info">\n      <tbody>\n        <tr>\n          <td>\n            <label for="calendar_event_location_name">',D=n.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},y=D?D.call(t,"location_name","Location:",w):E.call(t,"t","location_name","Location:",w),(y||0===y)&&(k+=y),k+='</label>\n            <input id="calendar_event_location_name" name="location_name" size="30" maxlength="255" type="text" value="',(D=n.location_name)?y=D.call(t,{hash:{},data:i}):(D=t&&t.location_name,y=typeof D===S?D.call(t,{hash:{},data:i}):D),k+=T(y)+'"/>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <label for="calendar_event_location_address">',D=n.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},y=D?D.call(t,"location_address","Address:",w):E.call(t,"t","location_address","Address:",w),(y||0===y)&&(k+=y),k+='</label>\n            <input id="calendar_event_location_address" name="location_address" size="30" maxlength="255" type="text" value="',(D=n.location_address)?y=D.call(t,{hash:{},data:i}):(D=t&&t.location_address,y=typeof D===S?D.call(t,{hash:{},data:i}):D),k+=T(y)+'"/>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  ',y=n["if"].call(t,t&&t.course_sections,{hash:{},inverse:z.noop,fn:z.program(14,u,i),data:i}),(y||0===y)&&(k+=y),k+='\n\n  <div class="form-actions">\n    ',y=n["if"].call(t,t&&t.url,{hash:{},inverse:z.noop,fn:z.program(20,p,i),data:i}),(y||0===y)&&(k+=y),k+="\n    ",y=n["if"].call(t,t&&t.return_to_url,{hash:{},inverse:z.noop,fn:z.program(22,f,i),data:i}),(y||0===y)&&(k+=y),k+='\n    <button type="submit" class="btn btn-primary">\n      ',y=n["if"].call(t,t&&t.newRecord,{hash:{},inverse:z.program(26,b,i),fn:z.program(24,g,i),data:i}),(y||0===y)&&(k+=y),k+="\n    </button>\n  </div>\n\n</form>\n"
}),n["calendar/editCalendarEventFull"]}),define("translations/calendar.missing_due_date_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{calendar:{missing_due_date_dialog:{buttons:{"continue":"متابعة",goBack:"عودة",noDueDate:"لا يوجد تاريخ استحقاق"},modal:{chooseDueDate:"هل تريد العودة للسابق وتحديد تاريخ استحقاق؟",goBackToInclude:"هل ترغب في الرجوع لتضمين:",notAllSectionsAssigned:"لن يتم تعيين جميع الأقسام إلى هذا العنصر."}}}},de:{calendar:{missing_due_date_dialog:{buttons:{"continue":"Fortfahren",goBack:"Zurück",noDueDate:"Kein Abgabetermin"},modal:{chooseDueDate:"Möchten Sie zurückgehen und einen Abgabetermin auswählen?"}}}},"en-AU":{calendar:{missing_due_date_dialog:{buttons:{"continue":"Continue",goBack:"Go Back",noDueDate:"No Due Date"},modal:{chooseDueDate:"Do you want to go back and select a due date?"}}}},"en-GB":{calendar:{missing_due_date_dialog:{buttons:{"continue":"Continue",goBack:"Go Back",noDueDate:"No due date"},modal:{chooseDueDate:"Do you want to go back and select a due date?"}}}},es:{calendar:{missing_due_date_dialog:{buttons:{"continue":"Continuar",goBack:"Volver",noDueDate:"Sin fecha de vencimiento"},modal:{chooseDueDate:"¿Desea volver atrás y seleccionar una fecha de vencimiento?"}}}},"fa-IR":{calendar:{missing_due_date_dialog:{buttons:{"continue":"ادامه",goBack:"بازگشت",noDueDate:"تاریخ مهلت موجود نیست"},modal:{chooseDueDate:"می خواهید بازگردید و یک تاریخ مهلت را انتخاب کنید؟"}}}},fr:{calendar:{missing_due_date_dialog:{buttons:{"continue":"Continuer",goBack:"Retour",noDueDate:"Pas de date d’échéance"},modal:{chooseDueDate:"Voulez-vous revenir en arrière et sélectionner une date d’échéance ?",goBackToInclude:"Souhaitez-vous revenir en arrière pour inclure :",notAllSectionsAssigned:"Cet élément ne sera pas attribué à toutes les sections."}}}},ja:{calendar:{missing_due_date_dialog:{buttons:{"continue":"続行",goBack:"戻る",noDueDate:"期日なし"},modal:{chooseDueDate:"戻って期日を選択しますか?"}}}},nb:{calendar:{missing_due_date_dialog:{buttons:{"continue":"Fortsett",goBack:"Tilbake",noDueDate:"Ingen frist"},modal:{chooseDueDate:"Vil du gå tilbake og sette en frist?"}}}},nl:{calendar:{missing_due_date_dialog:{buttons:{"continue":"Doorgaan",goBack:"Terug gaan",noDueDate:"Geen inleverdatum"},modal:{chooseDueDate:"Wil je teruggaan en een inleverdatum selecteren?"}}}},pl:{calendar:{missing_due_date_dialog:{buttons:{"continue":"Kontynuuj",goBack:"Przejdź wstecz",noDueDate:"Brak terminu dostarczenia"},modal:{chooseDueDate:"Czy chcesz wrócić i wybrać termin oddania?",goBackToInclude:"Czy chcesz wrócić, aby uwzględnić:",notAllSectionsAssigned:"Nie do wszystkich sekcji zostanie przypisany ten element."}}}},pt:{calendar:{missing_due_date_dialog:{buttons:{"continue":"Continuar",goBack:"Retroceder",noDueDate:"Sem data de entrega"},modal:{chooseDueDate:"Deseja retroceder e selecionar uma data de entrega?",goBackToInclude:"Deseja voltar atrás para incluir:",notAllSectionsAssigned:"Nem todas as secções serão atribuídas a este item."}}}},"pt-BR":{calendar:{missing_due_date_dialog:{buttons:{"continue":"Continuar",goBack:"Voltar",noDueDate:"Sem data de entrega"},modal:{chooseDueDate:"Você deseja voltar e selecionar uma data de entrega?",goBackToInclude:"Você gostaria de voltar para incluir:",notAllSectionsAssigned:"Nem todas as seções terão esse item atribuído."}}}},ru:{calendar:{missing_due_date_dialog:{buttons:{"continue":"Продолжить",goBack:"Вернуться назад",noDueDate:"Нет даты выполнения"},modal:{chooseDueDate:"Вы хотите вернуться назад и выбрать дату выполнения?"}}}},tr:{calendar:{missing_due_date_dialog:{buttons:{"continue":"Devam",goBack:"Geri Git",noDueDate:"Bitiş Tarihi Yok"},modal:{chooseDueDate:"Geri dönmek ve bir bitiş tarihi seçmek istiyor musunuz?",goBackToInclude:"Aşağıdakileri dahil etmek için geri dönmek ister misiniz:",notAllSectionsAssigned:"Bu öğeye tüm bölümler atanmayacak."}}}},zh:{calendar:{missing_due_date_dialog:{buttons:{"continue":"继续",goBack:"返回",noDueDate:"无截止时间"},modal:{chooseDueDate:"是否要返回并选择截止时间?",goBackToInclude:"您是否要返回以包括：",notAllSectionsAssigned:"并非所有章节将分配给此项目。"}}}},zh_Hant:{calendar:{missing_due_date_dialog:{buttons:{"continue":"繼續",goBack:"返回",noDueDate:"無截止日期"},modal:{chooseDueDate:"是否確定返回並選擇截止日期？"}}}}}})}),define("jst/calendar/missingDueDateDialog",["compiled/handlebars_helpers","i18n!calendar.missing_due_date_dialog"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["calendar/missingDueDateDialog"]=t(function(e,t,n,a,i){function d(e,t){var a,i,d,l="";return l+="\n    <p>\n    ",i=n.t||e&&e.t,d={hash:{scope:"calendar.missing_due_date_dialog"},data:t},a=i?i.call(e,"modal.notAllSectionsAssigned","Not all sections will be assigned this item.",d):f.call(e,"t","modal.notAllSectionsAssigned","Not all sections will be assigned this item.",d),(a||0===a)&&(l+=a),l+="\n    </p>\n    ",i=n.t||e&&e.t,d={hash:{scope:"calendar.missing_due_date_dialog"},data:t},a=i?i.call(e,"modal.goBackToInclude","Would you like to go back to include:",d):f.call(e,"t","modal.goBackToInclude","Would you like to go back to include:",d),(a||0===a)&&(l+=a),l+="\n    <ul>\n    ",a=n.each.call(e,e&&e.sections,{hash:{},inverse:g.noop,fn:g.program(2,r,t),data:t}),(a||0===a)&&(l+=a),l+="\n    </ul>\n  "}function r(e){var t="";return t+="<li><b>"+p(typeof e===m?e.apply(e):e)+"</b></li>"}function l(e,t){var a,i,d,r="";return r+="\n    <p>\n      ",i=n.toSentence||e&&e.toSentence,d={hash:{},inverse:g.noop,fn:g.program(5,o,t),data:t},a=i?i.call(e,e&&e.sections,d):f.call(e,"toSentence",e&&e.sections,d),(a||0===a)&&(r+=a),r+="\n      ",(i=n.description)?a=i.call(e,{hash:{},data:t}):(i=e&&e.description,a=typeof i===m?i.call(e,{hash:{},data:t}):i),r+=p(a)+"\n    <p>\n    ",i=n.t||e&&e.t,d={hash:{scope:"calendar.missing_due_date_dialog"},data:t},a=i?i.call(e,"modal.chooseDueDate","Do you want to go back and select a due date?",d):f.call(e,"t","modal.chooseDueDate","Do you want to go back and select a due date?",d),(a||0===a)&&(r+=a),r+="\n    </p>\n  "}function o(e){var t="";return t+="<b>"+p(typeof e===m?e.apply(e):e)+"</b>"}function s(e,t){var a,i,d,r="";return r+="\n        ",i=n.t||e&&e.t,d={hash:{scope:"calendar.missing_due_date_dialog"},data:t},a=i?i.call(e,"buttons.continue","Continue",d):f.call(e,"t","buttons.continue","Continue",d),(a||0===a)&&(r+=a),r+="\n      "}function c(e,t){var a,i,d,r="";return r+="\n        ",i=n.t||e&&e.t,d={hash:{scope:"calendar.missing_due_date_dialog"},data:t},a=i?i.call(e,"buttons.noDueDate","No Due Date",d):f.call(e,"t","buttons.noDueDate","No Due Date",d),(a||0===a)&&(r+=a),r+="\n      "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var _,u,h,v="",m="function",p=this.escapeExpression,f=n.helperMissing,g=this;return v+="<div>\n  ",_=n["if"].call(t,t&&t.da_enabled,{hash:{},inverse:g.program(4,l,i),fn:g.program(1,d,i),data:i}),(_||0===_)&&(v+=_),v+='\n\n  <div class="button-container form-actions">\n    <button type="button" class="btn">',u=n.t||t&&t.t,h={hash:{scope:"calendar.missing_due_date_dialog"},data:i},_=u?u.call(t,"buttons.goBack","Go Back",h):f.call(t,"t","buttons.goBack","Go Back",h),(_||0===_)&&(v+=_),v+='</button>\n    <button type="button" class="btn btn-primary">\n      ',_=n["if"].call(t,t&&t.da_enabled,{hash:{},inverse:g.program(9,c,i),fn:g.program(7,s,i),data:i}),(_||0===_)&&(v+=_),v+="\n    </button>\n  </div>\n</div>\n"}),n["calendar/missingDueDateDialog"]}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function a(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return a.prototype=n.prototype,e.prototype=new a,e.__super__=n.prototype,e};define("compiled/views/calendar/MissingDateDialogView",["jquery","underscore","Backbone","i18n!calendar.edit","jst/calendar/missingDueDateDialog","jqueryui/dialog","compiled/jquery/fixDialogButtons"],function(t,a,i,d,r){var l,o,s;return o=i.View,l=function(i){function l(){return this.cancel=e(this.cancel,this),this.onAction=e(this.onAction,this),s=l.__super__.constructor.apply(this,arguments)}return n(l,i),l.prototype.dialogTitle='<span>\n  <i class="icon-warning"></i>\n  '+d.t("titles.warning","Warning")+"\n</span>",l.prototype.initialize=function(e){return l.__super__.initialize.apply(this,arguments),this.validationFn=e.validationFn,this.labelFn=e.labelFn||this.defaultLabelFn,this.success=e.success,this.da_enabled=e.da_enabled},l.prototype.defaultLabelFn=function(e){return t("label[for="+t(e).attr("id")+"]").text()},l.prototype.render=function(){return this.invalidFields=this.validationFn(),this.invalidFields===!0?!1:(this.invalidSectionNames=a.map(this.invalidFields,this.labelFn),this.showDialog(),this)},l.prototype.getInvalidFields=function(){var e,n;return e=a.select(this.$dateFields,function(e){return""===t(e).val()}),n=a.map(e,this.labelFn),n.length>0?[e,n]:!1},l.prototype.showDialog=function(){var e,n;return e=d.t("missingDueDate",{one:"%{sections} does not have a due date assigned.",other:"%{sections} do not have a due date assigned."},{sections:"",count:this.invalidSectionNames.length}),n=r({description:e,da_enabled:this.da_enabled,sections:this.invalidSectionNames}),this.$dialog=t(n).dialog({dialogClass:"dialog-warning",draggable:!1,modal:!0,resizable:!1,title:t(this.dialogTitle)}).fixDialogButtons().on("click",".btn",this.onAction),this.$dialog.parents(".ui-dialog:first").focus()},l.prototype.onAction=function(e){return t(e.currentTarget).hasClass("btn-primary")?this.success(this.$dialog):this.cancel(this.invalidFields,this.sectionNames)},l.prototype.cancel=function(){return this.$dialog.dialog("close").remove(),this.invalidFields[0].focus()},l}(o)})}.call(this),function(){define("compiled/object/unflatten",["underscore"],function(e){var t;return t=function(t){return e(t).reduce(function(t,n,a){var i,d,r,l;if(r=a.split("]["),l=r.length-1,/\[/.test(r[0])&&/\]$/.test(r[l])?(r[l]=r[l].replace(/\]$/,""),r=r.shift().split("[").concat(r),l=r.length-1):l=0,l)for(d=0,i=t;l>=d;)a=""===r[d]?i.length:r[d],i=i[a]=l>d?i[a]||(r[d+1]&&isNaN(r[d+1])?{}:[]):n,d++;else e.isArray(t[a])?t[a].push(n):t[a]=null!=t[a]?[t[a],n]:n;return t},{})}})}.call(this),function(){var e=[].slice;define("compiled/util/deparam",["compiled/object/unflatten"],function(t){var n,a;return n={"true":!0,"false":!1,"null":null},a=function(i,d){var r,l,o,s,c,_,u,h,v;if(!i||"boolean"==typeof i)return r=window.location.search.replace(/^\?/,""),r?a.apply(null,[r].concat(e.call(arguments))):{};for(o={},h=i.replace(/\+/g," ").split("&"),_=0,u=h.length;u>_;_++)s=h[_],v=s.split("="),l=v[0],c=v[1],l=decodeURIComponent(l),c=decodeURIComponent(c),d&&(c=c&&!isNaN(c)?+c:"undefined"===c?void 0:void 0!==n[c]?n[c]:c),o[l]=c;return t(o)}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function a(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return a.prototype=n.prototype,e.prototype=new a,e.__super__=n.prototype,e};define("compiled/calendar/EditEventView",["jquery","underscore","i18n!calendar.edit","timezone","Backbone","jst/calendar/editCalendarEventFull","compiled/views/calendar/MissingDateDialogView","wikiSidebar","compiled/object/unflatten","compiled/util/deparam","tinymce.editor_box","compiled/tinymce"],function(t,a,i,d,r,l,o,s,c,_){var u,h;return u=function(r){function u(){return this.toggleUseSectionDates=e(this.toggleUseSectionDates,this),this.toggleUsingSectionClass=e(this.toggleUsingSectionClass,this),this.destroyModel=e(this.destroyModel,this),this.render=e(this.render,this),h=u.__super__.constructor.apply(this,arguments)}return n(u,r),u.prototype.el=t("#content"),u.prototype.template=l,u.prototype.events={"submit form":"submit","change #use_section_dates":"toggleUseSectionDates","click .delete_link":"destroyModel","click .switch_event_description_view":"toggleHtmlView"},u.prototype.initialize=function(){var e=this;return u.__super__.initialize.apply(this,arguments),this.model.fetch().done(function(){var t,n,i;return n=a.pick(_(),"start_date","start_time","end_time","title","description","location_name","location_address"),t=e.model.parse(n),t.all_day=!!(null!=(i=t.start_at)?i.equals(t.end_at):void 0)&&t.start_at.equals(t.start_at.clearTime()),e.model.set(t),e.render(),a.each(a.keys(n),function(t){var a;return a=e.$el.find("input[name='"+t+"']"),a.val(n[t]),a.change()})}),this.model.on("change:use_section_dates",this.toggleUsingSectionClass)},u.prototype.render=function(){var e;return u.__super__.render.apply(this,arguments),this.$(".date_field").date_field(),this.$(".time_field").time_field(),e=this.$("textarea").editorBox(),s.inited||s.init(),s.attachToEditor(e).show(),this},u.prototype.destroyModel=function(){var e,t=this;return e=i.t("confirm_delete_calendar_event","Are you sure you want to delete this calendar event?"),confirm(e)?this.$el.disableWhileLoading(this.model.destroy({success:function(){return t.redirectWithMessage(i.t("event_deleted","%{event_title} deleted successfully",{event_title:t.model.get("title")}))}})):void 0},u.prototype.toggleUsingSectionClass=function(){return this.$("#editCalendarEventFull").toggleClass("use_section_dates",this.model.get("use_section_dates")),t(".show_if_using_sections input").prop("disabled",!this.model.get("use_section_dates"))},u.prototype.toggleUseSectionDates=function(e){return this.model.set("use_section_dates",!this.model.get("use_section_dates")),this.updateRemoveChildEvents(e)},u.prototype.toggleHtmlView=function(e){return null!=e&&e.preventDefault(),t("textarea[name=description]").editorBox("toggle"),t(e.currentTarget).siblings("a").andSelf().toggle()},u.prototype.updateRemoveChildEvents=function(e){var n;return n=t(e.target).prop("checked")?"":"1",t("input[name=remove_child_events]").val(n)},u.prototype.redirectWithMessage=function(e){return t.flashMessage(e),this.model.get("return_to_url")?window.location=this.model.get("return_to_url"):void 0},u.prototype.submit=function(e){var n,a,d=this;return null!=e&&e.preventDefault(),a=c(this.getFormData()),a.use_section_dates="1"===a.use_section_dates,"1"===a.remove_child_events&&delete a.child_event_data,t("#use_section_dates").prop("checked")&&(n=new o({validationFn:function(){var e;return e=t("[name*=start_date]:visible").filter(function(){return""===t(this).val()}),e.length>0?e:!0},labelFn:function(e){return t(e).parents("tr").prev().find("label").text()},success:function(e){return e.dialog("close"),d.$el.disableWhileLoading(d.model.save(a,{success:function(){return d.redirectWithMessage(i.t("event_saved","Event Saved Successfully"))}})),e.remove()}}),n.render())?void 0:this.saveEvent(a)},u.prototype.saveEvent=function(e){var t=this;return this.$el.disableWhileLoading(this.model.save(e,{success:function(){return t.redirectWithMessage(i.t("event_saved","Event Saved Successfully"))}}))},u.prototype.getFormData=function(){var e,t,n=this;return e=this.$el.getFormData(),t=a.filter(a.keys(e),function(e){return/start_date/.test(e)}),a.each(t,function(t){var i,r,l,o,s,c,_,u,h;return h=t.replace(/start_date/,"start_time"),o=t.replace(/start_date/,"end_time"),c=t.replace(/start_date/,"start_at"),r=t.replace(/start_date/,"end_at"),_=n.$el.find("[name='"+t+"']").data("date"),u=n.$el.find("[name='"+h+"']").data("date"),l=n.$el.find("[name='"+o+"']").data("date"),_?(e=a.omit(e,t,h,o),s=_.toString("yyyy-MM-dd"),u&&(s+=u.toString(" HH:mm")),e[c]=d.parse(s),i=_.toString("yyyy-MM-dd"),l&&(i+=l.toString(" HH:mm")),e[r]=d.parse(i)):void 0}),e},u.type="event",u.title=function(){return u.__super__.constructor.title.call(this,"event","Event")},u}(r.View)})}.call(this),function(){require(["jquery","compiled/calendar/CalendarEvent","compiled/calendar/EditEventView","instructure"],function(e,t,n){return e(function(){var e;return e=new t(ENV.CALENDAR_EVENT),new n({model:e})})})}.call(this),define("compiled/bundles/edit_calendar_event",function(){});