(function(){var e={}.hasOwnProperty,t=function(t,o){function n(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};define("compiled/models/Account",["underscore","Backbone"],function(e,o){var n,r;return n=function(o){function n(){return r=n.__super__.constructor.apply(this,arguments)}return t(n,o),n.prototype.urlRoot="/api/v1/accounts",n.prototype.present=function(){return e.clone(this.attributes)},n.prototype.toJSON=function(){return{id:this.get("id"),account:e.omit(this.attributes,"id")}},n}(o.Model)})}).call(this),function(){var e={}.hasOwnProperty,t=function(t,o){function n(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};define("compiled/models/Role",["Backbone","underscore","compiled/models/Account"],function(e,o,n){var r,s,l;return r=e.Model,s=function(e){function r(){return l=r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.initialize=function(e){return r.__super__.initialize.apply(this,arguments),e?this.set(this.nestAccountModel(e)):void 0},r.prototype.idAttribute="role",r.prototype.isNew=function(){return null==this.get("id")},r.prototype.urlRoot=function(){return"/api/v1/accounts/"+this.get("account").get("id")+"/roles"},r.prototype.resourceName="roles",r.prototype.nestAccountModel=function(e){return e.account=new n(e.account),e},r.prototype.parse=function(e){return e.role&&this.set("id",e.role),e=this.nestAccountModel(e)},r.prototype.validate=function(){var e;return e={},o.isEmpty(e)?void 0:e},r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,o){function n(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};define("compiled/collections/RolesCollection",["Backbone","underscore","compiled/models/Role"],function(e,o,n){var r,s;return r=function(e){function r(){return s=r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.model=n,r.prototype.sortOrder=["NoPermissions","AccountMembership","StudentEnrollment","TaEnrollment","TeacherEnrollment","DesignerEnrollment","ObserverEnrollment"],r.prototype.comparator=function(e){var t,n,r,s;return t=e.get("base_role_type"),n=o.indexOf(this.sortOrder,t),s=e.get("role"),r=""+n+"_"+t+"_"+s,t===s&&(r=""+n+"_"+t),"AccountAdmin"===s&&(r="0_"+t),r},r}(e.Collection)})}.call(this),function(){define("compiled/util/registerTemplateCss",[],function(){var e,t,o,n,r,s;return t=window.document,r={},o=function(e,t){return r[e]=t,n()},o.clear=function(){return r={},n()},n=function(){var o,n,s,l,i;s=[];for(i in r)n=r[i],s.push("/* From: "+i+" */"),s.push(n);return o=s.join("\n"),l=e(),"cssText"in l?l.cssText=o:l.appendChild(t.createTextNode(o))},s=null,e=function(){var e,o;if(s){for(;e=s.firstChild;)s.removeChild(e);return s}return t.createStyleSheet?s=t.createStyleSheet():(o=t.head||t.getElementsByTagName("head")[0],s=t.createElement("style"),o.appendChild(s))},o})}.call(this),define("translations/roles.roles_override_index",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{roles:{roles_override_index:{account_roles:"أدوار الحساب",course_roles:"أدوار المساق",page_header_title:"أذونات الحساب"}}},de:{roles:{roles_override_index:{account_roles:"Kontorollen",course_roles:"Kursrollen",page_header_title:"Kontoberechtigungen"}}},"en-AU":{roles:{roles_override_index:{account_roles:"Account Roles",course_roles:"Course Roles",page_header_title:"Account Permissions"}}},"en-GB":{roles:{roles_override_index:{account_roles:"Account roles",course_roles:"Course roles",page_header_title:"Account permissions"}}},es:{roles:{roles_override_index:{account_roles:"Funciones de la cuenta",course_roles:"Funciones del curso",page_header_title:"Permisos para la cuenta"}}},"fa-IR":{roles:{roles_override_index:{account_roles:"نقش های حساب",course_roles:"نقش های درس",page_header_title:"مجوزهای حساب"}}},fr:{roles:{roles_override_index:{account_roles:"Rôles du compte",course_roles:"Rôles du cours",page_header_title:"Autorisations du compte"}}},ja:{roles:{roles_override_index:{account_roles:"アカウントの役割",course_roles:"コースの役割",page_header_title:"アカウントの権限"}}},nb:{roles:{roles_override_index:{account_roles:"Kontoroller",course_roles:"Kursroller",page_header_title:"Kontotillatelser"}}},nl:{roles:{roles_override_index:{account_roles:"Account functies",course_roles:"Cursus functies",page_header_title:"Machtigingen voor accounts"}}},pl:{roles:{roles_override_index:{account_roles:"Role konta",course_roles:"Role kursu",page_header_title:"Uprawnienia konta"}}},pt:{roles:{roles_override_index:{account_roles:"Funções da conta",course_roles:"Funções da disciplina",page_header_title:"Permissões de conta"}}},"pt-BR":{roles:{roles_override_index:{account_roles:"Funções da conta",course_roles:"Funções do curso",page_header_title:"Permissões de conta"}}},ru:{roles:{roles_override_index:{account_roles:"Роли учетной записи",course_roles:"Роли курса",page_header_title:"Разрешения учетной записи"}}},tr:{roles:{roles_override_index:{account_roles:"Hesap Rolleri",course_roles:"Kurs Rolleri",page_header_title:"Hesap İzinleri"}}},zh:{roles:{roles_override_index:{account_roles:"帐户角色",course_roles:"课程角色",page_header_title:"帐户权限"}}},zh_Hant:{roles:{roles_override_index:{account_roles:"帳戶角色",course_roles:"課程角色",page_header_title:"帳戶權限"}}}}})}),define("jst/roles/rolesOverrideIndex",["compiled/handlebars_helpers","compiled/util/registerTemplateCss","i18n!roles.roles_override_index"],function(e){var t=e.template,o=e.templates=e.templates||{};return o["roles/rolesOverrideIndex"]=t(function(e,t,o,n,r){function s(e,t){var n,r,s,l="";return l+='\n      <li role="heading" aria-level="2"><a href="#course-roles-tab" id="course_role_link">',r=o.t||e&&e.t,s={hash:{scope:"roles.roles_override_index"},data:t},n=r?r.call(e,"course_roles","Course Roles",s):p.call(e,"t","course_roles","Course Roles",s),(n||0===n)&&(l+=n),l+="</a></li>\n    "}function l(){return'\n    <div id="course-roles-tab" class="course-roles role-tab"></div>\n  '}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,e.helpers),r=r||{};var i,a,d,c="",p=o.helperMissing,u=this;return c+='<h1 class="screenreader-only">',a=o.t||t&&t.t,d={hash:{scope:"roles.roles_override_index"},data:r},i=a?a.call(t,"page_header_title","Account Permissions",d):p.call(t,"t","page_header_title","Account Permissions",d),(i||0===i)&&(c+=i),c+='</h1>\n<div id="role_tabs" class="ui-tabs-minimal manage-permissions">\n  <ul>\n    ',i=o["if"].call(t,t&&t.showCourseRoles,{hash:{},inverse:u.noop,fn:u.program(1,s,r),data:r}),(i||0===i)&&(c+=i),c+='\n    <li role="heading" aria-level="2"><a href="#account-roles-tab" id="account_role_link">',a=o.t||t&&t.t,d={hash:{scope:"roles.roles_override_index"},data:r},i=a?a.call(t,"account_roles","Account Roles",d):p.call(t,"t","account_roles","Account Roles",d),(i||0===i)&&(c+=i),c+="</a></li>\n  </ul>\n\n  ",i=o["if"].call(t,t&&t.showCourseRoles,{hash:{},inverse:u.noop,fn:u.program(3,l,r),data:r}),(i||0===i)&&(c+=i),c+='\n  <div id="account-roles-tab" class="account-roles role-tab"></div>\n</div>\n'}),arguments[1]("roles/rolesOverrideIndex",".table th,.table td{border:none !important;}.role-tab{padding-bottom:200px !important;overflow-x:scroll;}.manage-permissions thead th{text-align:center;white-space:nowrap;width:0;}.manage-permissions td{vertical-align:middle;}.manage-permissions th{width:20%;}.toolbar th,.toolbar td{background-color:#dae1e6 !important;}.toolbar th:hover,.toolbar td:hover{background-color:#dae1e6 !important;}"),o["roles/rolesOverrideIndex"]}),function(){var e={}.hasOwnProperty,t=function(t,o){function n(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};define("compiled/views/roles/RolesOverrideIndexView",["jquery","underscore","Backbone","jst/roles/rolesOverrideIndex"],function(e,o,n,r){var s,l;return s=function(e){function o(){return l=o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.template=r,o.prototype.els={"#role_tabs":"$roleTabs"},o.prototype.afterRender=function(){return this.$roleTabs.tabs()},o.prototype.toJSON=function(){return this.options},o}(n.View)})}.call(this),define("jst/roles/accountRoles",["compiled/handlebars_helpers"],function(e){var t=e.template,o=e.templates=e.templates||{};return o["roles/accountRoles"]=t(function(e,t,o,n,r){return this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,e.helpers),r=r||{},'<div class="new-role"></div>\n<table id="account_roles" class=\'table table-striped table-hover table-condensed\'></table>\n'}),o["roles/accountRoles"]}),function(){var e={}.hasOwnProperty,t=function(t,o){function n(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};define("compiled/views/roles/AccountRolesView",["jquery","underscore","Backbone","jst/roles/accountRoles"],function(e,o,n,r){var s,l;return s=function(e){function o(){return l=o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.template=r,o}(n.View)})}.call(this),define("jst/roles/courseRoles",["compiled/handlebars_helpers"],function(e){var t=e.template,o=e.templates=e.templates||{};return o["roles/courseRoles"]=t(function(e,t,o,n,r){return this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,e.helpers),r=r||{},'<div class="new-role"></div>\n<table id="course_roles" class=\'table table-striped table-hover table-condensed\'></table>\n'}),o["roles/courseRoles"]}),function(){var e={}.hasOwnProperty,t=function(t,o){function n(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};define("compiled/views/roles/CourseRolesView",["jquery","underscore","Backbone","jst/roles/courseRoles"],function(e,o,n,r){var s,l;return s=function(e){function o(){return l=o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.template=r,o}(n.View)})}.call(this),define("translations/roles",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{roles:{permissions:"الأذونات"}},de:{roles:{permissions:"Berechtigungen"}},"en-AU":{roles:{permissions:"Permissions"}},"en-GB":{roles:{permissions:"Permissions"}},es:{roles:{permissions:"Permisos"}},"fa-IR":{roles:{permissions:"مجوزها"}},fr:{roles:{permissions:"Autorisations"}},ja:{roles:{permissions:"権限"}},nb:{roles:{permissions:"Tillatelser"}},nl:{roles:{permissions:"Machtigingen"}},pl:{roles:{permissions:"Uprawnienia"}},pt:{roles:{permissions:"Permissões"}},"pt-BR":{roles:{permissions:"Permissões"}},ru:{roles:{permissions:"Разрешения"}},tr:{roles:{permissions:"İzinler"}},zh:{roles:{permissions:"权限"}},zh_Hant:{roles:{permissions:"權限"}}}})}),define("jst/roles/manageRoles",["compiled/handlebars_helpers"],function(e){var t=e.template,o=e.templates=e.templates||{};return o["roles/manageRoles"]=t(function(e,t,o,n,r){return this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,e.helpers),r=r||{},"<thead>\n  <tr></tr>\n</thead>\n\n<tbody></tbody>\n"}),o["roles/manageRoles"]}),define("translations/roles.permission_button",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{roles:{permission_button:{rolebutton:{disable:"تعطيل",disable_and_lock:"تعطيل وتأمين",enable:"تمكين",enable_and_lock:"تمكين وتأمين",use_default:"استخدام الافتراضي"}}}},de:{roles:{permission_button:{rolebutton:{disable:"Deaktivieren",disable_and_lock:"Deaktivieren und sperren",enable:"Aktivieren",enable_and_lock:"Aktivieren und sperren",use_default:"Standardmäßige verwenden"}}}},"en-AU":{roles:{permission_button:{rolebutton:{disable:"Disable",disable_and_lock:"Disable and Lock",enable:"Enable",enable_and_lock:"Enable and Lock",use_default:"Use Default"}}}},"en-GB":{roles:{permission_button:{rolebutton:{disable:"Disable",disable_and_lock:"Disable and lock",enable:"Enable",enable_and_lock:"Enable and lock",use_default:"Use default"}}}},es:{roles:{permission_button:{rolebutton:{disable:"Deshabilitar",disable_and_lock:"Deshabilitar y bloquear",enable:"Habilitar",enable_and_lock:"Habilitar y bloquear",use_default:"Usar predeterminado"}}}},"fa-IR":{roles:{permission_button:{rolebutton:{disable:"غیر فعال سازی",disable_and_lock:"غیر فعال کردن و قفل کردن",enable:"فعال سازی",enable_and_lock:"فعال کردن و قفل کردن",use_default:"استفاده از پیش فرض"}}}},fr:{roles:{permission_button:{rolebutton:{disable:"Désactiver",disable_and_lock:"Désactiver et verrouiller",enable:"Activer",enable_and_lock:"Activer et verrouiller",use_default:"Utiliser les valeurs par défaut"}}}},ja:{roles:{permission_button:{rolebutton:{disable:"無効",disable_and_lock:"無効にしてロック",enable:"有効",enable_and_lock:"有効にしてロック",use_default:"デフォルトを使用"}}}},nb:{roles:{permission_button:{rolebutton:{disable:"Slå av",disable_and_lock:"Slå av og lås",enable:"Slå på",enable_and_lock:"Slå på og lås",use_default:"Bruk standard"}}}},nl:{roles:{permission_button:{rolebutton:{disable:"Uitschakelen",disable_and_lock:"Uitschakelen en vergrendelen",enable:"Inschakelen",enable_and_lock:"Inschakelen en vergrendelen",use_default:"Gebruik standaard"}}}},pl:{roles:{permission_button:{rolebutton:{disable:"Wyłącz",disable_and_lock:"Wyłącz i zablokuj",enable:"Uaktywnij",enable_and_lock:"Uaktywnij i zablokuj",use_default:"Użyj domyślne"}}}},pt:{roles:{permission_button:{rolebutton:{disable:"Desativar",disable_and_lock:"Desativar e bloquear",enable:"Ativar",enable_and_lock:"Ativar e bloquear",use_default:"Utilizar predefinição"}}}},"pt-BR":{roles:{permission_button:{rolebutton:{disable:"Desativar",disable_and_lock:"Desativar e bloquear",enable:"Ativar",enable_and_lock:"Ativar e bloquear",use_default:"Utilizar padrão"}}}},ru:{roles:{permission_button:{rolebutton:{disable:"Отключить",disable_and_lock:"Отключить и заблокировать",enable:"Включить",enable_and_lock:"Включить и заблокировать",use_default:"Использовать настройки по умолчанию"}}}},tr:{roles:{permission_button:{rolebutton:{disable:"Devre Dışı",disable_and_lock:"Devre Dışı ve Kilitli",enable:"Etkin",enable_and_lock:"Aktif ve Kilitli",use_default:"Varsayılanı Kullan"}}}},zh:{roles:{permission_button:{rolebutton:{disable:"禁用",disable_and_lock:"禁用和锁定",enable:"启用",enable_and_lock:"启用和锁定",use_default:"使用默认设置"}}}},zh_Hant:{roles:{permission_button:{rolebutton:{disable:"停用",disable_and_lock:"停用並鎖定",enable:"啟用",enable_and_lock:"啟用並鎖定",use_default:"使用預設"}}}}}})}),define("jst/roles/permissionButton",["compiled/handlebars_helpers","compiled/util/registerTemplateCss","i18n!roles.permission_button"],function(e){var t=e.template,o=e.templates=e.templates||{};return o["roles/permissionButton"]=t(function(e,t,o,n,r){function s(){return'title="Default"'}function l(){return"default_permission"}function i(){return'disabled="disabled" data-tooltip title="You do not have permission to change this" '}function a(){return'checked="checked"'}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,e.helpers),r=r||{};var d,c,p,u="",_=this,h="function",m=this.escapeExpression,b=o.helperMissing;return u+='<div class="btn-group" ',d=o["if"].call(t,t&&t.addDefaultTitle,{hash:{},inverse:_.noop,fn:_.program(1,s,r),data:r}),(d||0===d)&&(u+=d),u+='>\n  <a class="btn btn-small dropdown-toggle ',d=o["if"].call(t,t&&t["default"],{hash:{},inverse:_.noop,fn:_.program(3,l,r),data:r}),(d||0===d)&&(u+=d),u+='" href="#" data-toggle="dropdown" ',d=o["if"].call(t,t&&t.readOnly,{hash:{},inverse:_.noop,fn:_.program(5,i,r),data:r}),(d||0===d)&&(u+=d),u+='><i class="icon-check"></i><i class="icon-lock"></i></a>\n\n  <div class="dropdown-menu" role="radiogroup">\n    <input type="radio" name="permission-for-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'" value="0" role="radio" id="button-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'-0" ',d=o["if"].call(t,t&&t.enableChecked,{hash:{},inverse:_.noop,fn:_.program(7,a,r),data:r}),(d||0===d)&&(u+=d),u+=' >\n    <label tabindex="0" for="button-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'-0"><i class="icon-check"></i></i><span class="text">',c=o.t||t&&t.t,p={hash:{scope:"roles.permission_button"},data:r},d=c?c.call(t,"rolebutton.enable","Enable",p):b.call(t,"t","rolebutton.enable","Enable",p),(d||0===d)&&(u+=d),u+='</span></label>\n\n    <input type="radio" name="permission-for-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'" value="0" role="radio" id="button-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'-1" ',d=o["if"].call(t,t&&t.enableAndLockChecked,{hash:{},inverse:_.noop,fn:_.program(7,a,r),data:r}),(d||0===d)&&(u+=d),u+='>\n    <label tabindex=1 for="button-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'-1"><i class="icon-check"></i><i class="icon-lock"></i><span class="text">',c=o.t||t&&t.t,p={hash:{scope:"roles.permission_button"},data:r},d=c?c.call(t,"rolebutton.enable_and_lock","Enable and Lock",p):b.call(t,"t","rolebutton.enable_and_lock","Enable and Lock",p),(d||0===d)&&(u+=d),u+='</span></label>\n\n    <input type="radio" name="permission-for-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'" value="0" role="radio" id="button-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'-2" ',d=o["if"].call(t,t&&t.disableChecked,{hash:{},inverse:_.noop,fn:_.program(7,a,r),data:r}),(d||0===d)&&(u+=d),u+='>\n    <label tabindex=2 for="button-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'-2"><i class="icon-x"></i><span class="text">',c=o.t||t&&t.t,p={hash:{scope:"roles.permission_button"},data:r},d=c?c.call(t,"rolebutton.disable","Disable",p):b.call(t,"t","rolebutton.disable","Disable",p),(d||0===d)&&(u+=d),u+='</span></label>\n\n    <input type="radio" name="permission-for-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'" value="0" role="radio" id="button-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'-3" ',d=o["if"].call(t,t&&t.disableAndLockChecked,{hash:{},inverse:_.noop,fn:_.program(7,a,r),data:r}),(d||0===d)&&(u+=d),u+='>\n    <label tabindex=3 for="button-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'-3"><i class="icon-x"></i><i class="icon-lock"></i><span class="text">',c=o.t||t&&t.t,p={hash:{scope:"roles.permission_button"},data:r},d=c?c.call(t,"rolebutton.disable_and_lock","Disable and Lock",p):b.call(t,"t","rolebutton.disable_and_lock","Disable and Lock",p),(d||0===d)&&(u+=d),u+='</span></label>\n    <li class="divider"></li>\n\n    <input type="radio" name="permission-for-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'" value="0" role="radio" id="button-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'-4" ',d=o["if"].call(t,t&&t.systemDefaultChecked,{hash:{},inverse:_.noop,fn:_.program(7,a,r),data:r}),(d||0===d)&&(u+=d),u+='>\n    <label tabindex=4 for="button-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'-4" class="clearfix"><span class="text">',c=o.t||t&&t.t,p={hash:{scope:"roles.permission_button"},data:r},d=c?c.call(t,"rolebutton.use_default","Use Default",p):b.call(t,"t","rolebutton.use_default","Use Default",p),(d||0===d)&&(u+=d),u+='</span></label>\n\n    <input type="radio" name="permission-for-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'" value="0" role="radio" id="button-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'-5" ',d=o["if"].call(t,t&&t.systemDefaultLockedChecked,{hash:{},inverse:_.noop,fn:_.program(7,a,r),data:r}),(d||0===d)&&(u+=d),u+='>\n    <label tabindex=5 for="button-',(c=o.cid)?d=c.call(t,{hash:{},data:r}):(c=t&&t.cid,d=typeof c===h?c.call(t,{hash:{},data:r}):c),u+=m(d)+'-5" class="clearfix"><i class="icon-lock"></i><span class="text">',c=o.t||t&&t.t,p={hash:{scope:"roles.permission_button"},data:r},d=c?c.call(t,"rolebutton.use_default","Use Default",p):b.call(t,"t","rolebutton.use_default","Use Default",p),(d||0===d)&&(u+=d),u+="</span></label>\n </div>\n</div>\n"}),arguments[1]("roles/permissionButton",".table td.permissionButtonView{position:relative;}.table td.permissionButtonView .default_permission{opacity:0.5;}.table td.permissionButtonView .icon-x{color:#9B0000;}.table td.permissionButtonView .icon-check{color:green;}.table td.permissionButtonView .btn-group{margin:0 auto;width:40px;position:relative;}.table td.permissionButtonView .btn-group .btn.dropdown-toggle{position:relative;min-width:35px;}.table td.permissionButtonView .btn-group .btn.dropdown-toggle:disabled,.table td.permissionButtonView .btn-group .btn.dropdown-toggle[disabled]{background:none;border:none;}.table td.permissionButtonView .btn-group .btn.dropdown-toggle:disabled .icon-lock,.table td.permissionButtonView .btn-group .btn.dropdown-toggle[disabled] .icon-lock{display:none;}.table td.permissionButtonView .dropdown-menu{text-align:left;}.table td.permissionButtonView .dropdown-menu input[type=radio]{position:absolute;left:-9999px;}.table td.permissionButtonView .dropdown-menu label{display:block;padding:5px;}.table td.permissionButtonView .dropdown-menu span.text{float:right;text-align:left !important;width:110px;}.table td.permissionButtonView .dropdown-menu span.text:last{float:none;text-align:center;display:block;}.table td.permissionButtonView .dropdown-menu label:hover,.table td.permissionButtonView .dropdown-menu label:focus,.table td.permissionButtonView .dropdown-menu input:checked+label{text-decoration:none;color:white;background-color:#0081C2;background-image:-webkit-linear-gradient(top, #08C, #0077B3);background-image:linear-gradient(to bottom, #08C, #0077B3);background-repeat:repeat-x;}table#course_roles thead,table#account_roles thead{background:#fff;}"),o["roles/permissionButton"]}),function(){var e={}.hasOwnProperty,t=function(t,o){function n(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};define("compiled/views/roles/PermissionButtonView",["jquery","underscore","Backbone","jst/roles/permissionButton"],function(e,o,n,r){var s,l;return s=function(n){function s(){return l=s.__super__.constructor.apply(this,arguments)}return t(s,n),s.prototype.template=r,s.prototype.tagName="td",s.prototype.className="permissionButtonView",s.prototype.events={"change input[type=radio]":"updateRole"},s.prototype.initialize=function(){return s.__super__.initialize.apply(this,arguments),this.options.permission_name?this.permission_name=this.options.permission_name:void 0},s.prototype.toJSON=function(){var e;return e=s.__super__.toJSON.apply(this,arguments),e.enableChecked=this.isEnabled(),e.enableAndLockChecked=this.isEnabledAndLocked(),e.disableChecked=this.isDisabled(),e.disableAndLockChecked=this.isDisabledAndLocked(),e.systemDefaultChecked=this.isDefault(),e.systemDefaultLockedChecked=this.isDefaultAndLocked(),e.readOnly=this.isReadOnly(),e["default"]=this.isDefault()||this.isDefaultAndLocked(),e.addDefaultTitle=this.isDefault()||this.isDefaultAndLocked()&&!this.isReadOnly(),e},s.prototype.afterRender=function(){return this.setPreviewIcons(),this.setDataAttributes(),this.setTooltips()},s.prototype.setDataAttributes=function(){return this.$el.attr("data-role_name",this.model.id),this.$el.attr("data-permission_name",this.permission_name)},s.prototype.setTooltips=function(){return this.isReadOnly()||this.$el.find(".icon-check").attr("title","Enabled").attr("data-tooltip",""),this.isReadOnly()||this.$el.find(".icon-x").attr("title","Disabled").attr("data-tooltip",""),this.isReadOnly()?void 0:this.$el.find(".icon-lock").attr("title","Locked").attr("data-tooltip","")},s.prototype.setPreviewIcons=function(){return this.isEnabled()?this.setEnabledIcon():this.isEnabledAndLocked()?this.setEnabledLockedIcon():this.isDisabled()?this.setDisabledIcon():this.isDisabledAndLocked()?this.setDisabledLockedIcon():this.isDefault()?this.setDefaultIcon():this.isDefaultAndLocked()?this.setDefaultAndLockedIcon():void 0},s.prototype.updateRole=function(t){switch(t.preventDefault(),e(t.target).attr("id")){case"button-"+this.cid+"-0":this.$el.find("a.btn").removeClass("default_permission"),this.enable();break;case"button-"+this.cid+"-1":this.$el.find("a.btn").removeClass("default_permission"),this.enableAndLock();break;case"button-"+this.cid+"-2":this.$el.find("a.btn").removeClass("default_permission"),this.disable();break;case"button-"+this.cid+"-3":this.$el.find("a.btn").removeClass("default_permission"),this.disableAndLock();break;case"button-"+this.cid+"-4":this.$el.find("a.btn").addClass("default_permission"),this.setSystemDefault();break;case"button-"+this.cid+"-5":this.$el.find("a.btn").addClass("default_permission"),this.setSystemDefaultAndLocked()}return this.setPreviewIcons(),this.closeMenu(),this.saveModel()},s.prototype.saveModel=function(){return this.model.save({},{failure:function(){return alert("Permission was not be saved!")}})},s.prototype.closeMenu=function(){return this.$el.children(".btn-group").removeClass("open")},s.prototype.enable=function(){return this.model.get("permissions")[this.permission_name].enabled=!0,this.model.get("permissions")[this.permission_name].explicit=!0,this.model.get("permissions")[this.permission_name].locked=!1},s.prototype.enableAndLock=function(){return this.model.get("permissions")[this.permission_name].enabled=!0,this.model.get("permissions")[this.permission_name].explicit=!0,this.model.get("permissions")[this.permission_name].locked=!0},s.prototype.disable=function(){return this.model.get("permissions")[this.permission_name].enabled=!1,this.model.get("permissions")[this.permission_name].explicit=!0,this.model.get("permissions")[this.permission_name].locked=!1},s.prototype.disableAndLock=function(){return this.model.get("permissions")[this.permission_name].enabled=!1,this.model.get("permissions")[this.permission_name].explicit=!0,this.model.get("permissions")[this.permission_name].locked=!0},s.prototype.setSystemDefault=function(){return this.model.get("permissions")[this.permission_name].locked=!1,this.model.get("permissions")[this.permission_name].explicit=!1},s.prototype.setSystemDefaultAndLocked=function(){return this.model.get("permissions")[this.permission_name].locked=!0,this.model.get("permissions")[this.permission_name].explicit=!1},s.prototype.isEnabled=function(){return this.model.get("permissions")[this.permission_name].enabled&&!this.isLocked()&&this.isExplicit()},s.prototype.isEnabledAndLocked=function(){return this.model.get("permissions")[this.permission_name].enabled&&this.isLocked()&&this.isExplicit()},s.prototype.isDisabled=function(){return!this.model.get("permissions")[this.permission_name].enabled&&!this.isLocked()&&this.isExplicit()},s.prototype.isDisabledAndLocked=function(){return!this.model.get("permissions")[this.permission_name].enabled&&this.isLocked()&&this.isExplicit()},s.prototype.isDefault=function(){return!this.isExplicit()&&!this.isLocked()},s.prototype.isDefaultAndLocked=function(){return!this.isExplicit()&&this.isLocked()},s.prototype.isReadOnly=function(){return this.model.get("permissions")[this.permission_name].readonly},s.prototype.isExplicit=function(){return this.model.get("permissions")[this.permission_name].explicit},s.prototype.isLocked=function(){return this.model.get("permissions")[this.permission_name].locked},s.prototype.setButtonPreview=function(e){var t;return t=this.$el.find("label[for=button-"+this.cid+"-"+e+"] i").clone(),this.$el.find("a.dropdown-toggle").html(t)},s.prototype.setEnabledIcon=function(){return this.setButtonPreview(0)},s.prototype.setEnabledLockedIcon=function(){return this.setButtonPreview(1)},s.prototype.setDisabledIcon=function(){return this.setButtonPreview(2)},s.prototype.setDisabledLockedIcon=function(){return this.setButtonPreview(3)},s.prototype.setDefaultIcon=function(){return o.isUndefined(this.model.get("permissions")[this.permission_name].prior_default)?this.model.get("permissions")[this.permission_name].enabled?this.setEnabledIcon():this.setDisabledIcon():this.model.get("permissions")[this.permission_name].prior_default?this.setEnabledIcon():this.setDisabledIcon()},s.prototype.setDefaultAndLockedIcon=function(){return o.isUndefined(this.model.get("permissions")[this.permission_name].prior_default)?this.model.get("permissions")[this.permission_name].enabled?this.setEnabledLockedIcon():this.setDisabledLockedIcon():this.model.get("permissions")[this.permission_name].prior_default?this.setEnabledLockedIcon():this.setDisabledLockedIcon()},s}(n.View)})}.call(this),define("jst/roles/roleHeader",["compiled/handlebars_helpers"],function(e){var t=e.template,o=e.templates=e.templates||{};return o["roles/roleHeader"]=t(function(e,t,o,n,r){function s(e,t){var n,r,s="";return s+='<a href="#" aria-label="Delete role ',(r=o.role)?n=r.call(e,{hash:{},data:t}):(r=e&&e.role,n=typeof r===d?r.call(e,{hash:{},data:t}):r),s+=c(n)+'"><i class="icon-end standalone-icon" ></i></a>'}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,e.helpers),r=r||{};var l,i,a="",d="function",c=this.escapeExpression,p=this;return a+='<em data-tooltip title="',(i=o.baseRoleTip)?l=i.call(t,{hash:{},data:r}):(i=t&&t.baseRoleTip,l=typeof i===d?i.call(t,{hash:{},data:r}):i),a+=c(l)+'">',(i=o.label)?l=i.call(t,{hash:{},data:r}):(i=t&&t.label,l=typeof i===d?i.call(t,{hash:{},data:r}):i),a+=c(l)+"</em>\n",l=o["if"].call(t,t&&t.deletable,{hash:{},inverse:p.noop,fn:p.program(1,s,r),data:r}),(l||0===l)&&(a+=l),a+="\n"}),o["roles/roleHeader"]}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,o=function(e,o){function n(){this.constructor=e}for(var r in o)t.call(o,r)&&(e[r]=o[r]);return n.prototype=o.prototype,e.prototype=new n,e.__super__=o.prototype,e};define("compiled/views/roles/RoleHeaderView",["i18n!editor","jquery","underscore","Backbone","jst/roles/roleHeader"],function(t,n,r,s,l){var i,a;return i=function(n){function s(){return this.addLoadingHeader=e(this.addLoadingHeader,this),a=s.__super__.constructor.apply(this,arguments)}return o(s,n),s.prototype.template=l,s.prototype.tagName="th",s.prototype.className="roleHeader",s.prototype.staticRoles=["AccountAdmin","AccountMembership","StudentEnrollment","TeacherEnrollment","TaEnrollment","ObserverEnrollment","DesignerEnrollment"],s.prototype.events={"click a":"removeRole"},s.prototype.initialize=function(){return s.__super__.initialize.apply(this,arguments),this.model.on("destroying",this.addLoadingHeader)},s.prototype.addLoadingHeader=function(){return this.$el.find("a").replaceWith('<img class="loading-icon" src="/images/ajax-reload-animated.gif">')},s.prototype.deletable=function(){return!r.contains(this.staticRoles,this.model.get("role"))},s.prototype.toJSON=function(){var e;return e=s.__super__.toJSON.apply(this,arguments),e.deletable=this.deletable(),this.showBaseRoleType()&&(e.baseRoleTip=t.t("based_on_type","Based on %{base_type}",{base_type:this.model.get("base_role_type_label")})),e},s.prototype.removeRole=function(e){var o=this;return e.preventDefault(),confirm(t.t("role.remove_role_confirmation","If there are any users with this role, they will keep the current permissions but you will not be able to create new users with this role. Click ok to continue deleting this role."))?this.model.destroy({error:function(e){return alert(""+e.role+" could not be remove, contact your site admin if this continues."),o.removeLoadingIcon()
},wait:!0}):void 0},s.prototype.showBaseRoleType=function(){return!r.contains(this.staticRoles,this.model.get("role"))&&null!=this.model.get("base_role_type_label")},s.prototype.afterRender=function(){return this.$el.attr("role","columnheader")},s.prototype.removeLoadingIcon=function(){return this.$el.find(".loading-icon").remove()},s}(s.View)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,o=function(e,o){function n(){this.constructor=e}for(var r in o)t.call(o,r)&&(e[r]=o[r]);return n.prototype=o.prototype,e.prototype=new n,e.__super__=o.prototype,e};define("compiled/views/roles/ManageRolesView",["i18n!roles","jquery","underscore","Backbone","jst/roles/manageRoles","compiled/views/roles/PermissionButtonView","compiled/views/roles/RoleHeaderView"],function(t,n,r,s,l,i,a){var d,c;return d=function(n){function s(){return this.renderTable=e(this.renderTable,this),c=s.__super__.constructor.apply(this,arguments)}return o(s,n),s.prototype.template=l,s.prototype.className="manage-roles-table",s.prototype.initialize=function(){return s.__super__.initialize.apply(this,arguments),this.options.permission_groups&&(this.permission_groups=this.options.permission_groups),this.collection.on("add",this.renderTable),this.collection.on("remove",this.renderTable)},s.prototype.afterRender=function(){return this.renderTable()},s.prototype.renderHeader=function(){var e=this;return this.$el.find("thead tr").html("<th>"+t.t("permissions","Permissions")+"</th>"),this.collection.each(function(t){var o;return o=new a({model:t}),e.$el.find("thead tr").append(o.render().el)})},s.prototype.renderTable=function(){var e=this;return this.renderHeader(),this.$el.find("tbody").html(""),r.each(this.permission_groups,function(t){var o;return o='<tr class="toolbar">\n  <th colspan="'+(e.collection.length+1)+'">'+t.group_name.toUpperCase()+"</th>\n</tr>",e.$el.find("tbody").append(o),r.each(t.group_permissions,function(t){var o;return o='<tr>\n  <th role="rowheader">'+t.label+"</th>\n</tr>",e.$el.find("tbody").append(o),e.collection.each(function(o){var n;return n=new i({model:o,permission_name:t.permission_name}),e.$el.find("tr").last().append(n.render().el)})})})},s}(s.View)})}.call(this),define("translations/roles.new_role",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{roles:{new_role:{add:"إضافة",add_role:"إضافة دور",add_role_label:"إضافة دور",role_name:"اسم الدور",role_name_label:"اسم الدور"}}},de:{roles:{new_role:{add:"Hinzufügen",add_role:"Rolle hinzufügen",add_role_label:"Rolle hinzufügen",role_name:"Rollenname",role_name_label:"Rollenname"}}},"en-AU":{roles:{new_role:{add:"Add",add_role:"Add Role",add_role_label:"Add Role",role_name:"Role name",role_name_label:"Role Name"}}},"en-GB":{roles:{new_role:{add:"Add",add_role:"Add Role",add_role_label:"Add Role",role_name:"Role name",role_name_label:"Role name"}}},es:{roles:{new_role:{add:"Agregar",add_role:"Agregar función",add_role_label:"Agregar función",role_name:"Nombre de la función",role_name_label:"Nombre de la función"}}},"fa-IR":{roles:{new_role:{add:"افزودن",add_role:"افزودن نقش",add_role_label:"افزودن نقش",role_name:"نام نقش",role_name_label:"نام نقش"}}},fr:{roles:{new_role:{add:"Ajouter",add_role:"Ajouter un rôle",add_role_label:"Ajouter un rôle",role_name:"Nom du rôle",role_name_label:"Nom du rôle"}}},ja:{roles:{new_role:{add:"追加",add_role:"役割を追加",add_role_label:"役割を追加",role_name:"役割名",role_name_label:"役割名"}}},nb:{roles:{new_role:{add:"Legg til",add_role:"Legg til rolle",add_role_label:"Legg til rolle",role_name:"Rollenavn",role_name_label:"Rollenavn"}}},nl:{roles:{new_role:{add:"Toevoegen",add_role:"Functie toevoegen",add_role_label:"Functie toevoegen",role_name:"Functienaam",role_name_label:"Functienaam"}}},pl:{roles:{new_role:{add:"Dodaj",add_role:"Dodaj rolę",add_role_label:"Dodaj rolę",role_name:"Nazwa roli",role_name_label:"Nazwa roli"}}},pt:{roles:{new_role:{add:"Adicionar",add_role:"Adicionar função",add_role_label:"Adicionar função",role_name:"Nome da função",role_name_label:"Nome da função"}}},"pt-BR":{roles:{new_role:{add:"Adicionar",add_role:"Adicionar função",add_role_label:"Adicionar função",role_name:"Nome da função",role_name_label:"Nome da função"}}},ru:{roles:{new_role:{add:"Добавить",add_role:"Добавить роль",add_role_label:"Добавить роль",role_name:"Название роли",role_name_label:"Название роли"}}},tr:{roles:{new_role:{add:"Ekle",add_role:"Rol Ekle",add_role_label:"Rol Ekle",role_name:"Rol ismi",role_name_label:"Rol İsmi"}}},zh:{roles:{new_role:{add:"添加",add_role:"添加角色",add_role_label:"添加角色",role_name:"角色名称",role_name_label:"角色名称"}}},zh_Hant:{roles:{new_role:{add:"新增",add_role:"新增角色",add_role_label:"新增角色",role_name:"角色名稱",role_name_label:"角色名稱"}}}}})}),define("jst/roles/newRole",["compiled/handlebars_helpers","compiled/util/registerTemplateCss","i18n!roles.new_role"],function(e){var t=e.template,o=e.templates=e.templates||{};return o["roles/newRole"]=t(function(e,t,o,n,r){function s(){return"disabled"}function l(e,t){var n,r,s="";return s+='\n          <option role="menuitem" value="',(r=o.value)?n=r.call(e,{hash:{},data:t}):(r=e&&e.value,n=typeof r===p?r.call(e,{hash:{},data:t}):r),s+=u(n)+'">',(r=o.label)?n=r.call(e,{hash:{},data:t}):(r=e&&e.label,n=typeof r===p?r.call(e,{hash:{},data:t}):r),s+=u(n)+"</option>\n        "}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,e.helpers),r=r||{};var i,a,d,c="",p="function",u=this.escapeExpression,_=o.helperMissing,h=this;return c+='<div class="btn-group">\n  <a class="btn btn-primary dropdown-toggle" aria-role="link" href="#" data-toggle="dropdown" aria-haspopup="true">',a=o.t||t&&t.t,d={hash:{scope:"roles.new_role"},data:r},i=a?a.call(t,"add_role","Add Role",d):_.call(t,"t","add_role","Add Role",d),(i||0===i)&&(c+=i),c+='</a>\n  <div class="dropdown-menu bootstrap-form new-role" aria-hidden="true">\n    <form class="form-inline">\n        <input type=\'text\' aria-label="',a=o.t||t&&t.t,d={hash:{scope:"roles.new_role"},data:r},i=a?a.call(t,"role_name_label","Role Name",d):_.call(t,"t","role_name_label","Role Name",d),(i||0===i)&&(c+=i),c+='" tabindex=1 placeholder="',a=o.t||t&&t.t,d={hash:{scope:"roles.new_role"},data:r},i=a?a.call(t,"role_name","Role name",d):_.call(t,"t","role_name","Role name",d),(i||0===i)&&(c+=i),c+='"></input>\n      <select aria-label="Role Basetype" tabindex=2 ',i=o["if"].call(t,t&&t.adminRoles,{hash:{},inverse:h.noop,fn:h.program(1,s,r),data:r}),(i||0===i)&&(c+=i),c+=">\n        ",i=o.each.call(t,t&&t.base_role_types,{hash:{},inverse:h.noop,fn:h.program(3,l,r),data:r}),(i||0===i)&&(c+=i),c+='\n      </select>\n      <button type="submit" class="btn btn-primary" aria-label="',a=o.t||t&&t.t,d={hash:{scope:"roles.new_role"},data:r},i=a?a.call(t,"add_role_label","Add Role",d):_.call(t,"t","add_role_label","Add Role",d),(i||0===i)&&(c+=i),c+='" tabindex=3><i class="icon-add"></i> ',a=o.t||t&&t.t,d={hash:{scope:"roles.new_role"},data:r},i=a?a.call(t,"add","Add",d):_.call(t,"t","add","Add",d),(i||0===i)&&(c+=i),c+="</button>\n    <form>\n  </div>\n</div>\n"}),arguments[1]("roles/newRole","div.dropdown-menu.new-role{top:0px !important;padding:20px;}div.dropdown-menu.new-role select[disabled],div.dropdown-menu.new-role select:disabled{display:none;}"),o["roles/newRole"]}),function(){var e={}.hasOwnProperty,t=function(t,o){function n(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};define("compiled/views/roles/NewRoleView",["i18n!editor","jquery","underscore","Backbone","jst/roles/newRole","compiled/models/Role","compiled/models/Account"],function(e,o,n,r,s){var l,i;return l=function(o){function n(){return i=n.__super__.constructor.apply(this,arguments)}return t(n,o),n.prototype.template=s,n.prototype.els={"input[type=text]":"$role_name",select:"$base_role_type"},n.prototype.events={"click button":"createRole","submit form":"createRole"},n.prototype.initialize=function(){var e,t;return n.__super__.initialize.apply(this,arguments),this.base_role_types=null!=(e=this.options)?e.base_role_types:void 0,this.adminRoles=null!=(t=this.options)?t.admin_roles:void 0},n.prototype.toJSON=function(){var e;return e=n.__super__.toJSON.apply(this,arguments),e.base_role_types=this.base_role_types,e.adminRoles=this.adminRoles,e},n.prototype.createRole=function(t){var o,n,r,s=this;return t.preventDefault(),r=this.$role_name.val(),n=this.$base_role_type.val(),o={base_role_type:n,role:r,account:ENV.CURRENT_ACCOUNT.account},this.$el.find("a.dropdown-toggle").after('<img class="loading-icon" src="/images/ajax-reload-animated.gif">'),this.collection.create(o,{success:function(){return s.clearForm()},error:function(){return alert(e.t("role.duplicate_role_error","Could not create this role because a role with this name already exists. Please try a different name")),s.clearForm()},wait:!0})},n.prototype.clearForm=function(){return this.$role_name.val(""),this.$base_role_type.val(""),this.$el.find(".loading-icon").remove()},n}(r.View)})}.call(this),function(){require(["jquery","underscore","compiled/models/Role","compiled/models/Account","compiled/collections/RolesCollection","compiled/views/roles/RolesOverrideIndexView","compiled/views/roles/AccountRolesView","compiled/views/roles/CourseRolesView","compiled/views/roles/ManageRolesView","compiled/views/roles/NewRoleView"],function(e,t,o,n,r,s,l,i,a,d){var c,p,u,_,h,m;return p=new r(ENV.ACCOUNT_ROLES),h=new r(ENV.COURSE_ROLES),u=ENV.COURSE_PERMISSIONS,c=ENV.ACCOUNT_PERMISSIONS,_=[],t.each(ENV.COURSE_ROLES,function(e){return e.role===e.base_role_type?_.push({value:e.base_role_type,label:e.label}):void 0}),m=new s({el:"#content",showCourseRoles:!ENV.IS_SITE_ADMIN,views:{"account-roles":new l({views:{"#account_roles":new a({collection:p,permission_groups:c}),"new-role":new d({base_role_types:[{value:"AccountMembership",label:"AccountMembership"}],admin_roles:!0,collection:p})}}),"course-roles":new i({views:{"#course_roles":new a({collection:h,permission_groups:u}),"new-role":new d({base_role_types:_,collection:h})}})}}),m.render(),e("#section-tabs .permissions").addClass("active"),e(document).on("click",function(t){var o;return o=e(".btn-group"),0!==o.has(t.target).length||e(t.target).hasClass(".btn")?void 0:o.removeClass("open")}),e(document).on("click",".btn",function(t){var o,n=this;return t.preventDefault(),o=e(this).parent().hasClass("open"),e(".btn-group").removeClass("open"),o!==!1||e(this).attr("disabled")||(e(this).parent().addClass("open"),e(this).siblings(".dropdown-menu").find("input").first().focus()),e(document).on("keyup",function(t){return 27===t.keyCode?(e(".btn-group").removeClass("open"),e(n).focus()):void 0})})})}.call(this),define("compiled/bundles/roles",function(){});