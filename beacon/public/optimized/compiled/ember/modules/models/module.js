(function(){define(["ember","../lib/store","ic-ajax"],function(e,t,r){var i,s;return s=e.computed,i=e.Object.extend({serialize:function(){return this.getProperties(["name","unlock_at","position","require_sequential_progress","prerequisite_module_ids","publish_final_grade"])},url:function(){var e,t;return t=this.get("id"),e=this.constructor.baseUrl,t?""+e+"/"+t:e}.property("id"),save:function(){var e=this;return this.set("isSaving",!0),r.raw({data:{module:this.serialize()},type:this.get("id")?"put":"post",url:this.get("url")}).then(function(t){var r;return r=t.response,e.setProperties(r),e.set("isSaving",!1)},function(){return e.set("isSaving",!1),e.set("saveError",!0)})},destroy:function(){var e=this;return this.set("isDestroying",!0),r.raw({type:"delete",url:this.get("url")}).then(function(t){var r;return r=t.response,e.set("isDestroying",!1)},function(){return e.set("isDestroying",!1),e.set("destroyError",!0)})},locked:s.bool("unlock_at"),itemsWithContentUrl:function(){return""+this.get("items_url")+"?include[]=content_details"}.property("items_url")}),i.reopenClass({baseUrl:"/api/v1/courses/"+ENV.course_id+"/modules",createRecord:function(e){var r;return e.items&&this.createItems(e),r=this.create(e),e.id||r.save(),t.push("module",r)},createItems:function(e){var r,i;return r=t.lookup("item"),e.items=function(){var t,s,n,o;for(n=e.items,o=[],t=0,s=n.length;s>t;t++)i=n[t],o.push(r.createRecord(i));return o}()}}),t.register("module",i)})}).call(this);