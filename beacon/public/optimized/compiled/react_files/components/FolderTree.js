(function(){define(["react","react-router","compiled/views/FileBrowserView","../modules/customPropTypes"],function(r,e,o,t){var n;return n=r.createClass({displayName:"FolderTree",propTypes:{rootFoldersToShow:r.PropTypes.arrayOf(t.folder).isRequired,rootTillCurrentFolder:r.PropTypes.arrayOf(t.folder)},mixins:[e.Navigation],componentDidMount:function(){return new o({onlyShowFolders:!0,rootFoldersToShow:this.props.rootFoldersToShow,onClick:this.onClick,dndOptions:this.props.dndOptions,href:this.hrefFor}).render().$el.appendTo(this.refs.FolderTreeHolder.getDOMNode()),this.expandTillCurrentFolder(this.props)},componentWillReceiveProps:function(r){return this.expandTillCurrentFolder(r)},onClick:function(r,e){return r.preventDefault(),this.transitionTo(e.urlPath()?"folder":"rootFolder",{splat:e.urlPath()})},hrefFor:function(r){return this.makeHref(r.urlPath()?"folder":"rootFolder",{splat:r.urlPath()})},expandTillCurrentFolder:function(r){var e;return(e=function(o){var t,n;if(t=null!=(n=r.rootTillCurrentFolder)?n[o]:void 0)return t.expand(!1,{onlyShowFolders:!0}).then(function(){return e(o+1)})})(0)},render:function(){return r.DOM.div({className:"ef-folder-list",ref:"FolderTreeHolder"})}})})}).call(this);